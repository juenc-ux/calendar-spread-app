{"ast":null,"code":"var _jsxFileName = \"/workspace/src/App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Calendar, Download, Moon, Sun } from 'lucide-react';\nimport { Analytics } from '@vercel/analytics/react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ForwardVolCalculator() {\n  _s();\n  const [date1, setDate1] = useState('2025-10-24');\n  const [date2, setDate2] = useState('2025-10-31');\n  const [iv1, setIv1] = useState('50');\n  const [iv2, setIv2] = useState('40');\n  const [spotPrice, setSpotPrice] = useState('100');\n  const [strikePrice, setStrikePrice] = useState('100');\n  const [riskFreeRate, setRiskFreeRate] = useState('4');\n  const [dividend, setDividend] = useState('0');\n  const [showCalendar1, setShowCalendar1] = useState(false);\n  const [showCalendar2, setShowCalendar2] = useState(false);\n  const [result, setResult] = useState(null);\n  const [darkMode, setDarkMode] = useState(false);\n  const [tradeHistory, setTradeHistory] = useState([]);\n  const [callPriceSlider, setCallPriceSlider] = useState(null);\n  const [putPriceSlider, setPutPriceSlider] = useState(null);\n  const [adjustedFFCall, setAdjustedFFCall] = useState(null);\n  const [adjustedFFPut, setAdjustedFFPut] = useState(null);\n  const [pricingModel, setPricingModel] = useState('blackscholes');\n  const [ticker, setTicker] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [loadError, setLoadError] = useState(null);\n  const [apiKey, setApiKey] = useState(localStorage.getItem('polygonKey') || '');\n  const [fmpApiKey, setFmpApiKey] = useState(localStorage.getItem('fmpKey') || 'FjOgXW2EKCdlZWfAQTwkxja7WGS8RERD');\n  const [showTickerDropdown, setShowTickerDropdown] = useState(false);\n  const [filteredTickers, setFilteredTickers] = useState([]);\n  const [volumeCallT1, setVolumeCallT1] = useState(null);\n  const [volumeCallT2, setVolumeCallT2] = useState(null);\n  const [oiCallT1, setOiCallT1] = useState(null);\n  const [oiCallT2, setOiCallT2] = useState(null);\n  const [availableExpirations, setAvailableExpirations] = useState(() => {\n    // Default: next 50 Fridays\n    const today = new Date();\n    const fridays = [];\n    let currentDate = new Date(today);\n    while (fridays.length < 50) {\n      currentDate.setDate(currentDate.getDate() + 1);\n      if (currentDate.getDay() === 5) {\n        fridays.push(currentDate.toISOString().split('T')[0]);\n      }\n    }\n    return fridays;\n  });\n  const [marketCap, setMarketCap] = useState(null);\n  const [avgOptionsVolume, setAvgOptionsVolume] = useState(null);\n  const [recommendedSpreads, setRecommendedSpreads] = useState([]);\n  const [scanningForSpreads, setScanningForSpreads] = useState(false);\n  const [nextEarningsDate, setNextEarningsDate] = useState(null);\n  const [earningsTime, setEarningsTime] = useState(null);\n  const [earningsConflict, setEarningsConflict] = useState(null);\n  const [currentUser, setCurrentUser] = useState(() => {\n    return localStorage.getItem('currentUser') || 'Nils';\n  });\n  const [hidePostEarningsSpreads, setHidePostEarningsSpreads] = useState(false);\n  const [marketScanResults, setMarketScanResults] = useState([]);\n  const [loadingMarketScan, setLoadingMarketScan] = useState(false);\n  const [lastMarketScan, setLastMarketScan] = useState(null);\n  const [minOpenInterest, setMinOpenInterest] = useState(100);\n  const [minVolume, setMinVolume] = useState(0);\n  const [maxDTEGap, setMaxDTEGap] = useState(200); // Maximum gap between expirations in days\n  const [recentTickers, setRecentTickers] = useState(() => {\n    const saved = localStorage.getItem(`recentTickers_${currentUser}`);\n    return saved ? JSON.parse(saved) : [];\n  });\n  const [watchlist, setWatchlist] = useState(() => {\n    const saved = localStorage.getItem(`watchlist_${currentUser}`);\n    return saved ? JSON.parse(saved) : [];\n  });\n  const [priceSource, setPriceSource] = useState('');\n\n  // Reload user-specific data when user changes\n  useEffect(() => {\n    const savedWatchlist = localStorage.getItem(`watchlist_${currentUser}`);\n    const savedRecent = localStorage.getItem(`recentTickers_${currentUser}`);\n    setWatchlist(savedWatchlist ? JSON.parse(savedWatchlist) : []);\n    setRecentTickers(savedRecent ? JSON.parse(savedRecent) : []);\n  }, [currentUser]);\n\n  // Popular US stocks for autocomplete\n  const popularStocks = [{\n    symbol: 'AAPL',\n    name: 'Apple Inc.'\n  }, {\n    symbol: 'MSFT',\n    name: 'Microsoft Corporation'\n  }, {\n    symbol: 'GOOGL',\n    name: 'Alphabet Inc.'\n  }, {\n    symbol: 'AMZN',\n    name: 'Amazon.com Inc.'\n  }, {\n    symbol: 'NVDA',\n    name: 'NVIDIA Corporation'\n  }, {\n    symbol: 'META',\n    name: 'Meta Platforms Inc.'\n  }, {\n    symbol: 'TSLA',\n    name: 'Tesla Inc.'\n  }, {\n    symbol: 'BRK.B',\n    name: 'Berkshire Hathaway Inc.'\n  }, {\n    symbol: 'V',\n    name: 'Visa Inc.'\n  }, {\n    symbol: 'JPM',\n    name: 'JPMorgan Chase & Co.'\n  }, {\n    symbol: 'WMT',\n    name: 'Walmart Inc.'\n  }, {\n    symbol: 'JNJ',\n    name: 'Johnson & Johnson'\n  }, {\n    symbol: 'MA',\n    name: 'Mastercard Inc.'\n  }, {\n    symbol: 'PG',\n    name: 'Procter & Gamble Co.'\n  }, {\n    symbol: 'UNH',\n    name: 'UnitedHealth Group Inc.'\n  }, {\n    symbol: 'HD',\n    name: 'Home Depot Inc.'\n  }, {\n    symbol: 'DIS',\n    name: 'Walt Disney Co.'\n  }, {\n    symbol: 'BAC',\n    name: 'Bank of America Corp.'\n  }, {\n    symbol: 'ADBE',\n    name: 'Adobe Inc.'\n  }, {\n    symbol: 'CRM',\n    name: 'Salesforce Inc.'\n  }, {\n    symbol: 'NFLX',\n    name: 'Netflix Inc.'\n  }, {\n    symbol: 'CMCSA',\n    name: 'Comcast Corporation'\n  }, {\n    symbol: 'XOM',\n    name: 'Exxon Mobil Corporation'\n  }, {\n    symbol: 'COST',\n    name: 'Costco Wholesale Corp.'\n  }, {\n    symbol: 'PEP',\n    name: 'PepsiCo Inc.'\n  }, {\n    symbol: 'TMO',\n    name: 'Thermo Fisher Scientific Inc.'\n  }, {\n    symbol: 'ABT',\n    name: 'Abbott Laboratories'\n  }, {\n    symbol: 'NKE',\n    name: 'Nike Inc.'\n  }, {\n    symbol: 'CSCO',\n    name: 'Cisco Systems Inc.'\n  }, {\n    symbol: 'ORCL',\n    name: 'Oracle Corporation'\n  }, {\n    symbol: 'AMD',\n    name: 'Advanced Micro Devices Inc.'\n  }, {\n    symbol: 'INTC',\n    name: 'Intel Corporation'\n  }, {\n    symbol: 'QCOM',\n    name: 'Qualcomm Inc.'\n  }, {\n    symbol: 'TXN',\n    name: 'Texas Instruments Inc.'\n  }, {\n    symbol: 'AVGO',\n    name: 'Broadcom Inc.'\n  }, {\n    symbol: 'CVX',\n    name: 'Chevron Corporation'\n  }, {\n    symbol: 'KO',\n    name: 'Coca-Cola Co.'\n  }, {\n    symbol: 'MCD',\n    name: 'McDonald\\'s Corporation'\n  }, {\n    symbol: 'PYPL',\n    name: 'PayPal Holdings Inc.'\n  }, {\n    symbol: 'UBER',\n    name: 'Uber Technologies Inc.'\n  }, {\n    symbol: 'BA',\n    name: 'Boeing Co.'\n  }, {\n    symbol: 'CAT',\n    name: 'Caterpillar Inc.'\n  }, {\n    symbol: 'GE',\n    name: 'General Electric Co.'\n  }, {\n    symbol: 'F',\n    name: 'Ford Motor Co.'\n  }, {\n    symbol: 'GM',\n    name: 'General Motors Co.'\n  }, {\n    symbol: 'SBUX',\n    name: 'Starbucks Corporation'\n  }, {\n    symbol: 'PLTR',\n    name: 'Palantir Technologies Inc.'\n  }, {\n    symbol: 'COIN',\n    name: 'Coinbase Global Inc.'\n  }, {\n    symbol: 'SQ',\n    name: 'Block Inc.'\n  }, {\n    symbol: 'SNOW',\n    name: 'Snowflake Inc.'\n  }, {\n    symbol: 'SPY',\n    name: 'SPDR S&P 500 ETF Trust'\n  }, {\n    symbol: 'QQQ',\n    name: 'Invesco QQQ Trust'\n  }, {\n    symbol: 'IWM',\n    name: 'iShares Russell 2000 ETF'\n  }, {\n    symbol: 'DIA',\n    name: 'SPDR Dow Jones Industrial Average ETF'\n  }, {\n    symbol: 'VTI',\n    name: 'Vanguard Total Stock Market ETF'\n  }, {\n    symbol: 'VOO',\n    name: 'Vanguard S&P 500 ETF'\n  }, {\n    symbol: 'GLD',\n    name: 'SPDR Gold Trust'\n  }, {\n    symbol: 'SLV',\n    name: 'iShares Silver Trust'\n  }, {\n    symbol: 'TLT',\n    name: 'iShares 20+ Year Treasury Bond ETF'\n  }, {\n    symbol: 'XLE',\n    name: 'Energy Select Sector SPDR Fund'\n  }, {\n    symbol: 'XLF',\n    name: 'Financial Select Sector SPDR Fund'\n  }, {\n    symbol: 'XLK',\n    name: 'Technology Select Sector SPDR Fund'\n  }];\n  const handleTickerChange = value => {\n    const upper = value.toUpperCase();\n    setTicker(upper);\n    if (upper.length > 0) {\n      const matches = popularStocks.filter(stock => stock.symbol.startsWith(upper) || stock.name.toUpperCase().includes(upper)).slice(0, 10);\n      setFilteredTickers(matches);\n      setShowTickerDropdown(matches.length > 0);\n    } else {\n      setFilteredTickers([]);\n      setShowTickerDropdown(false);\n    }\n  };\n  const selectTicker = symbol => {\n    setTicker(symbol);\n    setShowTickerDropdown(false);\n    setFilteredTickers([]);\n  };\n  const loadDemoData = () => {\n    // Demo data for SPY\n    setTicker('SPY');\n    setSpotPrice('580.25');\n    setStrikePrice('580');\n    setDate1('2025-10-24');\n    setDate2('2025-10-31');\n    setIv1('12.5');\n    setIv2('11.8');\n    setRiskFreeRate('4.5');\n    setDividend('1.2');\n\n    // Auto-calculate\n    setTimeout(() => calculateResults(), 100);\n  };\n\n  // Add ticker to recent tickers list\n  const addToRecentTickers = symbol => {\n    const upperSymbol = symbol.toUpperCase().trim();\n    const updated = [upperSymbol, ...recentTickers.filter(t => t !== upperSymbol)].slice(0, 6);\n    setRecentTickers(updated);\n    localStorage.setItem(`recentTickers_${currentUser}`, JSON.stringify(updated));\n  };\n  const addToWatchlist = (symbol, bestFF, hasEarnings, earningsDate, price, spreadData = null) => {\n    const upperSymbol = symbol.toUpperCase().trim();\n    const updated = [{\n      symbol: upperSymbol,\n      bestFF: bestFF,\n      hasEarnings: hasEarnings,\n      earningsDate: earningsDate,\n      price: price,\n      spreadData: spreadData,\n      // Calendar spread details if applicable\n      lastUpdated: new Date().toISOString()\n    }, ...watchlist.filter(item => item.symbol !== upperSymbol)].slice(0, 10); // Keep max 10 items\n    setWatchlist(updated);\n    localStorage.setItem(`watchlist_${currentUser}`, JSON.stringify(updated));\n  };\n  const addSpreadToWatchlist = spread => {\n    const spreadId = `${spread.date1}-${spread.date2}-${spread.strike}`;\n    const updated = [{\n      id: spreadId,\n      type: 'spread',\n      symbol: ticker,\n      date1: spread.date1,\n      date2: spread.date2,\n      dte1: spread.dte1,\n      dte2: spread.dte2,\n      ff: spread.ff,\n      strike: spread.strike,\n      iv1: spread.iv1,\n      iv2: spread.iv2,\n      callSpread: spread.callSpread,\n      lastUpdated: new Date().toISOString()\n    }, ...watchlist.filter(item => item.id !== spreadId)].slice(0, 10); // Keep max 10 items\n    setWatchlist(updated);\n    localStorage.setItem(`watchlist_${currentUser}`, JSON.stringify(updated));\n  };\n  const fetchMarketScan = async () => {\n    console.log('ðŸ” Starting market scan...');\n    setLoadingMarketScan(true);\n    try {\n      console.log('ðŸ“¡ Fetching /api/market-scan...');\n      const response = await fetch('/api/market-scan');\n      console.log('ðŸ“¡ Response status:', response.status);\n      const data = await response.json();\n      console.log('ðŸ“¡ Response data:', data);\n      if (data.success) {\n        console.log('âœ… Market scan successful, setting results:', data.results.length, 'stocks');\n        setMarketScanResults(data.results);\n        setLastMarketScan(data.lastScan);\n      } else {\n        console.log('âŒ Market scan failed:', data);\n      }\n    } catch (error) {\n      console.error('âŒ Error fetching market scan:', error);\n    }\n    setLoadingMarketScan(false);\n    console.log('ðŸ” Market scan completed');\n  };\n  const fetchOptionData = async tickerSymbol => {\n    if (!tickerSymbol || tickerSymbol.trim() === '') {\n      setLoadError('Please enter a ticker symbol');\n      return;\n    }\n    if (!apiKey || apiKey.trim() === '') {\n      setLoadError('Please enter your Polygon.io API key');\n      return;\n    }\n    setLoading(true);\n    setLoadError(null);\n\n    // Reset earnings data when loading new ticker\n    setNextEarningsDate(null);\n    setEarningsTime(null);\n    try {\n      const symbol = tickerSymbol.toUpperCase().trim();\n      console.log('Fetching data for:', symbol);\n\n      // Save API key to localStorage\n      localStorage.setItem('polygonKey', apiKey);\n\n      // 1. Get current price (real-time data from Tradier with Polygon fallback)\n      const today = new Date();\n      let currentPrice = null;\n      let priceSource = '';\n\n      // Try Tradier API first for live data\n      try {\n        console.log('Fetching live price from Tradier API...');\n        const quoteUrl = `/api/tradier-quote?symbol=${symbol}`;\n        const quoteResponse = await fetch(quoteUrl);\n        if (quoteResponse.ok) {\n          const quoteData = await quoteResponse.json();\n          console.log('Tradier quote data:', quoteData);\n          if (quoteData.success && quoteData.price > 0) {\n            var _quoteData$changePerc;\n            currentPrice = quoteData.price;\n            priceSource = 'Tradier (Live)';\n            console.log(`âœ… Live price loaded: $${currentPrice.toFixed(2)} (${quoteData.change >= 0 ? '+' : ''}${(_quoteData$changePerc = quoteData.changePercentage) === null || _quoteData$changePerc === void 0 ? void 0 : _quoteData$changePerc.toFixed(2)}%)`);\n          }\n        }\n      } catch (error) {\n        console.log('Tradier API failed, falling back to Polygon:', error.message);\n      }\n\n      // Fallback to Polygon.io if Tradier fails\n      if (!currentPrice) {\n        console.log('Fetching price from Polygon.io (fallback)...');\n        const quoteUrl = `https://api.polygon.io/v2/aggs/ticker/${symbol}/prev?adjusted=true&apiKey=${apiKey}`;\n        const quoteResponse = await fetch(quoteUrl);\n        if (!quoteResponse.ok) {\n          throw new Error(`API Error (${quoteResponse.status}). Check your API key.`);\n        }\n        const quoteData = await quoteResponse.json();\n        console.log('Polygon quote data:', quoteData);\n        if (quoteData.status === 'ERROR') {\n          throw new Error(quoteData.error || 'Invalid ticker symbol');\n        }\n        if (!quoteData.results || quoteData.results.length === 0) {\n          throw new Error('No price data available for this ticker');\n        }\n        const result = quoteData.results[0];\n        currentPrice = result.c; // closing price\n        priceSource = 'Polygon (Previous Close)';\n        if (!currentPrice || currentPrice <= 0) {\n          throw new Error('No valid price data available');\n        }\n        console.log(`âœ… Price loaded from ${priceSource}: $${currentPrice.toFixed(2)}`);\n      }\n      setSpotPrice(currentPrice.toFixed(2));\n      setPriceSource(priceSource);\n\n      // 2. Get ticker details (market cap)\n      try {\n        const tickerDetailsUrl = `https://api.polygon.io/v3/reference/tickers/${symbol}?apiKey=${apiKey}`;\n        const tickerDetailsResponse = await fetch(tickerDetailsUrl);\n        if (tickerDetailsResponse.ok) {\n          var _tickerDetailsData$re;\n          const tickerDetailsData = await tickerDetailsResponse.json();\n          if ((_tickerDetailsData$re = tickerDetailsData.results) !== null && _tickerDetailsData$re !== void 0 && _tickerDetailsData$re.market_cap) {\n            setMarketCap(tickerDetailsData.results.market_cap);\n          }\n        }\n      } catch (error) {\n        console.log('Could not load market cap:', error);\n      }\n\n      // 3. Load available expiration dates using Options Contracts Reference API\n      let expirationDates = [];\n      try {\n        console.log('Fetching available expiration dates...');\n        let contractsUrl = `https://api.polygon.io/v3/reference/options/contracts?underlying_ticker=${symbol}&expired=false&limit=1000&apiKey=${apiKey}`;\n        const allDates = new Set();\n\n        // Fetch all pages (pagination)\n        while (contractsUrl) {\n          const contractsResponse = await fetch(contractsUrl);\n          if (contractsResponse.ok) {\n            const contractsData = await contractsResponse.json();\n            if (contractsData.results && contractsData.results.length > 0) {\n              contractsData.results.forEach(contract => {\n                if (contract.expiration_date) {\n                  allDates.add(contract.expiration_date);\n                }\n              });\n            }\n\n            // Check for next page\n            contractsUrl = contractsData.next_url ? `${contractsData.next_url}&apiKey=${apiKey}` : null;\n          } else {\n            break;\n          }\n        }\n\n        // Sort dates and filter future dates only\n        expirationDates = Array.from(allDates).sort().filter(date => new Date(date) > today);\n        setAvailableExpirations(expirationDates);\n        console.log(`Found ${expirationDates.length} available expiration dates`);\n      } catch (error) {\n        console.log('Could not load expiration dates:', error);\n      }\n\n      // 4. Set default dates (use first two available, or calculate Fridays as fallback)\n      let exp1Date, exp2Date;\n      if (expirationDates.length >= 2) {\n        exp1Date = expirationDates[0];\n        exp2Date = expirationDates[1];\n        setDate1(exp1Date);\n        setDate2(exp2Date);\n      } else {\n        // Fallback: Calculate next two Fridays\n        const fridays = [];\n        let currentDate = new Date(today);\n        while (fridays.length < 2) {\n          if (currentDate.getDay() === 5 && currentDate > today) {\n            fridays.push(new Date(currentDate));\n          }\n          currentDate.setDate(currentDate.getDate() + 1);\n        }\n        exp1Date = fridays[0].toISOString().split('T')[0];\n        exp2Date = fridays[1].toISOString().split('T')[0];\n        setDate1(exp1Date);\n        setDate2(exp2Date);\n      }\n\n      // 4.5. Calculate average options volume (20 trading days)\n      const avgVol = await calculateAvgOptionsVolume(symbol, apiKey);\n      if (avgVol !== null) {\n        setAvgOptionsVolume(avgVol);\n      }\n\n      // 4.6. Fetch earnings date\n      console.log('About to fetch earnings date...');\n      await fetchEarningsDate(symbol, apiKey);\n      console.log('Earnings fetch completed');\n\n      // 5. Set ATM strike (rounded to nearest $5)\n      const roundedStrike = Math.round(currentPrice / 5) * 5;\n      setStrikePrice(roundedStrike.toFixed(2));\n\n      // 6. Try to get options data using Option Chain Snapshot API with date filters\n      let gotRealIV1 = false;\n      let gotRealIV2 = false;\n      let totalVolume = 0;\n      let volumeCount = 0;\n      try {\n        // Fetch expiration 1 options with date filter\n        const chain1Url = `https://api.polygon.io/v3/snapshot/options/${symbol}?expiration_date.gte=${exp1Date}&expiration_date.lte=${exp1Date}&contract_type=call&limit=250&apiKey=${apiKey}`;\n        console.log('Fetching options chain for expiration 1...');\n        const chain1Response = await fetch(chain1Url);\n        if (chain1Response.ok) {\n          const chain1Data = await chain1Response.json();\n          console.log('Expiration 1 options data:', chain1Data);\n          if (chain1Data.status === 'OK' && chain1Data.results && chain1Data.results.length > 0) {\n            // Find ATM call option - closest to rounded strike\n            const atmCall = chain1Data.results.filter(opt => {\n              var _opt$details;\n              return ((_opt$details = opt.details) === null || _opt$details === void 0 ? void 0 : _opt$details.strike_price) && Math.abs(opt.details.strike_price - roundedStrike) < 20;\n            }).sort((a, b) => Math.abs(a.details.strike_price - roundedStrike) - Math.abs(b.details.strike_price - roundedStrike))[0];\n            if (atmCall) {\n              var _atmCall$day;\n              if (atmCall.implied_volatility !== undefined && atmCall.implied_volatility > 0) {\n                const iv1Value = (atmCall.implied_volatility * 100).toFixed(2);\n                setIv1(iv1Value);\n                gotRealIV1 = true;\n              }\n              if (((_atmCall$day = atmCall.day) === null || _atmCall$day === void 0 ? void 0 : _atmCall$day.volume) !== undefined) {\n                setVolumeCallT1(atmCall.day.volume);\n                totalVolume += atmCall.day.volume;\n                volumeCount++;\n              }\n              if (atmCall.open_interest !== undefined) {\n                setOiCallT1(atmCall.open_interest);\n              }\n            }\n\n            // Calculate average volume from all options in this expiration\n            chain1Data.results.forEach(opt => {\n              var _opt$day;\n              if (((_opt$day = opt.day) === null || _opt$day === void 0 ? void 0 : _opt$day.volume) !== undefined && opt.day.volume > 0) {\n                totalVolume += opt.day.volume;\n                volumeCount++;\n              }\n            });\n          }\n        }\n\n        // Fetch expiration 2 options with date filter\n        const chain2Url = `https://api.polygon.io/v3/snapshot/options/${symbol}?expiration_date.gte=${exp2Date}&expiration_date.lte=${exp2Date}&contract_type=call&limit=250&apiKey=${apiKey}`;\n        console.log('Fetching options chain for expiration 2...');\n        const chain2Response = await fetch(chain2Url);\n        if (chain2Response.ok) {\n          const chain2Data = await chain2Response.json();\n          console.log('Expiration 2 options data:', chain2Data);\n          if (chain2Data.status === 'OK' && chain2Data.results && chain2Data.results.length > 0) {\n            // Find ATM call option - closest to rounded strike\n            const atmCall = chain2Data.results.filter(opt => {\n              var _opt$details2;\n              return ((_opt$details2 = opt.details) === null || _opt$details2 === void 0 ? void 0 : _opt$details2.strike_price) && Math.abs(opt.details.strike_price - roundedStrike) < 20;\n            }).sort((a, b) => Math.abs(a.details.strike_price - roundedStrike) - Math.abs(b.details.strike_price - roundedStrike))[0];\n            if (atmCall) {\n              var _atmCall$day2;\n              if (atmCall.implied_volatility !== undefined && atmCall.implied_volatility > 0) {\n                const iv2Value = (atmCall.implied_volatility * 100).toFixed(2);\n                setIv2(iv2Value);\n                gotRealIV2 = true;\n              }\n              if (((_atmCall$day2 = atmCall.day) === null || _atmCall$day2 === void 0 ? void 0 : _atmCall$day2.volume) !== undefined) {\n                setVolumeCallT2(atmCall.day.volume);\n                totalVolume += atmCall.day.volume;\n                volumeCount++;\n              }\n              if (atmCall.open_interest !== undefined) {\n                setOiCallT2(atmCall.open_interest);\n              }\n            }\n\n            // Calculate average volume from all options in this expiration\n            chain2Data.results.forEach(opt => {\n              var _opt$day2;\n              if (((_opt$day2 = opt.day) === null || _opt$day2 === void 0 ? void 0 : _opt$day2.volume) !== undefined && opt.day.volume > 0) {\n                totalVolume += opt.day.volume;\n                volumeCount++;\n              }\n            });\n          }\n        }\n\n        // Calculate and set average options volume\n        if (volumeCount > 0) {\n          const avgVol = Math.round(totalVolume / volumeCount);\n          setAvgOptionsVolume(avgVol);\n          console.log(`Average options volume: ${avgVol} (from ${volumeCount} contracts)`);\n        }\n\n        // If we didn't get real IV data, use defaults\n        if (!gotRealIV1 || !gotRealIV2) {\n          console.log('Options data not available (expected with free tier), using defaults');\n          if (!gotRealIV1) setIv1('30');\n          if (!gotRealIV2) setIv2('28');\n        }\n      } catch (optError) {\n        console.log('Error fetching options data:', optError);\n        // Use reasonable defaults based on historical volatility\n        setIv1('30');\n        setIv2('28');\n      }\n      setLoading(false);\n      setLoadError(null);\n      if (gotRealIV1 && gotRealIV2) {\n        console.log('âœ… Stock price and real IV data loaded from Polygon.io!');\n      } else {\n        console.log('âœ… Stock price loaded! IV values are estimates (upgrade for real IV data)');\n      }\n\n      // Auto-calculate after loading data\n      setTimeout(() => calculateResults(), 100);\n\n      // Add to recent tickers on successful load\n      addToRecentTickers(symbol);\n    } catch (error) {\n      console.error('Error fetching option data:', error);\n      setLoadError(error.message || 'Failed to load option data');\n      setLoading(false);\n    }\n  };\n\n  // Fetch next earnings date using our serverless API (bypasses CORS)\n  const fetchEarningsDate = async (symbol, apiKey) => {\n    try {\n      console.log('ðŸ“Š Fetching earnings date for:', symbol);\n\n      // Use our serverless API endpoint (works both locally and deployed)\n      const apiUrl = `/api/earnings?symbol=${symbol}`;\n      console.log('Fetching from API:', apiUrl);\n      const response = await fetch(apiUrl);\n      console.log('API response status:', response.status);\n      if (response.ok) {\n        const data = await response.json();\n        console.log('API data received:', data);\n        if (data.success && data.earningsDate) {\n          setNextEarningsDate(data.earningsDate);\n          setEarningsTime(data.earningsTime || 'Scheduled');\n          console.log('âœ… Successfully set earnings date:', data.earningsDate, data.earningsTime);\n          return;\n        } else {\n          console.log('No earnings data in response');\n        }\n      } else {\n        const errorData = await response.json();\n        console.error('API error:', response.status, errorData);\n      }\n\n      // If no earnings found\n      setNextEarningsDate(null);\n      setEarningsTime(null);\n      console.log('â„¹ï¸ No upcoming earnings found for', symbol);\n    } catch (error) {\n      console.error('âŒ Error fetching earnings date:', error);\n      setNextEarningsDate(null);\n      setEarningsTime(null);\n    }\n  };\n\n  // Calculate average TOTAL options volume (puts + calls) over last 20 trading days\n  const calculateAvgOptionsVolume = async (symbol, apiKey) => {\n    try {\n      console.log('Calculating average TOTAL options volume (puts + calls, 20 days)...');\n\n      // Calculate last 20 trading days (skip weekends)\n      const tradingDays = [];\n      let currentDate = new Date();\n      while (tradingDays.length < 20) {\n        currentDate.setDate(currentDate.getDate() - 1);\n        const dayOfWeek = currentDate.getDay();\n        // Skip weekends (0 = Sunday, 6 = Saturday)\n        if (dayOfWeek !== 0 && dayOfWeek !== 6) {\n          tradingDays.push(currentDate.toISOString().split('T')[0]);\n        }\n      }\n\n      // Fetch snapshots for all 20 days in parallel (no rate limit!)\n      const promises = tradingDays.map(date => fetch(`https://api.polygon.io/v3/snapshot/options/${symbol}?expiration_date=${date}&limit=1000&apiKey=${apiKey}`).then(res => res.json()).catch(err => {\n        console.log(`Failed to fetch snapshot for ${date}:`, err);\n        return null;\n      }));\n      const responses = await Promise.all(promises);\n\n      // Calculate total volume per day, then average across days\n      const dailyVolumes = [];\n      responses.forEach((data, index) => {\n        if (data !== null && data !== void 0 && data.results && data.results.length > 0) {\n          let dayTotal = 0;\n          data.results.forEach(opt => {\n            var _opt$day3;\n            if ((_opt$day3 = opt.day) !== null && _opt$day3 !== void 0 && _opt$day3.volume && opt.day.volume > 0) {\n              dayTotal += opt.day.volume;\n            }\n          });\n          if (dayTotal > 0) {\n            dailyVolumes.push(dayTotal);\n          }\n        }\n      });\n      if (dailyVolumes.length > 0) {\n        const totalVolume = dailyVolumes.reduce((sum, vol) => sum + vol, 0);\n        const avgDailyVol = Math.round(totalVolume / dailyVolumes.length);\n        console.log(`Average daily TOTAL options volume (puts + calls): ${avgDailyVol.toLocaleString()} (from ${dailyVolumes.length} days)`);\n        return avgDailyVol;\n      }\n      return null;\n    } catch (error) {\n      console.error('Error calculating avg options volume:', error);\n      return null;\n    }\n  };\n\n  // Scan all expiration combinations to find highest FF spreads\n  const scanCalendarSpreads = async () => {\n    if (!ticker || !apiKey || availableExpirations.length < 2) return;\n    setScanningForSpreads(true);\n    setRecommendedSpreads([]);\n    try {\n      const symbol = ticker.toUpperCase().trim();\n      const S = parseFloat(spotPrice);\n      const r = parseFloat(riskFreeRate) / 100;\n      const q = parseFloat(dividend) / 100;\n\n      // Check if we have enough expirations\n      if (availableExpirations.length < 2) {\n        setLoadError(`Not enough expirations found for ${symbol}. Found ${availableExpirations.length} expirations, need at least 2. This ticker may not have active options trading. Try a major stock like AAPL, TSLA, or SPY.`);\n        setScanningForSpreads(false);\n        return;\n      }\n\n      // Fetch IV data for up to first 20 expirations (to avoid too many API calls)\n      const expsToScan = availableExpirations.slice(0, 20); // Back to original: scan all available expirations\n\n      console.log('=== SCAN START ===');\n      console.log('Ticker:', symbol);\n      console.log('Spot Price:', S);\n      console.log('Available expirations:', availableExpirations.length);\n      console.log('Will scan first:', expsToScan.length);\n      console.log('Expirations to scan:', expsToScan);\n\n      // Fetch IV for all expirations in parallel (both calls and puts)\n      const ivPromises = expsToScan.map(async (expDate, index) => {\n        const maxRetries = 2; // Back to original: more reliable API calls\n        let retryCount = 0;\n        while (retryCount <= maxRetries) {\n          try {\n            console.log(`[${index + 1}/${expsToScan.length}] Fetching IV for ${expDate}${retryCount > 0 ? ` (retry ${retryCount})` : ''}...`);\n\n            // Add timeout for API calls\n            const timeoutPromise = new Promise((_, reject) => setTimeout(() => reject(new Error('API timeout')), 15000) // Back to original: longer timeout for reliability\n            );\n\n            // Fetch both calls and puts with timeout\n            const [callsResponse, putsResponse] = await Promise.race([Promise.all([fetch(`https://api.polygon.io/v3/snapshot/options/${symbol}?expiration_date.gte=${expDate}&expiration_date.lte=${expDate}&contract_type=call&limit=250&apiKey=${apiKey}`), fetch(`https://api.polygon.io/v3/snapshot/options/${symbol}?expiration_date.gte=${expDate}&expiration_date.lte=${expDate}&contract_type=put&limit=250&apiKey=${apiKey}`)]), timeoutPromise]);\n            console.log(`  â†’ Calls response status: ${callsResponse.status}`);\n            console.log(`  â†’ Puts response status: ${putsResponse.status}`);\n            if (callsResponse.ok && putsResponse.ok) {\n              var _callsData$results, _putsData$results;\n              const [callsData, putsData] = await Promise.all([callsResponse.json(), putsResponse.json()]);\n              console.log(`  â†’ Calls API Status: ${callsData.status}, Results: ${((_callsData$results = callsData.results) === null || _callsData$results === void 0 ? void 0 : _callsData$results.length) || 0}`);\n              console.log(`  â†’ Puts API Status: ${putsData.status}, Results: ${((_putsData$results = putsData.results) === null || _putsData$results === void 0 ? void 0 : _putsData$results.length) || 0}`);\n              if (callsData.status === 'OK' && callsData.results && callsData.results.length > 0) {\n                var _putsData$results2;\n                // Find strike closest to 0.5 delta, fallback to ATM\n                // For stocks under $10, use $1 increments, otherwise $5 increments\n                const atmStrike = S < 10 ? Math.round(S) : Math.round(S / 5) * 5;\n                console.log(`  â†’ Current price: $${S}, ATM strike: $${atmStrike}`);\n                const calls = callsData.results.filter(opt => {\n                  var _opt$details3, _opt$details4;\n                  return ((_opt$details3 = opt.details) === null || _opt$details3 === void 0 ? void 0 : _opt$details3.strike_price) && ((_opt$details4 = opt.details) === null || _opt$details4 === void 0 ? void 0 : _opt$details4.contract_type) === 'call' && opt.implied_volatility > 0;\n                });\n                const puts = ((_putsData$results2 = putsData.results) === null || _putsData$results2 === void 0 ? void 0 : _putsData$results2.filter(opt => {\n                  var _opt$details5, _opt$details6;\n                  return ((_opt$details5 = opt.details) === null || _opt$details5 === void 0 ? void 0 : _opt$details5.strike_price) && ((_opt$details6 = opt.details) === null || _opt$details6 === void 0 ? void 0 : _opt$details6.contract_type) === 'put' && opt.implied_volatility > 0;\n                })) || [];\n                if (calls.length > 0) {\n                  // Find strike with delta closest to 0.5 (for calls)\n                  const callsWithDelta = calls.filter(opt => {\n                    var _opt$greeks;\n                    return ((_opt$greeks = opt.greeks) === null || _opt$greeks === void 0 ? void 0 : _opt$greeks.delta) !== undefined;\n                  });\n                  if (callsWithDelta.length > 0) {\n                    // Sort by delta closest to 0.5\n                    const sortedCalls = callsWithDelta.sort((a, b) => {\n                      const deltaA = Math.abs(a.greeks.delta - 0.5);\n                      const deltaB = Math.abs(b.greeks.delta - 0.5);\n                      return deltaA - deltaB;\n                    });\n                    const selectedCall = sortedCalls[0];\n                    if (selectedCall && selectedCall.implied_volatility > 0) {\n                      console.log(`  âœ“ Found call at strike ${selectedCall.details.strike_price}, IV: ${(selectedCall.implied_volatility * 100).toFixed(2)}%, Delta: ${(selectedCall.greeks.delta * 100).toFixed(1)}% (closest to 0.5 delta)`);\n                      // Find corresponding put option\n                      const correspondingPut = puts.find(put => {\n                        var _put$details;\n                        return ((_put$details = put.details) === null || _put$details === void 0 ? void 0 : _put$details.strike_price) === selectedCall.details.strike_price;\n                      });\n                      return {\n                        date: expDate,\n                        iv: selectedCall.implied_volatility,\n                        strike: selectedCall.details.strike_price,\n                        delta: selectedCall.greeks.delta,\n                        callOpenInterest: selectedCall.open_interest || 0,\n                        callVolume: selectedCall.volume || 0,\n                        putOpenInterest: (correspondingPut === null || correspondingPut === void 0 ? void 0 : correspondingPut.open_interest) || 0,\n                        putVolume: (correspondingPut === null || correspondingPut === void 0 ? void 0 : correspondingPut.volume) || 0,\n                        putIv: (correspondingPut === null || correspondingPut === void 0 ? void 0 : correspondingPut.implied_volatility) || 0\n                      };\n                    }\n                  } else {\n                    // Fallback: closest to ATM if no delta data\n                    console.log(`  â†’ No delta data available, using ATM fallback`);\n                    const sortedCalls = calls.sort((a, b) => {\n                      const distA = Math.abs(a.details.strike_price - atmStrike);\n                      const distB = Math.abs(b.details.strike_price - atmStrike);\n                      return distA - distB;\n                    });\n                    const selectedCall = sortedCalls[0];\n                    if (selectedCall && selectedCall.implied_volatility > 0) {\n                      console.log(`  âœ“ Found call at strike ${selectedCall.details.strike_price}, IV: ${(selectedCall.implied_volatility * 100).toFixed(2)}% (ATM fallback)`);\n                      // Find corresponding put option\n                      const correspondingPut = puts.find(put => {\n                        var _put$details2;\n                        return ((_put$details2 = put.details) === null || _put$details2 === void 0 ? void 0 : _put$details2.strike_price) === selectedCall.details.strike_price;\n                      });\n                      return {\n                        date: expDate,\n                        iv: selectedCall.implied_volatility,\n                        strike: selectedCall.details.strike_price,\n                        delta: null,\n                        callOpenInterest: selectedCall.open_interest || 0,\n                        callVolume: selectedCall.volume || 0,\n                        putOpenInterest: (correspondingPut === null || correspondingPut === void 0 ? void 0 : correspondingPut.open_interest) || 0,\n                        putVolume: (correspondingPut === null || correspondingPut === void 0 ? void 0 : correspondingPut.volume) || 0,\n                        putIv: (correspondingPut === null || correspondingPut === void 0 ? void 0 : correspondingPut.implied_volatility) || 0\n                      };\n                    }\n                  }\n                }\n                console.log(`  âœ— No suitable call found for ${expDate} (${calls.length} calls available)`);\n              } else {\n                console.log(`  âœ— No valid results in response`);\n              }\n            } else {\n              console.warn(`  âœ— HTTP Error: Calls ${callsResponse.status}, Puts ${putsResponse.status}`);\n              if (!callsResponse.ok) {\n                const errorText = await callsResponse.text();\n                console.warn(`  âœ— Calls error: ${errorText.substring(0, 200)}...`);\n              }\n              if (!putsResponse.ok) {\n                const errorText = await putsResponse.text();\n                console.warn(`  âœ— Puts error: ${errorText.substring(0, 200)}...`);\n              }\n            }\n          } catch (error) {\n            retryCount++;\n            if (retryCount <= maxRetries) {\n              console.warn(`  âš ï¸ Attempt ${retryCount} failed for ${expDate}: ${error.message}. Retrying...`);\n              await new Promise(resolve => setTimeout(resolve, 1000 * retryCount)); // Exponential backoff\n              continue;\n            } else {\n              if (error.message === 'API timeout') {\n                console.warn(`  â° Timeout for ${expDate} after ${maxRetries} retries - skipping`);\n              } else {\n                console.error(`  âœ— Exception for ${expDate} after ${maxRetries} retries:`, error.message);\n              }\n              break;\n            }\n          }\n        }\n        return null;\n      });\n      const ivResults = (await Promise.all(ivPromises)).filter(r => r !== null);\n      console.log('=== IV FETCH COMPLETE ===');\n      console.log(`Successfully fetched IV for ${ivResults.length}/${expsToScan.length} expirations`);\n      console.log('IV Results:', ivResults);\n      if (ivResults.length < 2) {\n        console.warn('âŒ NOT ENOUGH IV DATA');\n        console.warn(`Only ${ivResults.length} expirations had valid IV data`);\n        console.warn('Expirations scanned:', expsToScan);\n        console.warn('IV Results:', ivResults);\n        if (ivResults.length === 0) {\n          setLoadError(`No options data found for ${symbol}. This ticker may not have active options trading. Try a major stock like AAPL, TSLA, or SPY.`);\n        } else {\n          setLoadError(`Scanner found IV data for only ${ivResults.length}/${expsToScan.length} expirations. This ticker may have limited options data. Try a major stock like AAPL, TSLA, or SPY.`);\n        }\n        setScanningForSpreads(false);\n        return;\n      }\n\n      // Calculate FF for all combinations\n      const spreads = [];\n      const now = new Date();\n      for (let i = 0; i < ivResults.length - 1; i++) {\n        for (let j = i + 1; j < ivResults.length; j++) {\n          const exp1 = ivResults[i];\n          const exp2 = ivResults[j];\n          const d1 = new Date(exp1.date + 'T16:00:00-04:00');\n          const d2 = new Date(exp2.date + 'T16:00:00-04:00');\n          const daysToExp1 = (d1 - now) / (1000 * 60 * 60 * 24);\n          const daysToExp2 = (d2 - now) / (1000 * 60 * 60 * 24);\n          if (daysToExp1 <= 0 || daysToExp2 <= 0) continue;\n          const T1 = daysToExp1 / 365;\n          const T2 = daysToExp2 / 365;\n          const v1 = exp1.iv;\n          const v2 = exp2.iv;\n          const numerator = T2 * v2 * v2 - T1 * v1 * v1;\n          const denominator = T2 - T1;\n          if (numerator > 0 && denominator > 0) {\n            const forwardVol = Math.sqrt(numerator / denominator);\n            const ff = (v1 / forwardVol - 1) * 100;\n\n            // Use the strike from the selected option (prefer delta-based selection)\n            const strike1 = exp1.strike || Math.round(S / 5) * 5;\n            const strike2 = exp2.strike || Math.round(S / 5) * 5;\n\n            // Calculate call spread price using the selected strikes\n            const callT1 = getOptionPrice(S, strike1, T1, r, v1, q, true);\n            const callT2 = getOptionPrice(S, strike2, T2, r, v2, q, true);\n            const callSpread = callT2 - callT1;\n\n            // Calculate put spread price using the selected strikes\n            const putT1 = getOptionPrice(S, strike1, T1, r, v1, q, false);\n            const putT2 = getOptionPrice(S, strike2, T2, r, v2, q, false);\n            const putSpread = putT2 - putT1;\n\n            // Check if front expiration is after earnings\n            let isPostEarnings = false;\n            if (nextEarningsDate) {\n              const earningsDate = new Date(nextEarningsDate);\n              const frontExpDate = new Date(exp1.date);\n              // Post-earnings if front exp is after earnings\n              isPostEarnings = frontExpDate > earningsDate;\n            }\n            spreads.push({\n              date1: exp1.date,\n              date2: exp2.date,\n              dte1: Math.floor(daysToExp1),\n              dte2: Math.floor(daysToExp2),\n              ff: ff,\n              iv1: (v1 * 100).toFixed(2),\n              iv2: (v2 * 100).toFixed(2),\n              callSpread: callSpread.toFixed(2),\n              putSpread: putSpread.toFixed(2),\n              strike: strike1,\n              // Use the selected strike from delta-based selection\n              isPostEarnings: isPostEarnings,\n              // Liquidity data from exp1 (front expiration)\n              callOpenInterest1: exp1.callOpenInterest || 0,\n              callVolume1: exp1.callVolume || 0,\n              putOpenInterest1: exp1.putOpenInterest || 0,\n              putVolume1: exp1.putVolume || 0,\n              // Liquidity data from exp2 (back expiration)\n              callOpenInterest2: exp2.callOpenInterest || 0,\n              callVolume2: exp2.callVolume || 0,\n              putOpenInterest2: exp2.putOpenInterest || 0,\n              putVolume2: exp2.putVolume || 0\n            });\n          } else {\n            // Invalid IV combination - Forward Vol would be imaginary\n            const strike1 = exp1.strike || Math.round(S / 5) * 5;\n            const strike2 = exp2.strike || Math.round(S / 5) * 5;\n\n            // Calculate call spread price using the selected strikes\n            const callT1 = getOptionPrice(S, strike1, T1, r, v1, q, true);\n            const callT2 = getOptionPrice(S, strike2, T2, r, v2, q, true);\n            const callSpread = callT2 - callT1;\n\n            // Calculate put spread price using the selected strikes\n            const putT1 = getOptionPrice(S, strike1, T1, r, v1, q, false);\n            const putT2 = getOptionPrice(S, strike2, T2, r, v2, q, false);\n            const putSpread = putT2 - putT1;\n\n            // Check if front expiration is after earnings\n            let isPostEarnings = false;\n            if (nextEarningsDate) {\n              const earningsDate = new Date(nextEarningsDate);\n              const frontExpDate = new Date(exp1.date);\n              // Post-earnings if front exp is after earnings\n              isPostEarnings = frontExpDate > earningsDate;\n            }\n            spreads.push({\n              date1: exp1.date,\n              date2: exp2.date,\n              dte1: Math.floor(daysToExp1),\n              dte2: Math.floor(daysToExp2),\n              ff: 'âˆž',\n              // Infinity symbol for invalid IV combination\n              iv1: (v1 * 100).toFixed(2),\n              iv2: (v2 * 100).toFixed(2),\n              callSpread: callSpread.toFixed(2),\n              putSpread: putSpread.toFixed(2),\n              strike: strike1,\n              isPostEarnings: isPostEarnings,\n              // Liquidity data from exp1 (front expiration)\n              callOpenInterest1: exp1.callOpenInterest || 0,\n              callVolume1: exp1.callVolume || 0,\n              putOpenInterest1: exp1.putOpenInterest || 0,\n              putVolume1: exp1.putVolume || 0,\n              // Liquidity data from exp2 (back expiration)\n              callOpenInterest2: exp2.callOpenInterest || 0,\n              callVolume2: exp2.callVolume || 0,\n              putOpenInterest2: exp2.putOpenInterest || 0,\n              putVolume2: exp2.putVolume || 0\n            });\n          }\n        }\n      }\n      console.log('=== CALCULATING SPREADS ===');\n      console.log(`Calculating spreads from ${ivResults.length} expirations...`);\n      console.log(`Generated ${spreads.length} total spreads`);\n\n      // Filter out post-earnings spreads if requested\n      let filteredSpreads = spreads;\n      if (hidePostEarningsSpreads) {\n        filteredSpreads = spreads.filter(s => !s.isPostEarnings);\n        console.log(`Filtered to ${filteredSpreads.length} spreads (removed post-earnings)`);\n      }\n\n      // Always filter out options with zero open interest\n      filteredSpreads = filteredSpreads.filter(s => {\n        const callHasOI = s.callOpenInterest1 > 0 && s.callOpenInterest2 > 0;\n        const putHasOI = s.putOpenInterest1 > 0 && s.putOpenInterest2 > 0;\n\n        // At least one option type (call or put) must have open interest\n        return callHasOI || putHasOI;\n      });\n      console.log(`Filtered to ${filteredSpreads.length} spreads (removed zero OI options)`);\n\n      // Apply additional liquidity filters\n      if (minOpenInterest > 0 || minVolume > 0) {\n        filteredSpreads = filteredSpreads.filter(s => {\n          const callOIMeets = s.callOpenInterest1 >= minOpenInterest && s.callOpenInterest2 >= minOpenInterest;\n          const putOIMeets = s.putOpenInterest1 >= minOpenInterest && s.putOpenInterest2 >= minOpenInterest;\n          const callVolMeets = s.callVolume1 >= minVolume && s.callVolume2 >= minVolume;\n          const putVolMeets = s.putVolume1 >= minVolume && s.putVolume2 >= minVolume;\n\n          // At least one option type (call or put) must meet the criteria\n          return callOIMeets && callVolMeets || putOIMeets && putVolMeets;\n        });\n        console.log(`Filtered to ${filteredSpreads.length} spreads (applied additional liquidity filters)`);\n      }\n\n      // Apply DTE gap filter\n      if (maxDTEGap > 0) {\n        filteredSpreads = filteredSpreads.filter(s => {\n          const dteGap = s.dte2 - s.dte1;\n          return dteGap <= maxDTEGap;\n        });\n        console.log(`Filtered to ${filteredSpreads.length} spreads (applied DTE gap filter: max ${maxDTEGap} days)`);\n      }\n\n      // Sort by FF descending and take top 10\n      filteredSpreads.sort((a, b) => b.ff - a.ff);\n      const topSpreads = filteredSpreads.slice(0, 10);\n      console.log('=== SCAN COMPLETE ===');\n      console.log(`Found ${filteredSpreads.length} valid spreads, showing top ${Math.min(10, topSpreads.length)}`);\n      console.log('Top 10 spreads:', topSpreads);\n      console.log('Setting recommended spreads...', topSpreads.length, 'spreads');\n      setRecommendedSpreads(topSpreads);\n      console.log('Recommended spreads set successfully');\n\n      // Add to watchlist with best FF\n      if (topSpreads.length > 0) {\n        const bestSpread = topSpreads[0];\n        addToWatchlist(symbol, bestSpread.ff.toFixed(2), nextEarningsDate !== null, nextEarningsDate, S.toFixed(2));\n      }\n    } catch (error) {\n      console.error('=== SCAN ERROR ===');\n      console.error('Error scanning calendar spreads:', error);\n      console.error('Error stack:', error.stack);\n      setLoadError(`Scan failed: ${error.message}`);\n    }\n    setScanningForSpreads(false);\n  };\n\n  // Calculate DTE (Days to Expiration) for a given date\n  const calculateDTE = expirationDate => {\n    const expDate = new Date(expirationDate + 'T16:00:00-04:00'); // 4 PM EST\n    const now = new Date();\n    const diffMs = expDate - now;\n    const diffDays = diffMs / (1000 * 60 * 60 * 24);\n    return Math.max(0, Math.floor(diffDays));\n  };\n\n  // Function to update IV based on selected expiration date\n  const updateIVForDate = async (expirationDate, isFirstDate) => {\n    if (!ticker || !apiKey || !expirationDate) return;\n    try {\n      const symbol = ticker.toUpperCase().trim();\n      const roundedStrike = Math.round(parseFloat(spotPrice) / 5) * 5;\n      const chainUrl = `https://api.polygon.io/v3/snapshot/options/${symbol}?expiration_date.gte=${expirationDate}&expiration_date.lte=${expirationDate}&contract_type=call&limit=250&apiKey=${apiKey}`;\n      console.log(`Fetching IV for ${expirationDate}...`);\n      const chainResponse = await fetch(chainUrl);\n      if (chainResponse.ok) {\n        const chainData = await chainResponse.json();\n        if (chainData.status === 'OK' && chainData.results && chainData.results.length > 0) {\n          // Find ATM call option - closest to rounded strike\n          const atmCall = chainData.results.filter(opt => {\n            var _opt$details7;\n            return ((_opt$details7 = opt.details) === null || _opt$details7 === void 0 ? void 0 : _opt$details7.strike_price) && Math.abs(opt.details.strike_price - roundedStrike) < 20;\n          }).sort((a, b) => Math.abs(a.details.strike_price - roundedStrike) - Math.abs(b.details.strike_price - roundedStrike))[0];\n          if (atmCall) {\n            var _atmCall$day3;\n            if (atmCall.implied_volatility !== undefined && atmCall.implied_volatility > 0) {\n              const ivValue = (atmCall.implied_volatility * 100).toFixed(2);\n              if (isFirstDate) {\n                setIv1(ivValue);\n              } else {\n                setIv2(ivValue);\n              }\n            }\n            if (((_atmCall$day3 = atmCall.day) === null || _atmCall$day3 === void 0 ? void 0 : _atmCall$day3.volume) !== undefined) {\n              if (isFirstDate) {\n                setVolumeCallT1(atmCall.day.volume);\n              } else {\n                setVolumeCallT2(atmCall.day.volume);\n              }\n            }\n            if (atmCall.open_interest !== undefined) {\n              if (isFirstDate) {\n                setOiCallT1(atmCall.open_interest);\n              } else {\n                setOiCallT2(atmCall.open_interest);\n              }\n            }\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error updating IV:', error);\n    }\n  };\n  const getNextFridays = () => {\n    const today = new Date();\n    let fridays = [];\n    let currentDate = new Date(today);\n    while (fridays.length < 50) {\n      if (currentDate.getDay() === 5) {\n        fridays.push(new Date(currentDate));\n      }\n      currentDate.setDate(currentDate.getDate() + 1);\n    }\n    return fridays;\n  };\n  const normDist = x => {\n    const a1 = 0.254829592;\n    const a2 = -0.284496736;\n    const a3 = 1.421413741;\n    const a4 = -1.453152027;\n    const a5 = 1.061405429;\n    const p = 0.3275911;\n    const sign = x < 0 ? -1 : 1;\n    x = Math.abs(x) / Math.sqrt(2);\n    const t = 1.0 / (1.0 + p * x);\n    const y = 1.0 - ((((a5 * t + a4) * t + a3) * t + a2) * t + a1) * t * Math.exp(-x * x);\n    return 0.5 * (1.0 + sign * y);\n  };\n  const blackScholesCall = (S, K, T, r, sigma, q = 0) => {\n    if (T <= 0 || sigma <= 0) return Math.max(S - K, 0);\n    const sqrtT = Math.sqrt(T);\n    const d1 = (Math.log(S / K) + (r - q + 0.5 * sigma * sigma) * T) / (sigma * sqrtT);\n    const d2 = d1 - sigma * sqrtT;\n    const callPrice = S * Math.exp(-q * T) * normDist(d1) - K * Math.exp(-r * T) * normDist(d2);\n    return Math.max(callPrice, 0);\n  };\n  const blackScholesPut = (S, K, T, r, sigma, q = 0) => {\n    if (T <= 0 || sigma <= 0) return Math.max(K - S, 0);\n    const sqrtT = Math.sqrt(T);\n    const d1 = (Math.log(S / K) + (r - q + 0.5 * sigma * sigma) * T) / (sigma * sqrtT);\n    const d2 = d1 - sigma * sqrtT;\n    const putPrice = K * Math.exp(-r * T) * normDist(-d2) - S * Math.exp(-q * T) * normDist(-d1);\n    return Math.max(putPrice, 0);\n  };\n  const black76Call = (F, K, T, r, sigma) => {\n    if (T <= 0 || sigma <= 0) return Math.max(F - K, 0);\n    const sqrtT = Math.sqrt(T);\n    const d1 = (Math.log(F / K) + 0.5 * sigma * sigma * T) / (sigma * sqrtT);\n    const d2 = d1 - sigma * sqrtT;\n    const callPrice = Math.exp(-r * T) * (F * normDist(d1) - K * normDist(d2));\n    return Math.max(callPrice, 0);\n  };\n  const black76Put = (F, K, T, r, sigma) => {\n    if (T <= 0 || sigma <= 0) return Math.max(K - F, 0);\n    const sqrtT = Math.sqrt(T);\n    const d1 = (Math.log(F / K) + 0.5 * sigma * sigma * T) / (sigma * sqrtT);\n    const d2 = d1 - sigma * sqrtT;\n    const putPrice = Math.exp(-r * T) * (K * normDist(-d2) - F * normDist(-d1));\n    return Math.max(putPrice, 0);\n  };\n  const binomialCall = (S, K, T, r, sigma, q = 0, steps = 50) => {\n    const dt = T / steps;\n    const u = Math.exp(sigma * Math.sqrt(dt));\n    const d = 1 / u;\n    const p = (Math.exp((r - q) * dt) - d) / (u - d);\n\n    // Stock prices at maturity\n    const prices = [];\n    for (let i = 0; i <= steps; i++) {\n      prices[i] = S * Math.pow(u, steps - i) * Math.pow(d, i);\n    }\n\n    // Option values at maturity\n    const values = prices.map(price => Math.max(price - K, 0));\n\n    // Backward induction\n    for (let j = steps - 1; j >= 0; j--) {\n      for (let i = 0; i <= j; i++) {\n        values[i] = Math.exp(-r * dt) * (p * values[i] + (1 - p) * values[i + 1]);\n      }\n    }\n    return values[0];\n  };\n  const binomialPut = (S, K, T, r, sigma, q = 0, steps = 50) => {\n    const dt = T / steps;\n    const u = Math.exp(sigma * Math.sqrt(dt));\n    const d = 1 / u;\n    const p = (Math.exp((r - q) * dt) - d) / (u - d);\n\n    // Stock prices at maturity\n    const prices = [];\n    for (let i = 0; i <= steps; i++) {\n      prices[i] = S * Math.pow(u, steps - i) * Math.pow(d, i);\n    }\n\n    // Option values at maturity\n    const values = prices.map(price => Math.max(K - price, 0));\n\n    // Backward induction\n    for (let j = steps - 1; j >= 0; j--) {\n      for (let i = 0; i <= j; i++) {\n        values[i] = Math.exp(-r * dt) * (p * values[i] + (1 - p) * values[i + 1]);\n      }\n    }\n    return values[0];\n  };\n  const getOptionPrice = (S, K, T, r, sigma, q, isCall) => {\n    switch (pricingModel) {\n      case 'black76':\n        const F = S * Math.exp((r - q) * T);\n        return isCall ? black76Call(F, K, T, r, sigma) : black76Put(F, K, T, r, sigma);\n      case 'binomial':\n        return isCall ? binomialCall(S, K, T, r, sigma, q) : binomialPut(S, K, T, r, sigma, q);\n      case 'blackscholes':\n      default:\n        return isCall ? blackScholesCall(S, K, T, r, sigma, q) : blackScholesPut(S, K, T, r, sigma, q);\n    }\n  };\n  const handlePriceSlider = (newPrice, isCallSpread) => {\n    if (!result) return;\n    const S = parseFloat(spotPrice);\n    const K = parseFloat(strikePrice);\n    const v1 = parseFloat(iv1) / 100;\n    const r = parseFloat(riskFreeRate) / 100;\n    const q = parseFloat(dividend) / 100;\n    const d1 = new Date(date1);\n    const d2 = new Date(date2);\n    const now = new Date();\n    const d1_16NY = new Date(d1);\n    d1_16NY.setHours(22, 0, 0, 0);\n    const d2_16NY = new Date(d2);\n    d2_16NY.setHours(22, 0, 0, 0);\n    const msPerDay = 24 * 60 * 60 * 1000;\n    const daysToExp1 = (d1_16NY - now) / msPerDay;\n    const daysToExp2 = (d2_16NY - now) / msPerDay;\n    const T1 = daysToExp1 / 365;\n    const T2 = daysToExp2 / 365;\n    const frontPrice = isCallSpread ? getOptionPrice(S, K, T1, r, v1, q, true) : getOptionPrice(S, K, T1, r, v1, q, false);\n\n    // Target Back-Option Preis basierend auf neuer Spread-Preis\n    const targetBackPrice = newPrice + frontPrice;\n\n    // BinÃ¤re Suche nach der IV2, die zu targetBackPrice fÃ¼hrt\n    let v2Low = 0.001;\n    let v2High = 3.0;\n    let v2Mid = 1.0;\n    for (let iteration = 0; iteration < 100; iteration++) {\n      v2Mid = (v2Low + v2High) / 2;\n      const backPrice = isCallSpread ? getOptionPrice(S, K, T2, r, v2Mid, q, true) : getOptionPrice(S, K, T2, r, v2Mid, q, false);\n      const diff = backPrice - targetBackPrice;\n      if (Math.abs(diff) < 0.00001) break;\n      if (diff > 0) {\n        v2High = v2Mid;\n      } else {\n        v2Low = v2Mid;\n      }\n    }\n\n    // Mit dieser gefundenen IV2 berechne den echten FF\n    const numerator = T2 * v2Mid * v2Mid - T1 * v1 * v1;\n    const denominator = T2 - T1;\n    let newFF;\n    if (numerator >= 0 && denominator > 0) {\n      const forwardVol = Math.sqrt(numerator / denominator);\n      newFF = (v1 / forwardVol - 1) * 100;\n    } else {\n      newFF = parseFloat(result.forwardFactor);\n    }\n    if (isCallSpread) {\n      setCallPriceSlider(newPrice);\n      setAdjustedFFCall(newFF);\n    } else {\n      setPutPriceSlider(newPrice);\n      setAdjustedFFPut(newFF);\n    }\n  };\n  const calculateResults = () => {\n    try {\n      const d1 = new Date(date1);\n      const d2 = new Date(date2);\n      if (d2 <= d1) {\n        setResult({\n          error: 'Expiration 2 muss nach Expiration 1 liegen'\n        });\n        return;\n      }\n\n      // Berechne verbleibende Zeit mit BerÃ¼cksichtigung der NY-SchlieÃŸzeit (16:00 EST = 22:00 Berlin)\n      const now = new Date();\n      const d1_16NY = new Date(d1);\n      d1_16NY.setHours(22, 0, 0, 0); // 16:00 EST = 22:00 Berlin (CET)\n\n      const d2_16NY = new Date(d2);\n      d2_16NY.setHours(22, 0, 0, 0); // 16:00 EST = 22:00 Berlin (CET)\n\n      // Berechne verbleibende Tage mit Dezimalgenauigkeit (keine Rundung)\n      const msPerDay = 24 * 60 * 60 * 1000;\n      const daysToExp1 = (d1_16NY - now) / msPerDay;\n      const daysToExp2 = (d2_16NY - now) / msPerDay;\n      if (daysToExp1 <= 0 || daysToExp2 <= 0) {\n        setResult({\n          error: 'Ablaufdatum liegt in der Vergangenheit'\n        });\n        return;\n      }\n\n      // Zeitberechnung in Jahren - KEINE Rundung!\n      const T1 = daysToExp1 / 365;\n      const T2 = daysToExp2 / 365;\n      const v1 = parseFloat(iv1) / 100;\n      const v2 = parseFloat(iv2) / 100;\n      const S = parseFloat(spotPrice);\n      const K = parseFloat(strikePrice);\n      const r = parseFloat(riskFreeRate) / 100;\n      const q = parseFloat(dividend) / 100;\n      if (v1 <= 0 || v2 <= 0 || S <= 0 || K <= 0) {\n        setResult({\n          error: 'Bitte Ã¼berprÃ¼fe deine Eingaben'\n        });\n        return;\n      }\n      const numerator = T2 * v2 * v2 - T1 * v1 * v1;\n      const denominator = T2 - T1;\n      if (numerator < 0) {\n        setResult({\n          error: 'UngÃ¼ltige IV Kombination - Forward Vol wÃ¤re imaginÃ¤r'\n        });\n        return;\n      }\n      const forwardVol = Math.sqrt(numerator / denominator);\n      const forwardVolPct = forwardVol * 100;\n      const forwardFactor = v1 / forwardVol - 1;\n      const callT1 = getOptionPrice(S, K, T1, r, v1, q, true);\n      const callT2 = getOptionPrice(S, K, T2, r, v2, q, true);\n      const callCalendarSpread = callT2 - callT1;\n      const putT1 = getOptionPrice(S, K, T1, r, v1, q, false);\n      const putT2 = getOptionPrice(S, K, T2, r, v2, q, false);\n      const putCalendarSpread = putT2 - putT1;\n\n      // FF = 30%\n      const targetForwardFactor30 = 0.30;\n      const requiredForwardVol30 = v1 / (1 + targetForwardFactor30);\n      const iv2Squared30 = (requiredForwardVol30 * requiredForwardVol30 * (T2 - T1) + T1 * v1 * v1) / T2;\n      const requiredIV230 = Math.sqrt(Math.max(0, iv2Squared30));\n      const callT2At30 = getOptionPrice(S, K, T2, r, requiredIV230, q, true);\n      const maxCallCalendarPrice30 = callT2At30 - callT1;\n      const putT2At30 = getOptionPrice(S, K, T2, r, requiredIV230, q, false);\n      const maxPutCalendarPrice30 = putT2At30 - putT1;\n\n      // FF = 0%\n      const targetForwardFactor0 = 0;\n      const requiredForwardVol0 = v1 / (1 + targetForwardFactor0);\n      const iv2Squared0 = (requiredForwardVol0 * requiredForwardVol0 * (T2 - T1) + T1 * v1 * v1) / T2;\n      const requiredIV20 = Math.sqrt(Math.max(0, iv2Squared0));\n      const callT2At0 = getOptionPrice(S, K, T2, r, requiredIV20, q, true);\n      const callCalendarSpreadAt0 = callT2At0 - callT1;\n      const putT2At0 = getOptionPrice(S, K, T2, r, requiredIV20, q, false);\n      const putCalendarSpreadAt0 = putT2At0 - putT1;\n      const newResult = {\n        forwardVolPct: parseFloat(forwardVolPct).toFixed(2),\n        forwardFactor: (parseFloat(forwardFactor) * 100).toFixed(2),\n        daysToExp1: parseFloat(daysToExp1).toFixed(2),\n        daysToExp2: parseFloat(daysToExp2).toFixed(2),\n        callT1: parseFloat(callT1).toFixed(2),\n        callT2: parseFloat(callT2).toFixed(2),\n        callCalendarSpread: parseFloat(callCalendarSpread).toFixed(2),\n        putT1: parseFloat(putT1).toFixed(2),\n        putT2: parseFloat(putT2).toFixed(2),\n        putCalendarSpread: parseFloat(putCalendarSpread).toFixed(2),\n        maxCallCalendarPrice30: Math.max(0, parseFloat(maxCallCalendarPrice30)).toFixed(2),\n        maxPutCalendarPrice30: Math.max(0, parseFloat(maxPutCalendarPrice30)).toFixed(2),\n        callCalendarSpreadAt0: parseFloat(callCalendarSpreadAt0).toFixed(2),\n        putCalendarSpreadAt0: parseFloat(putCalendarSpreadAt0).toFixed(2),\n        error: null,\n        timestamp: new Date().toLocaleString('de-DE')\n      };\n      setResult(newResult);\n      const historyEntry = {\n        ticker: ticker || 'N/A',\n        date: date1,\n        ff: parseFloat(newResult.forwardFactor),\n        callSpreadCurrent: newResult.callCalendarSpread,\n        putSpreadCurrent: newResult.putCalendarSpread,\n        callSpreadFF30: newResult.maxCallCalendarPrice30,\n        putSpreadFF30: newResult.maxPutCalendarPrice30,\n        callSpreadFF0: newResult.callCalendarSpreadAt0,\n        putSpreadFF0: newResult.putCalendarSpreadAt0,\n        timestamp: newResult.timestamp\n      };\n      setTradeHistory([historyEntry, ...tradeHistory.slice(0, 9)]);\n    } catch (err) {\n      setResult({\n        error: 'Fehler bei der Berechnung: ' + err.message\n      });\n    }\n  };\n  const renderCalendar = (value, onChange, show, setShow) => {\n    if (!show) return null;\n    const today = new Date();\n    let fridays = [];\n    let currentDate = new Date(today);\n    while (fridays.length < 50) {\n      if (currentDate.getDay() === 5) {\n        fridays.push(new Date(currentDate));\n      }\n      currentDate.setDate(currentDate.getDate() + 1);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `absolute ${darkMode ? 'bg-gray-800 border-gray-600' : 'bg-white border-blue-300'} border-2 rounded-lg p-4 z-50 shadow-lg max-h-96 overflow-y-auto w-64`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4 sticky top-0 bg-inherit\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`,\n          children: \"Next 50 Fridays\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1504,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShow(false),\n          className: `hover:opacity-70 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`,\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1505,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1503,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-1\",\n        children: fridays.map(friday => {\n          const dateStr = friday.toISOString().split('T')[0];\n          const isSelected = dateStr === value;\n          const daysAway = Math.floor((friday - today) / (1000 * 60 * 60 * 24));\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              onChange(dateStr);\n              setShow(false);\n            },\n            className: `w-full text-left px-3 py-2 rounded text-sm font-semibold transition-all ${isSelected ? 'bg-blue-600 text-white' : darkMode ? 'bg-gray-700 text-yellow-300 hover:bg-gray-600' : 'bg-yellow-100 text-gray-900 hover:bg-yellow-200'}`,\n            children: [friday.toLocaleDateString('de-DE'), \" (\", daysAway, \"d)\"]\n          }, dateStr, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1515,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1508,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1502,\n      columnNumber: 7\n    }, this);\n  };\n  const getFFColor = ff => {\n    const ffNum = parseFloat(ff);\n    if (ffNum >= 30) return 'bg-green-100 border-green-500 text-green-900';\n    if (ffNum >= 16) return 'bg-yellow-100 border-yellow-500 text-yellow-900';\n    return darkMode ? 'bg-gray-700 border-gray-600 text-gray-300' : 'bg-gray-50 border-gray-300 text-gray-900';\n  };\n  const chartData = [{\n    dte: 0,\n    iv: parseFloat(iv1).toFixed(2)\n  }, {\n    dte: (parseFloat(result === null || result === void 0 ? void 0 : result.daysToExp1) || 7) / 2,\n    iv: (parseFloat(iv1) * 0.7 + parseFloat(iv2) * 0.3).toFixed(2)\n  }, {\n    dte: parseFloat(result === null || result === void 0 ? void 0 : result.daysToExp2) || 14,\n    iv: parseFloat(iv2).toFixed(2)\n  }];\n  const exportCSV = () => {\n    if (!result || result.error) return;\n    const csv = [['Calendar Spread Trade'], ['Datum', new Date().toLocaleString('de-DE')], [], ['Expiration 1', date1], ['Expiration 2', date2], ['IV Exp 1', iv1 + '%'], ['IV Exp 2', iv2 + '%'], ['Aktienkurs', spotPrice], ['Strike', strikePrice], [], ['Forward Volatility', result.forwardVolPct + '%'], ['Forward Faktor', result.forwardFactor + '%'], ['Call Calendar Spread', result.callCalendarSpread], ['Put Calendar Spread', result.putCalendarSpread], ['Max Call fÃ¼r FF +30%', result.maxCallCalendarPrice30], ['Max Put fÃ¼r FF +30%', result.maxPutCalendarPrice30]].map(row => row.join(',')).join('\\n');\n    const blob = new Blob([csv], {\n      type: 'text/csv'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `calendar-trade-${new Date().toISOString().split('T')[0]}.csv`;\n    a.click();\n  };\n\n  // Auto-calculate when parameters change\n  useEffect(() => {\n    // Only auto-calculate if we have all required values\n    if (date1 && date2 && iv1 && iv2 && spotPrice && strikePrice) {\n      const timeoutId = setTimeout(() => {\n        calculateResults();\n      }, 500); // Debounce for 500ms\n\n      return () => clearTimeout(timeoutId);\n    }\n  }, [date1, date2, iv1, iv2, spotPrice, strikePrice, riskFreeRate, dividend, pricingModel]);\n\n  // Debug: Log when recommended spreads change\n  useEffect(() => {\n    console.log('Recommended spreads updated:', recommendedSpreads.length, 'spreads');\n    if (recommendedSpreads.length > 0) {\n      console.log('First spread:', recommendedSpreads[0]);\n    }\n  }, [recommendedSpreads]);\n\n  // Check if earnings overlaps with strategy dates\n  useEffect(() => {\n    if (!nextEarningsDate || !date1 || !date2) {\n      setEarningsConflict(null);\n      return;\n    }\n    const earningsDate = new Date(nextEarningsDate);\n    const strategyStart = new Date(date1);\n    const strategyEnd = new Date(date2);\n\n    // Check if earnings falls within strategy window (inclusive)\n    if (earningsDate >= strategyStart && earningsDate <= strategyEnd) {\n      const daysUntilEarnings = Math.ceil((earningsDate - new Date()) / (1000 * 60 * 60 * 24));\n      setEarningsConflict({\n        date: nextEarningsDate,\n        timing: earningsTime,\n        daysAway: daysUntilEarnings\n      });\n    } else {\n      setEarningsConflict(null);\n    }\n  }, [nextEarningsDate, earningsTime, date1, date2]);\n\n  // Trigger calendar spread scanning when availableExpirations is properly set\n  useEffect(() => {\n    if (ticker && apiKey && availableExpirations.length >= 2 && !scanningForSpreads && recommendedSpreads.length === 0) {\n      console.log('Triggering calendar spread scan after availableExpirations update');\n      setTimeout(() => scanCalendarSpreads(), 100);\n    }\n  }, [ticker, apiKey, availableExpirations, scanningForSpreads, recommendedSpreads.length]);\n  const bgClass = darkMode ? 'bg-gray-900' : 'bg-gradient-to-br from-blue-50 to-indigo-100';\n  const cardClass = darkMode ? 'bg-gray-800 text-white' : 'bg-white text-gray-900';\n  const borderClass = darkMode ? 'border-gray-700' : 'border-gray-200';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `min-h-screen ${bgClass} p-6`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-[1800px] mx-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${cardClass} rounded-lg shadow-lg p-8`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-4xl font-bold\",\n                children: \"Calendar Spread Calculator\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1644,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `px-3 py-1 rounded-full text-xs font-semibold ${darkMode ? 'bg-yellow-900 text-yellow-200' : 'bg-yellow-200 text-yellow-800'}`,\n                children: \"v1.0 BETA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1645,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1643,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: darkMode ? 'text-gray-400' : 'text-gray-600',\n              children: \"Forward Volatility, Forward Factor & Calendar Spread Pricing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1651,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1642,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              value: pricingModel,\n              onChange: e => setPricingModel(e.target.value),\n              className: `px-4 py-2 rounded-lg font-semibold ${darkMode ? 'bg-gray-700 border border-gray-600 text-white' : 'bg-white border border-blue-300 text-gray-900'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"blackscholes\",\n                children: \"Black-Scholes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1663,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"black76\",\n                children: \"Black-76\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1664,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"binomial\",\n                children: \"Binomial\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1665,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1654,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setDarkMode(!darkMode),\n              className: `p-2 rounded-lg ${darkMode ? 'bg-gray-700 text-yellow-400' : 'bg-gray-200 text-gray-800'}`,\n              children: darkMode ? /*#__PURE__*/_jsxDEV(Sun, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1671,\n                columnNumber: 29\n              }, this) : /*#__PURE__*/_jsxDEV(Moon, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1671,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1667,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1653,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1641,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm opacity-75\",\n              children: \"User:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1679,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: ['Nils', 'Mr. FF'].map(user => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setCurrentUser(user);\n                  localStorage.setItem('currentUser', user);\n                },\n                className: `px-4 py-2 rounded-lg font-semibold transition-all ${currentUser === user ? darkMode ? 'bg-blue-600 text-white' : 'bg-blue-500 text-white' : darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}`,\n                children: user\n              }, user, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1682,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1680,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1678,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm opacity-50\",\n            children: [\"Welcome, \", currentUser, \"!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1703,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1677,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-7 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lg:col-span-1 space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-bold mb-4\",\n              children: \"Parameters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1710,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold mb-2\",\n                children: \"Polygon.io API Key\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1713,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                value: apiKey,\n                onChange: e => setApiKey(e.target.value),\n                className: `w-full px-4 py-2 border-2 rounded-lg focus:outline-none ${darkMode ? 'bg-gray-700 border-gray-600 focus:border-blue-400' : 'bg-white border-blue-300 focus:border-blue-500'}`,\n                placeholder: \"Paste your Polygon.io API key\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1714,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"https://polygon.io/dashboard/signup\",\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                className: \"text-xs text-blue-500 hover:underline mt-1 block\",\n                children: \"Get free API key \\u2192 (End-of-Day data)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1725,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1712,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold mb-2\",\n                children: \"Ticker Symbol\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1737,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 relative\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: ticker,\n                    onChange: e => handleTickerChange(e.target.value),\n                    onFocus: () => {\n                      if (ticker.length > 0) {\n                        handleTickerChange(ticker);\n                      }\n                    },\n                    onBlur: () => {\n                      // Delay to allow click on dropdown\n                      setTimeout(() => setShowTickerDropdown(false), 200);\n                    },\n                    onKeyDown: e => {\n                      if (e.key === 'Enter') {\n                        setShowTickerDropdown(false);\n                        fetchOptionData(ticker);\n                      } else if (e.key === 'Escape') {\n                        setShowTickerDropdown(false);\n                      } else if (e.key === 'ArrowDown') {\n                        if (ticker.length > 0) {\n                          handleTickerChange(ticker);\n                        }\n                      }\n                    },\n                    className: `w-full px-4 py-2 border-2 rounded-lg focus:outline-none ${darkMode ? 'bg-gray-700 border-gray-600 focus:border-blue-400' : 'bg-white border-blue-300 focus:border-blue-500'}`,\n                    placeholder: \"e.g. AAPL, SPY, TSLA...\",\n                    disabled: loading\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1740,\n                    columnNumber: 21\n                  }, this), showTickerDropdown && filteredTickers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `absolute z-50 w-full mt-1 max-h-64 overflow-y-auto rounded-lg shadow-lg border-2 ${darkMode ? 'bg-gray-800 border-gray-600' : 'bg-white border-gray-300'}`,\n                    children: filteredTickers.map(stock => /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => selectTicker(stock.symbol),\n                      className: `w-full text-left px-4 py-2 hover:bg-opacity-80 transition-colors ${darkMode ? 'hover:bg-gray-700 text-white' : 'hover:bg-gray-100 text-gray-900'}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-bold\",\n                        children: stock.symbol\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1789,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `text-xs ${darkMode ? 'text-gray-400' : 'text-gray-600'}`,\n                        children: stock.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1790,\n                        columnNumber: 29\n                      }, this)]\n                    }, stock.symbol, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1780,\n                      columnNumber: 27\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1774,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1739,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => fetchOptionData(ticker),\n                    disabled: loading,\n                    className: `px-4 py-2 rounded-lg font-semibold transition-all ${loading ? 'bg-gray-400 cursor-not-allowed' : darkMode ? 'bg-slate-600 hover:bg-slate-700 text-white' : 'bg-slate-500 hover:bg-slate-600 text-white'}`,\n                    children: loading ? '...' : 'Load'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1799,\n                    columnNumber: 21\n                  }, this), ticker && spotPrice && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => fetchOptionData(ticker),\n                    disabled: loading,\n                    className: `px-3 py-2 rounded-lg font-semibold text-sm transition-all ${loading ? 'bg-gray-400 cursor-not-allowed' : darkMode ? 'bg-green-700 hover:bg-green-800 text-white' : 'bg-green-500 hover:bg-green-600 text-white'}`,\n                    title: \"Refresh live price\",\n                    children: \"\\uD83D\\uDD04\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1813,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1798,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1738,\n                columnNumber: 17\n              }, this), loadError && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-xs mt-1\",\n                children: loadError\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1831,\n                columnNumber: 19\n              }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-xs mt-1 ${darkMode ? 'text-blue-400' : 'text-blue-600'}`,\n                children: \"Loading stock data...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1834,\n                columnNumber: 19\n              }, this), recentTickers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs opacity-75 mb-1\",\n                  children: \"Recent:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1842,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-wrap gap-1\",\n                  children: recentTickers.map(recentTicker => /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      setTicker(recentTicker);\n                      fetchOptionData(recentTicker);\n                    },\n                    className: `px-2 py-1 text-xs rounded font-medium transition-colors ${darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}`,\n                    children: recentTicker\n                  }, recentTicker, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1845,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1843,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1841,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: loadDemoData,\n                className: `w-full mt-2 px-4 py-2 rounded-lg font-semibold text-xs ${darkMode ? 'bg-green-700 hover:bg-green-800 text-white' : 'bg-green-500 hover:bg-green-600 text-white'}`,\n                children: \"Load Demo Data (SPY)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1864,\n                columnNumber: 17\n              }, this), (marketCap !== null || avgOptionsVolume !== null || nextEarningsDate !== null) && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `mt-3 p-3 rounded-lg border-2 ${darkMode ? 'bg-gray-700 border-gray-600' : 'bg-blue-50 border-blue-200'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs font-semibold mb-2\",\n                  children: \"Market Info\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1882,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-2 text-xs\",\n                  children: [marketCap !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"opacity-75\",\n                      children: \"Market Cap\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1886,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-bold\",\n                      children: [\"$\", (marketCap / 1e9).toFixed(2), \"B\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1887,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1885,\n                    columnNumber: 25\n                  }, this), avgOptionsVolume !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"opacity-75\",\n                      children: \"Total Opt Vol (20d)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1894,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-bold\",\n                      children: avgOptionsVolume.toLocaleString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1895,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1893,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1883,\n                  columnNumber: 21\n                }, this), nextEarningsDate !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `mt-2 p-2 rounded border ${darkMode ? 'bg-yellow-900 border-yellow-600' : 'bg-yellow-100 border-yellow-400'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs font-semibold mb-1\",\n                    children: \"\\uD83D\\uDCCA Next Earnings\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1907,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-bold\",\n                    children: new Date(nextEarningsDate).toLocaleDateString('en-US', {\n                      weekday: 'short',\n                      year: 'numeric',\n                      month: 'short',\n                      day: 'numeric'\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1908,\n                    columnNumber: 25\n                  }, this), earningsTime && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs opacity-75 mt-1\",\n                    children: earningsTime\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1917,\n                    columnNumber: 27\n                  }, this), (() => {\n                    const daysAway = Math.floor((new Date(nextEarningsDate) - new Date()) / (1000 * 60 * 60 * 24));\n                    return /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs opacity-75 mt-1\",\n                      children: daysAway > 0 ? `${daysAway} days away` : daysAway === 0 ? 'Today!' : `${Math.abs(daysAway)} days ago`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1924,\n                      columnNumber: 29\n                    }, this);\n                  })()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1902,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1877,\n                columnNumber: 19\n              }, this), earningsConflict && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `mt-3 p-3 rounded-lg border-2 ${darkMode ? 'bg-red-900 border-red-600' : 'bg-red-50 border-red-400'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs font-semibold mb-1\",\n                  children: \"\\u26A0\\uFE0F Earnings During Strategy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1945,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs\",\n                  children: [\"Earnings on \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-bold\",\n                    children: new Date(earningsConflict.date).toLocaleDateString('en-US', {\n                      month: 'short',\n                      day: 'numeric'\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1947,\n                    columnNumber: 35\n                  }, this), \" falls within your selected dates.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1946,\n                  columnNumber: 21\n                }, this), earningsConflict.timing && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs opacity-75 mt-1\",\n                  children: earningsConflict.timing\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1950,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs opacity-75 mt-1\",\n                  children: earningsConflict.daysAway > 0 ? `${earningsConflict.daysAway} days away` : earningsConflict.daysAway === 0 ? 'Today!' : `${Math.abs(earningsConflict.daysAway)} days ago`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1954,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1940,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1736,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold mb-2\",\n                children: \"Expiration 1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1966,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: date1,\n                onChange: e => {\n                  setDate1(e.target.value);\n                  updateIVForDate(e.target.value, true);\n                },\n                className: `w-full px-4 py-2 border-2 rounded-lg ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-blue-300 text-gray-900'}`,\n                children: availableExpirations.length > 0 ? availableExpirations.map(date => {\n                  const dte = calculateDTE(date);\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: date,\n                    children: [new Date(date).toLocaleDateString('en-US', {\n                      weekday: 'short',\n                      year: 'numeric',\n                      month: 'short',\n                      day: 'numeric'\n                    }), \" (\", dte, \" DTE)\"]\n                  }, date, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1983,\n                    columnNumber: 25\n                  }, this);\n                }) : /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: date1,\n                  children: new Date(date1).toLocaleDateString('en-US')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1989,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1967,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1965,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold mb-2\",\n                children: \"Expiration 2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1995,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: date2,\n                onChange: e => {\n                  setDate2(e.target.value);\n                  updateIVForDate(e.target.value, false);\n                },\n                className: `w-full px-4 py-2 border-2 rounded-lg ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-blue-300 text-gray-900'}`,\n                children: availableExpirations.length > 0 ? availableExpirations.map(date => {\n                  const dte = calculateDTE(date);\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: date,\n                    children: [new Date(date).toLocaleDateString('en-US', {\n                      weekday: 'short',\n                      year: 'numeric',\n                      month: 'short',\n                      day: 'numeric'\n                    }), \" (\", dte, \" DTE)\"]\n                  }, date, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2012,\n                    columnNumber: 25\n                  }, this);\n                }) : /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: date2,\n                  children: new Date(date2).toLocaleDateString('en-US')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2018,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1996,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1994,\n              columnNumber: 15\n            }, this), [{\n              label: 'IV Exp 1 (%)',\n              value: iv1,\n              setter: setIv1\n            }, {\n              label: 'IV Exp 2 (%)',\n              value: iv2,\n              setter: setIv2\n            }, {\n              label: 'Stock Price',\n              value: spotPrice,\n              setter: setSpotPrice\n            }, {\n              label: 'Strike',\n              value: strikePrice,\n              setter: setStrikePrice\n            }, {\n              label: 'Risk-Free Rate (%)',\n              value: riskFreeRate,\n              setter: setRiskFreeRate\n            }, {\n              label: 'Dividend (%)',\n              value: dividend,\n              setter: setDividend\n            }].map((field, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold mb-2\",\n                children: field.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2032,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: field.value,\n                onChange: e => field.setter(e.target.value),\n                className: `w-full px-4 py-2 border-2 rounded-lg focus:outline-none ${darkMode ? 'bg-gray-700 border-gray-600 focus:border-blue-400' : 'bg-white border-blue-300 focus:border-blue-500'}`,\n                step: \"0.01\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2033,\n                columnNumber: 19\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2031,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: calculateResults,\n              className: \"w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-bold py-3 rounded-lg hover:shadow-lg transition-all transform hover:scale-105\",\n              children: \"Calculate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2047,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1709,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lg:col-span-5 space-y-4\",\n            children: [result && !result.error && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `sticky top-0 z-40 px-4 py-2 rounded-lg shadow-md flex items-center justify-between ${darkMode ? 'bg-gray-800' : 'bg-white'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-4\",\n                children: [ticker && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: `https://img.logokit.com/ticker/${ticker}?token=pk_fr93b6bfb5c425f6e3db62&format=png`,\n                    alt: ticker,\n                    className: \"w-8 h-8 rounded-lg object-contain\",\n                    onError: e => {\n                      // Fallback to colored circle with letter if logo fails\n                      e.target.style.display = 'none';\n                      e.target.nextElementSibling.style.display = 'flex';\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2063,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `w-8 h-8 rounded-full hidden items-center justify-center font-bold text-white ${ticker[0] <= 'F' ? 'bg-blue-500' : ticker[0] <= 'L' ? 'bg-purple-500' : ticker[0] <= 'R' ? 'bg-green-500' : ticker[0] <= 'W' ? 'bg-orange-500' : 'bg-red-500'}`,\n                    children: ticker[0]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2073,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-baseline gap-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-bold\",\n                        children: ticker\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2083,\n                        columnNumber: 25\n                      }, this), spotPrice && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex flex-col\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `text-lg font-semibold ${darkMode ? 'text-blue-400' : 'text-blue-600'}`,\n                          children: [\"$\", parseFloat(spotPrice).toFixed(2)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2086,\n                          columnNumber: 33\n                        }, this), priceSource && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `text-xs ${darkMode ? 'text-green-400' : 'text-green-600'}`,\n                          children: [\"\\uD83D\\uDCE1 \", priceSource]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2090,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2085,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2082,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-[10px] opacity-50\",\n                      children: \"Options data 15 min delayed, stock price last close\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2097,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2081,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2062,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs opacity-75\",\n                    children: \"Forward Vol:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2102,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 text-lg font-bold text-green-600\",\n                    children: [result.forwardVolPct, \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2103,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2101,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `px-3 py-1 rounded ${parseFloat(result.forwardFactor) >= 30 ? 'bg-green-100 text-green-900' : parseFloat(result.forwardFactor) >= 16 ? 'bg-yellow-100 text-yellow-900' : darkMode ? 'bg-gray-700 text-gray-300' : 'bg-gray-100 text-gray-900'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs opacity-75\",\n                    children: \"FF:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2112,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 text-xl font-bold\",\n                    children: [result.forwardFactor, \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2113,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2105,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2060,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs opacity-75\",\n                children: [result.daysToExp1, \"-\", result.daysToExp2, \" DTE\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2116,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2057,\n              columnNumber: 17\n            }, this), (scanningForSpreads || recommendedSpreads.length > 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `border-2 ${borderClass} p-4 rounded-lg ${darkMode ? 'bg-slate-800' : 'bg-slate-50'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-semibold text-lg\",\n                  children: [\"\\uD83D\\uDCCA Recommended Calendar Spreads\", ticker && ` for ${ticker}`]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2128,\n                  columnNumber: 21\n                }, this), scanningForSpreads && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `text-xs ${darkMode ? 'text-blue-400' : 'text-blue-600'}`,\n                  children: \"Scanning...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2133,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2127,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 mb-3 pb-3 border-b border-opacity-30\",\n                style: {\n                  borderColor: darkMode ? '#ffffff40' : '#00000020'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-center gap-2 cursor-pointer\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: hidePostEarningsSpreads,\n                    onChange: e => {\n                      setHidePostEarningsSpreads(e.target.checked);\n                      // Re-trigger scan with new filter\n                      setTimeout(() => scanCalendarSpreads(), 100);\n                    },\n                    className: \"w-4 h-4 rounded\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2142,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm\",\n                    children: \"Hide post-earnings front expirations\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2152,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2141,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs opacity-50\",\n                  title: \"For pure forward volatility plays, avoid spreads where the front leg expires after earnings\",\n                  children: \"\\u2139\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2156,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2140,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-4 mb-3 pb-3 border-b border-opacity-30\",\n                style: {\n                  borderColor: darkMode ? '#ffffff40' : '#00000020'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"text-sm\",\n                    children: \"Min Open Interest:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2164,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    value: minOpenInterest,\n                    onChange: e => setMinOpenInterest(parseInt(e.target.value) || 0),\n                    className: `w-20 px-2 py-1 text-xs rounded border ${darkMode ? 'bg-slate-700 border-slate-600 text-white placeholder-slate-400' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'}`,\n                    placeholder: \"0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2165,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2163,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"text-sm\",\n                    children: \"Min Volume:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2178,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    value: minVolume,\n                    onChange: e => setMinVolume(parseInt(e.target.value) || 0),\n                    className: `w-20 px-2 py-1 text-xs rounded border ${darkMode ? 'bg-slate-700 border-slate-600 text-white placeholder-slate-400' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'}`,\n                    placeholder: \"0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2179,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2177,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"text-sm\",\n                    children: \"Max DTE Gap:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2192,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    value: maxDTEGap,\n                    onChange: e => setMaxDTEGap(parseInt(e.target.value) || 0),\n                    className: `w-20 px-2 py-1 text-xs rounded border ${darkMode ? 'bg-slate-700 border-slate-600 text-white placeholder-slate-400' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'}`,\n                    placeholder: \"200\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2193,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2191,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    // Just re-filter existing data, don't re-scan\n                    setRecommendedSpreads(prevSpreads => {\n                      let filtered = prevSpreads;\n                      if (hidePostEarningsSpreads) {\n                        filtered = filtered.filter(s => !s.isPostEarnings);\n                      }\n                      if (minOpenInterest > 0 || minVolume > 0) {\n                        filtered = filtered.filter(s => {\n                          const callOIMeets = s.callOpenInterest1 >= minOpenInterest && s.callOpenInterest2 >= minOpenInterest;\n                          const putOIMeets = s.putOpenInterest1 >= minOpenInterest && s.putOpenInterest2 >= minOpenInterest;\n                          const callVolMeets = s.callVolume1 >= minVolume && s.callVolume2 >= minVolume;\n                          const putVolMeets = s.putVolume1 >= minVolume && s.putVolume2 >= minVolume;\n                          return callOIMeets && callVolMeets || putOIMeets && putVolMeets;\n                        });\n                      }\n                      if (maxDTEGap > 0) {\n                        filtered = filtered.filter(s => {\n                          const dteGap = s.dte2 - s.dte1;\n                          return dteGap <= maxDTEGap;\n                        });\n                      }\n                      return filtered;\n                    });\n                  },\n                  className: \"px-3 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors\",\n                  children: \"Apply Filters\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2205,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2162,\n                columnNumber: 19\n              }, this), scanningForSpreads ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm opacity-75\",\n                children: \"Analyzing expiration combinations...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2243,\n                columnNumber: 21\n              }, this) : recommendedSpreads.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2 max-h-96 overflow-y-auto\",\n                children: recommendedSpreads.map((spread, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    setDate1(spread.date1);\n                    setDate2(spread.date2);\n                    setIv1(spread.iv1);\n                    setIv2(spread.iv2);\n                    setStrikePrice(spread.strike.toString());\n                  },\n                  className: `w-full text-left p-3 rounded transition-all hover:scale-[1.02] ${spread.ff === 'âˆž' ? darkMode ? 'bg-red-900 hover:bg-red-800' : 'bg-red-100 hover:bg-red-200' : parseFloat(spread.ff) >= 30 ? darkMode ? 'bg-slate-800 hover:bg-slate-700' : 'bg-slate-100 hover:bg-slate-200' : parseFloat(spread.ff) >= 16 ? darkMode ? 'bg-yellow-900 hover:bg-yellow-800' : 'bg-yellow-100 hover:bg-yellow-200' : darkMode ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-100 hover:bg-gray-200'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-bold text-lg\",\n                        children: [\"#\", idx + 1]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2268,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"ml-3 font-semibold\",\n                        children: [new Date(spread.date1).toLocaleDateString('en-US', {\n                          month: 'short',\n                          day: 'numeric'\n                        }), \" \\u2192 \", new Date(spread.date2).toLocaleDateString('en-US', {\n                          month: 'short',\n                          day: 'numeric'\n                        })]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2269,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"ml-2 text-xs opacity-75\",\n                        children: [\"(\", Math.floor(spread.dte1), \" \\u2192 \", Math.floor(spread.dte2), \" DTE)\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2272,\n                        columnNumber: 31\n                      }, this), spread.isPostEarnings && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"ml-2 px-2 py-0.5 text-[10px] font-semibold rounded bg-orange-500 text-white\",\n                        title: \"Front expiration is after earnings\",\n                        children: \"POST-\\uD83D\\uDCCA\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2276,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2267,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-right\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-2xl font-bold\",\n                        children: [\"FF: \", spread.ff === 'âˆž' ? 'âˆž' : `${spread.ff.toFixed(2)}%`]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2282,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-sm font-semibold mb-2\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex justify-between\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            children: [\"Call: $\", spread.callSpread]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2287,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: [\"Put: $\", spread.putSpread]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2288,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2286,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2285,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-sm font-bold mb-1\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex justify-between\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-blue-600\",\n                            children: [\"Call OI: \", spread.callOpenInterest1, \" \\u2192 \", spread.callOpenInterest2]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2293,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-red-600\",\n                            children: [\"Put OI: \", spread.putOpenInterest1, \" \\u2192 \", spread.putOpenInterest2]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2294,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2292,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2291,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-sm font-bold\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex justify-between\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-blue-500\",\n                            children: [\"Call Vol: \", spread.callVolume1, \" \\u2192 \", spread.callVolume2]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2299,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-red-500\",\n                            children: [\"Put Vol: \", spread.putVolume1, \" \\u2192 \", spread.putVolume2]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2300,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2298,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2297,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: e => {\n                          e.stopPropagation();\n                          addSpreadToWatchlist(spread);\n                        },\n                        className: \"mt-2 px-2 py-1 text-[10px] bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors\",\n                        title: \"Add to Watchlist\",\n                        children: \"+ Watch\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2303,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2281,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2266,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs mt-2 opacity-75 flex gap-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"IV: \", spread.iv1, \"% \\u2192 \", spread.iv2, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2316,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"Strike: $\", spread.strike]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2317,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2315,\n                    columnNumber: 27\n                  }, this)]\n                }, idx, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2247,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2245,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm opacity-75\",\n                children: \"No spreads found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2323,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: scanCalendarSpreads,\n                disabled: scanningForSpreads || !ticker || !apiKey,\n                className: `w-full mt-3 px-4 py-2 rounded-lg font-semibold text-sm transition-all ${scanningForSpreads || !ticker || !apiKey ? 'bg-gray-400 cursor-not-allowed' : darkMode ? 'bg-slate-600 hover:bg-slate-700 text-white' : 'bg-slate-500 hover:bg-slate-600 text-white'}`,\n                children: scanningForSpreads ? 'Scanning...' : 'Rescan for Best Spreads'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2326,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2124,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `border-2 ${borderClass} p-4 rounded-lg ${darkMode ? 'bg-indigo-900' : 'bg-indigo-50'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-semibold text-lg\",\n                  children: \"\\uD83D\\uDD0D Market Scanner: Top FF Opportunities\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2347,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: fetchMarketScan,\n                  disabled: loadingMarketScan,\n                  className: `text-xs px-3 py-1 rounded transition-all ${loadingMarketScan ? 'bg-gray-400 cursor-not-allowed text-white' : 'bg-indigo-500 hover:bg-indigo-600 text-white'}`,\n                  children: loadingMarketScan ? 'Scanning...' : 'Start Market Scan'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2350,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2346,\n                columnNumber: 17\n              }, this), lastMarketScan && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs opacity-75 mb-3\",\n                children: [\"Last scan: \", new Date(lastMarketScan).toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2364,\n                columnNumber: 19\n              }, this), loadingMarketScan && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center py-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm opacity-75\",\n                  children: \"Scanning market for best FF opportunities...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2371,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs opacity-50 mt-1\",\n                  children: \"This may take 2-5 minutes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2372,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2370,\n                columnNumber: 19\n              }, this), !loadingMarketScan && marketScanResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2 max-h-96 overflow-y-auto\",\n                children: marketScanResults.slice(0, 20).map((stock, idx) => {\n                  var _stock$price;\n                  return /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      setTicker(stock.symbol);\n                      fetchOptionData(stock.symbol);\n                    },\n                    className: `w-full text-left p-3 rounded transition-all hover:scale-[1.01] ${parseFloat(stock.bestFF) >= 30 ? darkMode ? 'bg-slate-800 hover:bg-slate-700' : 'bg-slate-100 hover:bg-slate-200' : parseFloat(stock.bestFF) >= 20 ? darkMode ? 'bg-yellow-900 hover:bg-yellow-800' : 'bg-yellow-100 hover:bg-yellow-200' : darkMode ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-100 hover:bg-gray-200'}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-bold\",\n                          children: [\"#\", idx + 1, \" \", stock.symbol]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2395,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"ml-2 text-xs opacity-75\",\n                          children: stock.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2396,\n                          columnNumber: 29\n                        }, this), stock.hasEarnings && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"ml-2 px-1.5 py-0.5 text-[10px] font-semibold rounded bg-yellow-500 text-black\",\n                          title: \"Has upcoming earnings\",\n                          children: \"\\uD83D\\uDCCA\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2398,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2394,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-right\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-xl font-bold\",\n                          children: [\"FF: \", stock.bestFF, \"%\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2404,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-xs opacity-75\",\n                          children: [\"$\", (_stock$price = stock.price) === null || _stock$price === void 0 ? void 0 : _stock$price.toFixed(2)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2405,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2403,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2393,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs mt-1 opacity-75 flex gap-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [\"MC: $\", (stock.marketCap / 1e9).toFixed(1), \"B\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2409,\n                        columnNumber: 27\n                      }, this), stock.spread && /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [stock.spread.exp1, \" \\u2192 \", stock.spread.exp2]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2411,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2408,\n                      columnNumber: 25\n                    }, this)]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2379,\n                    columnNumber: 23\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2377,\n                columnNumber: 19\n              }, this), !loadingMarketScan && marketScanResults.length === 0 && lastMarketScan && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm opacity-75 text-center py-4\",\n                children: \"No opportunities found. Try running a market scan.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2420,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2343,\n              columnNumber: 15\n            }, this), result && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: result.error ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `border-2 border-red-500 p-6 rounded-lg ${darkMode ? 'bg-red-900 text-red-100' : 'bg-red-50 text-red-900'}`,\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-semibold\",\n                  children: result.error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2430,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2429,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 lg:grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `border-2 border-slate-500 p-4 rounded-lg ${darkMode ? 'bg-slate-800 text-slate-100' : 'bg-slate-50 text-slate-900'}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs mb-1 opacity-75\",\n                      children: \"Forward Volatility\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2436,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-3xl font-bold\",\n                      children: [result.forwardVolPct, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2437,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs mt-2 opacity-75\",\n                      children: [result.daysToExp1, \"-\", result.daysToExp2, \" DTE\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2438,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2435,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `border-4 p-4 rounded-lg ${getFFColor(result.forwardFactor)}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs mb-1 opacity-75\",\n                      children: \"Forward Faktor\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2442,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-3xl font-bold\",\n                      children: [result.forwardFactor, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2443,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs mt-2 opacity-75\",\n                      children: parseFloat(result.forwardFactor) >= 30 ? 'âœ“ Excellent' : parseFloat(result.forwardFactor) >= 16 ? 'âœ“ Good' : 'Below threshold'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2444,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2441,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2434,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `border-4 border-red-600 p-6 rounded-lg ${darkMode ? 'bg-red-900 text-red-100' : 'bg-red-50 text-red-900'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-lg font-bold mb-4\",\n                    children: \"TARGET PRICE FOR FF 30%\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2452,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-2 gap-6\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"border-2 border-red-400 p-4 rounded\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm font-semibold mb-2\",\n                        children: \"CALL SPREAD\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2455,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-center\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-5xl font-bold text-red-600\",\n                          children: [\"$\", result.maxCallCalendarPrice30]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2457,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs opacity-75 mt-2\",\n                          children: \"Max Entry Price\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2458,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2456,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2454,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"border-2 border-red-400 p-4 rounded\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm font-semibold mb-2\",\n                        children: \"PUT SPREAD\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2463,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-center\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-5xl font-bold text-red-600\",\n                          children: [\"$\", result.maxPutCalendarPrice30]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2465,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs opacity-75 mt-2\",\n                          children: \"Max Entry Price\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2466,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2464,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2462,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2453,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2451,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `border-4 border-blue-600 p-6 rounded-lg ${darkMode ? 'bg-blue-900 text-blue-100' : 'bg-blue-50 text-blue-900'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-lg font-bold mb-4\",\n                    children: \"CURRENT CALENDAR SPREADS\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2474,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-2 gap-6\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"border-2 border-blue-400 p-4 rounded\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm font-semibold mb-2\",\n                        children: \"CALL SPREAD\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2477,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"space-y-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex justify-between\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            children: \"Current Price:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2480,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-bold text-2xl text-blue-600\",\n                            children: [\"$\", result.callCalendarSpread]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2481,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2479,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex justify-between text-xs opacity-75\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            children: \"For FF 0%:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2484,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-semibold\",\n                            children: [\"$\", result.callCalendarSpreadAt0]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2485,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2483,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2478,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2476,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"border-2 border-pink-400 p-4 rounded\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm font-semibold mb-2\",\n                        children: \"PUT SPREAD\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2491,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"space-y-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex justify-between\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            children: \"Current Price:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2494,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-bold text-2xl text-pink-600\",\n                            children: [\"$\", result.putCalendarSpread]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2495,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2493,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex justify-between text-xs opacity-75\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            children: \"For FF 0%:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2498,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-semibold\",\n                            children: [\"$\", result.putCalendarSpreadAt0]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2499,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2497,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2492,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2490,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2475,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2473,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 lg:grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `border-2 border-blue-500 p-4 rounded-lg ${darkMode ? 'bg-blue-900 text-blue-100' : 'bg-blue-50 text-blue-900'}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold mb-3\",\n                      children: \"Call Calendar Spread\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2508,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"grid grid-cols-3 gap-2 text-sm mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs opacity-75\",\n                          children: \"Front (T1)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2511,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"font-bold\",\n                          children: [\"$\", result.callT1]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2512,\n                          columnNumber: 31\n                        }, this), volumeCallT1 !== null && /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs opacity-60\",\n                          children: [\"Vol: \", volumeCallT1.toLocaleString()]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2514,\n                          columnNumber: 33\n                        }, this), oiCallT1 !== null && /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs opacity-60\",\n                          children: [\"OI: \", oiCallT1.toLocaleString()]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2517,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2510,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs opacity-75\",\n                          children: \"Back (T2)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2521,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"font-bold\",\n                          children: [\"$\", result.callT2]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2522,\n                          columnNumber: 31\n                        }, this), volumeCallT2 !== null && /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs opacity-60\",\n                          children: [\"Vol: \", volumeCallT2.toLocaleString()]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2524,\n                          columnNumber: 33\n                        }, this), oiCallT2 !== null && /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs opacity-60\",\n                          children: [\"OI: \", oiCallT2.toLocaleString()]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2527,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2520,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs opacity-75\",\n                          children: \"Spread\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2531,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"font-bold text-lg\",\n                          children: [\"$\", result.callCalendarSpread]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2532,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2530,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2509,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `p-2 rounded text-xs opacity-75 mb-3`,\n                      children: [\"Max f\\xFCr FF +30%: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-bold\",\n                        children: [\"$\", result.maxCallCalendarPrice30]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2535,\n                        columnNumber: 99\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2535,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs font-semibold\",\n                        children: \"Preis-Simulator\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2538,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"range\",\n                        min: \"0\",\n                        max: parseFloat(result.callCalendarSpread) * 4,\n                        step: \"0.01\",\n                        defaultValue: result.callCalendarSpread,\n                        onChange: e => handlePriceSlider(parseFloat(e.target.value), true),\n                        className: \"w-full h-2 bg-blue-300 rounded-lg appearance-none cursor-pointer\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2539,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between text-xs\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [\"$\", parseFloat(result.maxCallCalendarPrice30).toFixed(2), \" (FF 30%)\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2549,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-bold\",\n                          children: [\"$\", callPriceSlider !== null ? callPriceSlider.toFixed(2) : result.callCalendarSpread]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2550,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [\"$\", (parseFloat(result.callCalendarSpread) * 4).toFixed(2), \" (max)\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2551,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2548,\n                        columnNumber: 29\n                      }, this), callPriceSlider !== null && adjustedFFCall !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `p-2 rounded text-center text-sm font-bold border-2 ${adjustedFFCall >= 30 ? 'border-green-500 bg-green-200' : adjustedFFCall >= 16 ? 'border-yellow-500 bg-yellow-200' : 'border-gray-400 bg-gray-200'}`,\n                        children: [\"Angepasster FF: \", adjustedFFCall.toFixed(2), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2554,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2537,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2507,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `border-2 border-pink-500 p-4 rounded-lg ${darkMode ? 'bg-pink-900 text-pink-100' : 'bg-pink-50 text-pink-900'}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold mb-3\",\n                      children: \"Put Calendar Spread\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2566,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"grid grid-cols-3 gap-2 text-sm mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs opacity-75\",\n                          children: \"Front (T1)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2569,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"font-bold\",\n                          children: [\"$\", result.putT1]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2570,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2568,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs opacity-75\",\n                          children: \"Back (T2)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2573,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"font-bold\",\n                          children: [\"$\", result.putT2]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2574,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2572,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs opacity-75\",\n                          children: \"Spread\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2577,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"font-bold text-lg\",\n                          children: [\"$\", result.putCalendarSpread]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2578,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2576,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2567,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `p-2 rounded text-xs opacity-75 mb-3`,\n                      children: [\"Max f\\xFCr FF +30%: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-bold\",\n                        children: [\"$\", result.maxPutCalendarPrice30]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2581,\n                        columnNumber: 99\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2581,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs font-semibold\",\n                        children: \"Preis-Simulator\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2584,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"range\",\n                        min: \"0\",\n                        max: parseFloat(result.putCalendarSpread) * 4,\n                        step: \"0.01\",\n                        defaultValue: result.putCalendarSpread,\n                        onChange: e => handlePriceSlider(parseFloat(e.target.value), false),\n                        className: \"w-full h-2 bg-pink-300 rounded-lg appearance-none cursor-pointer\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2585,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between text-xs\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [\"$\", parseFloat(result.maxPutCalendarPrice30).toFixed(2), \" (FF 30%)\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2595,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-bold\",\n                          children: [\"$\", putPriceSlider !== null ? putPriceSlider.toFixed(2) : result.putCalendarSpread]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2596,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [\"$\", (parseFloat(result.putCalendarSpread) * 4).toFixed(2), \" (max)\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2597,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2594,\n                        columnNumber: 29\n                      }, this), putPriceSlider !== null && adjustedFFPut !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `p-2 rounded text-center text-sm font-bold border-2 ${adjustedFFPut >= 30 ? 'border-green-500 bg-green-200' : adjustedFFPut >= 16 ? 'border-yellow-500 bg-yellow-200' : 'border-gray-400 bg-gray-200'}`,\n                        children: [\"Angepasster FF: \", adjustedFFPut.toFixed(2), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2600,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2583,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2565,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2506,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: exportCSV,\n                  className: \"w-full bg-slate-600 hover:bg-slate-700 text-white font-bold py-2 rounded-lg flex items-center justify-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Download, {\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2616,\n                    columnNumber: 25\n                  }, this), \" Ergebnis als CSV exportieren\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2612,\n                  columnNumber: 23\n                }, this), tradeHistory.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `border-2 ${borderClass} p-4 rounded-lg`,\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-semibold mb-3\",\n                    children: \"Trade History (letzte 10)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2621,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm space-y-2 max-h-96 overflow-y-auto\",\n                    children: tradeHistory.map((trade, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `p-3 rounded ${parseFloat(trade.ff) >= 30 ? darkMode ? 'bg-slate-800' : 'bg-slate-100' : parseFloat(trade.ff) >= 16 ? darkMode ? 'bg-yellow-900' : 'bg-yellow-100' : darkMode ? 'bg-gray-700' : 'bg-gray-100'}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center gap-2 font-semibold mb-2\",\n                        children: [trade.ticker && trade.ticker !== 'N/A' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                            src: `https://img.logokit.com/ticker/${trade.ticker}?token=pk_fr93b6bfb5c425f6e3db62&format=png`,\n                            alt: trade.ticker,\n                            className: \"w-6 h-6 rounded object-contain\",\n                            onError: e => {\n                              e.target.style.display = 'none';\n                              e.target.nextElementSibling.style.display = 'flex';\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2634,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: `w-6 h-6 rounded-full hidden items-center justify-center text-xs font-bold text-white ${trade.ticker[0] <= 'F' ? 'bg-blue-500' : trade.ticker[0] <= 'L' ? 'bg-purple-500' : trade.ticker[0] <= 'R' ? 'bg-green-500' : trade.ticker[0] <= 'W' ? 'bg-orange-500' : 'bg-red-500'}`,\n                            children: trade.ticker[0]\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2643,\n                            columnNumber: 39\n                          }, this)]\n                        }, void 0, true), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [trade.ticker, \" - \", trade.date, \" | FF: \", trade.ff.toFixed(2), \"%\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2653,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2631,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs mt-1 space-y-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [\"Aktuell: Call $\", parseFloat(trade.callSpreadCurrent).toFixed(4), \" | Put $\", parseFloat(trade.putSpreadCurrent).toFixed(4)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2656,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [\"@ FF 30%: Call $\", parseFloat(trade.callSpreadFF30).toFixed(4), \" | Put $\", parseFloat(trade.putSpreadFF30).toFixed(4)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2657,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [\"@ FF 0%: Call $\", parseFloat(trade.callSpreadFF0).toFixed(4), \" | Put $\", parseFloat(trade.putSpreadFF0).toFixed(4)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2658,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2655,\n                        columnNumber: 33\n                      }, this)]\n                    }, idx, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2624,\n                      columnNumber: 31\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2622,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2620,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true)\n            }, void 0, false)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2055,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lg:col-span-1 space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-bold mb-4\",\n              children: \"Watchlist\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2673,\n              columnNumber: 15\n            }, this), watchlist.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-4 rounded-lg border-2 ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-gray-50 border-gray-200'}`,\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm opacity-75 text-center\",\n                children: \"Scan tickers to build your watchlist\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2679,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2676,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: watchlist.map((item, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `w-full text-left p-3 rounded-lg border-2 transition-all hover:scale-[1.02] ${item.type === 'spread' ? darkMode ? 'bg-slate-800 border-slate-600' : 'bg-slate-50 border-slate-200' : ticker === item.symbol ? darkMode ? 'bg-blue-900 border-blue-500' : 'bg-blue-50 border-blue-500' : darkMode ? 'bg-gray-800 border-gray-700 hover:bg-gray-700' : 'bg-gray-50 border-gray-200 hover:bg-gray-100'}`,\n                children: [item.type === 'spread' ?\n                /*#__PURE__*/\n                // Calendar Spread Watchlist Item\n                _jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2 mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs font-semibold bg-slate-500 text-white px-2 py-0.5 rounded\",\n                      children: \"SPREAD\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2706,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-bold\",\n                      children: item.symbol\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2709,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2705,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm mb-2\",\n                    children: [new Date(item.date1).toLocaleDateString('en-US', {\n                      month: 'short',\n                      day: 'numeric'\n                    }), \" \\u2192 \", new Date(item.date2).toLocaleDateString('en-US', {\n                      month: 'short',\n                      day: 'numeric'\n                    })]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2712,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs opacity-75\",\n                        children: \"FF\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2718,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `text-lg font-bold ${parseFloat(item.ff) >= 30 ? 'text-green-500' : parseFloat(item.ff) >= 16 ? 'text-yellow-500' : 'text-gray-500'}`,\n                        children: [item.ff, \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2719,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2717,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-right\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs opacity-75\",\n                        children: \"Strike\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2730,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-sm font-bold\",\n                        children: [\"$\", item.strike]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2731,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2729,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2716,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs mt-2 opacity-75 flex gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"IV: \", item.iv1, \"% \\u2192 \", item.iv2, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2736,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"DTE: \", item.dte1, \" \\u2192 \", item.dte2]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2737,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2735,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2704,\n                  columnNumber: 25\n                }, this) :\n                /*#__PURE__*/\n                // Stock Watchlist Item\n                _jsxDEV(\"button\", {\n                  onClick: () => {\n                    setTicker(item.symbol);\n                    fetchOptionData(item.symbol);\n                  },\n                  className: \"w-full text-left\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2 mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: `https://img.logokit.com/ticker/${item.symbol}?token=pk_fr93b6bfb5c425f6e3db62&format=png`,\n                      alt: item.symbol,\n                      className: \"w-6 h-6 rounded object-contain\",\n                      onError: e => {\n                        e.target.style.display = 'none';\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2750,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-bold\",\n                      children: item.symbol\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2758,\n                      columnNumber: 29\n                    }, this), item.hasEarnings && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-1.5 py-0.5 text-[10px] font-semibold rounded bg-yellow-500 text-black\",\n                      title: \"Has upcoming earnings\",\n                      children: \"\\uD83D\\uDCCA\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2760,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2749,\n                    columnNumber: 27\n                  }, this), item.price && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm mb-1\",\n                    children: [\"$\", parseFloat(item.price).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2767,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs opacity-75\",\n                        children: \"Best FF\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2774,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `text-lg font-bold ${parseFloat(item.bestFF) >= 30 ? 'text-green-500' : parseFloat(item.bestFF) >= 16 ? 'text-yellow-500' : 'text-gray-500'}`,\n                        children: [item.bestFF, \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2775,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2773,\n                      columnNumber: 29\n                    }, this), item.hasEarnings && item.earningsDate && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-right\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs opacity-75\",\n                        children: \"Earnings\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2788,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs font-semibold\",\n                        children: new Date(item.earningsDate).toLocaleDateString('en-US', {\n                          month: 'short',\n                          day: 'numeric'\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2789,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2787,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2772,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2742,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-[10px] opacity-50 mt-2\",\n                  children: new Date(item.lastUpdated).toLocaleDateString('en-US', {\n                    month: 'short',\n                    day: 'numeric',\n                    hour: '2-digit',\n                    minute: '2-digit'\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2798,\n                  columnNumber: 23\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2686,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2684,\n              columnNumber: 17\n            }, this), watchlist.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setWatchlist([]);\n                localStorage.removeItem('watchlist');\n              },\n              className: `w-full px-3 py-2 text-xs rounded transition-all ${darkMode ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}`,\n              children: \"Clear Watchlist\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2807,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2672,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1708,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1640,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1639,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-12 max-w-[1800px] mx-auto px-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${cardClass} rounded-lg shadow-lg p-6`,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold mb-4\",\n          children: \"\\uD83D\\uDCDD Changelog\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2829,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-l-4 border-blue-500 pl-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-blue-600\",\n              children: \"Latest Updates\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2832,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"text-sm mt-2 space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Enhanced Watchlist:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2834,\n                  columnNumber: 23\n                }, this), \" Now supports both stocks and calendar spreads\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2834,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"User Profiles:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2835,\n                  columnNumber: 23\n                }, this), \" Separate watchlists for Nils and Mr. FF\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2835,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Market Scanner:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2836,\n                  columnNumber: 23\n                }, this), \" On-demand scan for best FF opportunities (\\u2265$500M market cap)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2836,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Total Options Volume:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2837,\n                  columnNumber: 23\n                }, this), \" Now shows complete options volume (puts + calls, all strikes)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2837,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Post-Earnings Filter:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2838,\n                  columnNumber: 23\n                }, this), \" Hide spreads with front expiration after earnings\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2838,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Wider Layout:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2839,\n                  columnNumber: 23\n                }, this), \" Optimized for larger screens (1800px max-width)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2839,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2833,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2831,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-l-4 border-green-500 pl-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-green-600\",\n              children: \"Previous Features\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2844,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"text-sm mt-2 space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Forward Volatility Calculator:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2846,\n                  columnNumber: 23\n                }, this), \" Black-Scholes based FF calculations\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2846,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Earnings Integration:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2847,\n                  columnNumber: 23\n                }, this), \" Finnhub API for upcoming earnings dates\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2847,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Calendar Spread Scanner:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2848,\n                  columnNumber: 23\n                }, this), \" Automated spread recommendations\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2848,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Real-time Data:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2849,\n                  columnNumber: 23\n                }, this), \" Polygon.io integration for live options data\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2849,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Dark Mode:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2850,\n                  columnNumber: 23\n                }, this), \" Toggle between light and dark themes\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2850,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Recent Tickers:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2851,\n                  columnNumber: 23\n                }, this), \" Quick access to recently viewed stocks\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2851,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2845,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2843,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-l-4 border-purple-500 pl-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-purple-600\",\n              children: \"Technical Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2856,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"text-sm mt-2 space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Built with:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2858,\n                  columnNumber: 23\n                }, this), \" React, Tailwind CSS, Vercel Serverless Functions\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2858,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Data Sources:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2859,\n                  columnNumber: 23\n                }, this), \" Polygon.io (options), Finnhub (earnings), Yahoo Finance (prices)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2859,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Storage:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2860,\n                  columnNumber: 23\n                }, this), \" LocalStorage for user preferences and watchlists\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2860,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Performance:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2861,\n                  columnNumber: 23\n                }, this), \" 4-hour caching for market scans, non-blocking UI\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2861,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Forward Volatility:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2862,\n                  columnNumber: 23\n                }, this), \" Based on SSRN research paper methodology\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2862,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2857,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2855,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2830,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2828,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2827,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Analytics, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2869,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1638,\n    columnNumber: 5\n  }, this);\n}\n_s(ForwardVolCalculator, \"tyFNVRL1wehjup+0/jV7TWUm02c=\");\n_c = ForwardVolCalculator;\nvar _c;\n$RefreshReg$(_c, \"ForwardVolCalculator\");","map":{"version":3,"names":["React","useState","useEffect","Calendar","Download","Moon","Sun","Analytics","jsxDEV","_jsxDEV","Fragment","_Fragment","ForwardVolCalculator","_s","date1","setDate1","date2","setDate2","iv1","setIv1","iv2","setIv2","spotPrice","setSpotPrice","strikePrice","setStrikePrice","riskFreeRate","setRiskFreeRate","dividend","setDividend","showCalendar1","setShowCalendar1","showCalendar2","setShowCalendar2","result","setResult","darkMode","setDarkMode","tradeHistory","setTradeHistory","callPriceSlider","setCallPriceSlider","putPriceSlider","setPutPriceSlider","adjustedFFCall","setAdjustedFFCall","adjustedFFPut","setAdjustedFFPut","pricingModel","setPricingModel","ticker","setTicker","loading","setLoading","loadError","setLoadError","apiKey","setApiKey","localStorage","getItem","fmpApiKey","setFmpApiKey","showTickerDropdown","setShowTickerDropdown","filteredTickers","setFilteredTickers","volumeCallT1","setVolumeCallT1","volumeCallT2","setVolumeCallT2","oiCallT1","setOiCallT1","oiCallT2","setOiCallT2","availableExpirations","setAvailableExpirations","today","Date","fridays","currentDate","length","setDate","getDate","getDay","push","toISOString","split","marketCap","setMarketCap","avgOptionsVolume","setAvgOptionsVolume","recommendedSpreads","setRecommendedSpreads","scanningForSpreads","setScanningForSpreads","nextEarningsDate","setNextEarningsDate","earningsTime","setEarningsTime","earningsConflict","setEarningsConflict","currentUser","setCurrentUser","hidePostEarningsSpreads","setHidePostEarningsSpreads","marketScanResults","setMarketScanResults","loadingMarketScan","setLoadingMarketScan","lastMarketScan","setLastMarketScan","minOpenInterest","setMinOpenInterest","minVolume","setMinVolume","maxDTEGap","setMaxDTEGap","recentTickers","setRecentTickers","saved","JSON","parse","watchlist","setWatchlist","priceSource","setPriceSource","savedWatchlist","savedRecent","popularStocks","symbol","name","handleTickerChange","value","upper","toUpperCase","matches","filter","stock","startsWith","includes","slice","selectTicker","loadDemoData","setTimeout","calculateResults","addToRecentTickers","upperSymbol","trim","updated","t","setItem","stringify","addToWatchlist","bestFF","hasEarnings","earningsDate","price","spreadData","lastUpdated","item","addSpreadToWatchlist","spread","spreadId","strike","id","type","dte1","dte2","ff","callSpread","fetchMarketScan","console","log","response","fetch","status","data","json","success","results","lastScan","error","fetchOptionData","tickerSymbol","currentPrice","quoteUrl","quoteResponse","ok","quoteData","_quoteData$changePerc","toFixed","change","changePercentage","message","Error","c","tickerDetailsUrl","tickerDetailsResponse","_tickerDetailsData$re","tickerDetailsData","market_cap","expirationDates","contractsUrl","allDates","Set","contractsResponse","contractsData","forEach","contract","expiration_date","add","next_url","Array","from","sort","date","exp1Date","exp2Date","avgVol","calculateAvgOptionsVolume","fetchEarningsDate","roundedStrike","Math","round","gotRealIV1","gotRealIV2","totalVolume","volumeCount","chain1Url","chain1Response","chain1Data","atmCall","opt","_opt$details","details","strike_price","abs","a","b","_atmCall$day","implied_volatility","undefined","iv1Value","day","volume","open_interest","_opt$day","chain2Url","chain2Response","chain2Data","_opt$details2","_atmCall$day2","iv2Value","_opt$day2","optError","apiUrl","errorData","tradingDays","dayOfWeek","promises","map","then","res","catch","err","responses","Promise","all","dailyVolumes","index","dayTotal","_opt$day3","reduce","sum","vol","avgDailyVol","toLocaleString","scanCalendarSpreads","S","parseFloat","r","q","expsToScan","ivPromises","expDate","maxRetries","retryCount","timeoutPromise","_","reject","callsResponse","putsResponse","race","_callsData$results","_putsData$results","callsData","putsData","_putsData$results2","atmStrike","calls","_opt$details3","_opt$details4","contract_type","puts","_opt$details5","_opt$details6","callsWithDelta","_opt$greeks","greeks","delta","sortedCalls","deltaA","deltaB","selectedCall","correspondingPut","find","put","_put$details","iv","callOpenInterest","callVolume","putOpenInterest","putVolume","putIv","distA","distB","_put$details2","warn","errorText","text","substring","resolve","ivResults","spreads","now","i","j","exp1","exp2","d1","d2","daysToExp1","daysToExp2","T1","T2","v1","v2","numerator","denominator","forwardVol","sqrt","strike1","strike2","callT1","getOptionPrice","callT2","putT1","putT2","putSpread","isPostEarnings","frontExpDate","floor","callOpenInterest1","callVolume1","putOpenInterest1","putVolume1","callOpenInterest2","callVolume2","putOpenInterest2","putVolume2","filteredSpreads","s","callHasOI","putHasOI","callOIMeets","putOIMeets","callVolMeets","putVolMeets","dteGap","topSpreads","min","bestSpread","stack","calculateDTE","expirationDate","diffMs","diffDays","max","updateIVForDate","isFirstDate","chainUrl","chainResponse","chainData","_opt$details7","_atmCall$day3","ivValue","getNextFridays","normDist","x","a1","a2","a3","a4","a5","p","sign","y","exp","blackScholesCall","K","T","sigma","sqrtT","callPrice","blackScholesPut","putPrice","black76Call","F","black76Put","binomialCall","steps","dt","u","d","prices","pow","values","binomialPut","isCall","handlePriceSlider","newPrice","isCallSpread","d1_16NY","setHours","d2_16NY","msPerDay","frontPrice","targetBackPrice","v2Low","v2High","v2Mid","iteration","backPrice","diff","newFF","forwardFactor","forwardVolPct","callCalendarSpread","putCalendarSpread","targetForwardFactor30","requiredForwardVol30","iv2Squared30","requiredIV230","callT2At30","maxCallCalendarPrice30","putT2At30","maxPutCalendarPrice30","targetForwardFactor0","requiredForwardVol0","iv2Squared0","requiredIV20","callT2At0","callCalendarSpreadAt0","putT2At0","putCalendarSpreadAt0","newResult","timestamp","historyEntry","callSpreadCurrent","putSpreadCurrent","callSpreadFF30","putSpreadFF30","callSpreadFF0","putSpreadFF0","renderCalendar","onChange","show","setShow","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","friday","dateStr","isSelected","daysAway","toLocaleDateString","getFFColor","ffNum","chartData","dte","exportCSV","csv","row","join","blob","Blob","url","URL","createObjectURL","document","createElement","href","download","click","timeoutId","clearTimeout","strategyStart","strategyEnd","daysUntilEarnings","ceil","timing","bgClass","cardClass","borderClass","e","target","size","user","placeholder","rel","onFocus","onBlur","onKeyDown","key","disabled","title","recentTicker","weekday","year","month","label","setter","field","idx","step","src","alt","onError","style","display","nextElementSibling","borderColor","checked","parseInt","prevSpreads","filtered","toString","stopPropagation","_stock$price","defaultValue","trade","hour","minute","removeItem","_c","$RefreshReg$"],"sources":["/workspace/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Calendar, Download, Moon, Sun } from 'lucide-react';\nimport { Analytics } from '@vercel/analytics/react';\n\nexport default function ForwardVolCalculator() {\n  const [date1, setDate1] = useState('2025-10-24');\n  const [date2, setDate2] = useState('2025-10-31');\n  const [iv1, setIv1] = useState('50');\n  const [iv2, setIv2] = useState('40');\n  const [spotPrice, setSpotPrice] = useState('100');\n  const [strikePrice, setStrikePrice] = useState('100');\n  const [riskFreeRate, setRiskFreeRate] = useState('4');\n  const [dividend, setDividend] = useState('0');\n  const [showCalendar1, setShowCalendar1] = useState(false);\n  const [showCalendar2, setShowCalendar2] = useState(false);\n  const [result, setResult] = useState(null);\n  const [darkMode, setDarkMode] = useState(false);\n  const [tradeHistory, setTradeHistory] = useState([]);\n  const [callPriceSlider, setCallPriceSlider] = useState(null);\n  const [putPriceSlider, setPutPriceSlider] = useState(null);\n  const [adjustedFFCall, setAdjustedFFCall] = useState(null);\n  const [adjustedFFPut, setAdjustedFFPut] = useState(null);\n  const [pricingModel, setPricingModel] = useState('blackscholes');\n  const [ticker, setTicker] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [loadError, setLoadError] = useState(null);\n  const [apiKey, setApiKey] = useState(localStorage.getItem('polygonKey') || '');\n  const [fmpApiKey, setFmpApiKey] = useState(localStorage.getItem('fmpKey') || 'FjOgXW2EKCdlZWfAQTwkxja7WGS8RERD');\n  const [showTickerDropdown, setShowTickerDropdown] = useState(false);\n  const [filteredTickers, setFilteredTickers] = useState([]);\n  const [volumeCallT1, setVolumeCallT1] = useState(null);\n  const [volumeCallT2, setVolumeCallT2] = useState(null);\n  const [oiCallT1, setOiCallT1] = useState(null);\n  const [oiCallT2, setOiCallT2] = useState(null);\n  const [availableExpirations, setAvailableExpirations] = useState(() => {\n    // Default: next 50 Fridays\n    const today = new Date();\n    const fridays = [];\n    let currentDate = new Date(today);\n\n    while (fridays.length < 50) {\n      currentDate.setDate(currentDate.getDate() + 1);\n      if (currentDate.getDay() === 5) {\n        fridays.push(currentDate.toISOString().split('T')[0]);\n      }\n    }\n\n    return fridays;\n  });\n  const [marketCap, setMarketCap] = useState(null);\n  const [avgOptionsVolume, setAvgOptionsVolume] = useState(null);\n  const [recommendedSpreads, setRecommendedSpreads] = useState([]);\n  const [scanningForSpreads, setScanningForSpreads] = useState(false);\n  const [nextEarningsDate, setNextEarningsDate] = useState(null);\n  const [earningsTime, setEarningsTime] = useState(null);\n  const [earningsConflict, setEarningsConflict] = useState(null);\n  const [currentUser, setCurrentUser] = useState(() => {\n    return localStorage.getItem('currentUser') || 'Nils';\n  });\n  const [hidePostEarningsSpreads, setHidePostEarningsSpreads] = useState(false);\n  const [marketScanResults, setMarketScanResults] = useState([]);\n  const [loadingMarketScan, setLoadingMarketScan] = useState(false);\n  const [lastMarketScan, setLastMarketScan] = useState(null);\n  const [minOpenInterest, setMinOpenInterest] = useState(100);\n  const [minVolume, setMinVolume] = useState(0);\n  const [maxDTEGap, setMaxDTEGap] = useState(200); // Maximum gap between expirations in days\n  const [recentTickers, setRecentTickers] = useState(() => {\n    const saved = localStorage.getItem(`recentTickers_${currentUser}`);\n    return saved ? JSON.parse(saved) : [];\n  });\n  const [watchlist, setWatchlist] = useState(() => {\n    const saved = localStorage.getItem(`watchlist_${currentUser}`);\n    return saved ? JSON.parse(saved) : [];\n  });\n  const [priceSource, setPriceSource] = useState('');\n\n  // Reload user-specific data when user changes\n  useEffect(() => {\n    const savedWatchlist = localStorage.getItem(`watchlist_${currentUser}`);\n    const savedRecent = localStorage.getItem(`recentTickers_${currentUser}`);\n    setWatchlist(savedWatchlist ? JSON.parse(savedWatchlist) : []);\n    setRecentTickers(savedRecent ? JSON.parse(savedRecent) : []);\n  }, [currentUser]);\n\n  // Popular US stocks for autocomplete\n  const popularStocks = [\n    { symbol: 'AAPL', name: 'Apple Inc.' },\n    { symbol: 'MSFT', name: 'Microsoft Corporation' },\n    { symbol: 'GOOGL', name: 'Alphabet Inc.' },\n    { symbol: 'AMZN', name: 'Amazon.com Inc.' },\n    { symbol: 'NVDA', name: 'NVIDIA Corporation' },\n    { symbol: 'META', name: 'Meta Platforms Inc.' },\n    { symbol: 'TSLA', name: 'Tesla Inc.' },\n    { symbol: 'BRK.B', name: 'Berkshire Hathaway Inc.' },\n    { symbol: 'V', name: 'Visa Inc.' },\n    { symbol: 'JPM', name: 'JPMorgan Chase & Co.' },\n    { symbol: 'WMT', name: 'Walmart Inc.' },\n    { symbol: 'JNJ', name: 'Johnson & Johnson' },\n    { symbol: 'MA', name: 'Mastercard Inc.' },\n    { symbol: 'PG', name: 'Procter & Gamble Co.' },\n    { symbol: 'UNH', name: 'UnitedHealth Group Inc.' },\n    { symbol: 'HD', name: 'Home Depot Inc.' },\n    { symbol: 'DIS', name: 'Walt Disney Co.' },\n    { symbol: 'BAC', name: 'Bank of America Corp.' },\n    { symbol: 'ADBE', name: 'Adobe Inc.' },\n    { symbol: 'CRM', name: 'Salesforce Inc.' },\n    { symbol: 'NFLX', name: 'Netflix Inc.' },\n    { symbol: 'CMCSA', name: 'Comcast Corporation' },\n    { symbol: 'XOM', name: 'Exxon Mobil Corporation' },\n    { symbol: 'COST', name: 'Costco Wholesale Corp.' },\n    { symbol: 'PEP', name: 'PepsiCo Inc.' },\n    { symbol: 'TMO', name: 'Thermo Fisher Scientific Inc.' },\n    { symbol: 'ABT', name: 'Abbott Laboratories' },\n    { symbol: 'NKE', name: 'Nike Inc.' },\n    { symbol: 'CSCO', name: 'Cisco Systems Inc.' },\n    { symbol: 'ORCL', name: 'Oracle Corporation' },\n    { symbol: 'AMD', name: 'Advanced Micro Devices Inc.' },\n    { symbol: 'INTC', name: 'Intel Corporation' },\n    { symbol: 'QCOM', name: 'Qualcomm Inc.' },\n    { symbol: 'TXN', name: 'Texas Instruments Inc.' },\n    { symbol: 'AVGO', name: 'Broadcom Inc.' },\n    { symbol: 'CVX', name: 'Chevron Corporation' },\n    { symbol: 'KO', name: 'Coca-Cola Co.' },\n    { symbol: 'MCD', name: 'McDonald\\'s Corporation' },\n    { symbol: 'PYPL', name: 'PayPal Holdings Inc.' },\n    { symbol: 'UBER', name: 'Uber Technologies Inc.' },\n    { symbol: 'BA', name: 'Boeing Co.' },\n    { symbol: 'CAT', name: 'Caterpillar Inc.' },\n    { symbol: 'GE', name: 'General Electric Co.' },\n    { symbol: 'F', name: 'Ford Motor Co.' },\n    { symbol: 'GM', name: 'General Motors Co.' },\n    { symbol: 'SBUX', name: 'Starbucks Corporation' },\n    { symbol: 'PLTR', name: 'Palantir Technologies Inc.' },\n    { symbol: 'COIN', name: 'Coinbase Global Inc.' },\n    { symbol: 'SQ', name: 'Block Inc.' },\n    { symbol: 'SNOW', name: 'Snowflake Inc.' },\n    { symbol: 'SPY', name: 'SPDR S&P 500 ETF Trust' },\n    { symbol: 'QQQ', name: 'Invesco QQQ Trust' },\n    { symbol: 'IWM', name: 'iShares Russell 2000 ETF' },\n    { symbol: 'DIA', name: 'SPDR Dow Jones Industrial Average ETF' },\n    { symbol: 'VTI', name: 'Vanguard Total Stock Market ETF' },\n    { symbol: 'VOO', name: 'Vanguard S&P 500 ETF' },\n    { symbol: 'GLD', name: 'SPDR Gold Trust' },\n    { symbol: 'SLV', name: 'iShares Silver Trust' },\n    { symbol: 'TLT', name: 'iShares 20+ Year Treasury Bond ETF' },\n    { symbol: 'XLE', name: 'Energy Select Sector SPDR Fund' },\n    { symbol: 'XLF', name: 'Financial Select Sector SPDR Fund' },\n    { symbol: 'XLK', name: 'Technology Select Sector SPDR Fund' },\n  ];\n\n  const handleTickerChange = (value) => {\n    const upper = value.toUpperCase();\n    setTicker(upper);\n\n    if (upper.length > 0) {\n      const matches = popularStocks.filter(stock =>\n        stock.symbol.startsWith(upper) ||\n        stock.name.toUpperCase().includes(upper)\n      ).slice(0, 10);\n      setFilteredTickers(matches);\n      setShowTickerDropdown(matches.length > 0);\n    } else {\n      setFilteredTickers([]);\n      setShowTickerDropdown(false);\n    }\n  };\n\n  const selectTicker = (symbol) => {\n    setTicker(symbol);\n    setShowTickerDropdown(false);\n    setFilteredTickers([]);\n  };\n\n  const loadDemoData = () => {\n    // Demo data for SPY\n    setTicker('SPY');\n    setSpotPrice('580.25');\n    setStrikePrice('580');\n    setDate1('2025-10-24');\n    setDate2('2025-10-31');\n    setIv1('12.5');\n    setIv2('11.8');\n    setRiskFreeRate('4.5');\n    setDividend('1.2');\n\n    // Auto-calculate\n    setTimeout(() => calculateResults(), 100);\n  };\n\n  // Add ticker to recent tickers list\n  const addToRecentTickers = (symbol) => {\n    const upperSymbol = symbol.toUpperCase().trim();\n    const updated = [upperSymbol, ...recentTickers.filter(t => t !== upperSymbol)].slice(0, 6);\n    setRecentTickers(updated);\n    localStorage.setItem(`recentTickers_${currentUser}`, JSON.stringify(updated));\n  };\n\n  const addToWatchlist = (symbol, bestFF, hasEarnings, earningsDate, price, spreadData = null) => {\n    const upperSymbol = symbol.toUpperCase().trim();\n    const updated = [\n      {\n        symbol: upperSymbol,\n        bestFF: bestFF,\n        hasEarnings: hasEarnings,\n        earningsDate: earningsDate,\n        price: price,\n        spreadData: spreadData, // Calendar spread details if applicable\n        lastUpdated: new Date().toISOString()\n      },\n      ...watchlist.filter(item => item.symbol !== upperSymbol)\n    ].slice(0, 10); // Keep max 10 items\n    setWatchlist(updated);\n    localStorage.setItem(`watchlist_${currentUser}`, JSON.stringify(updated));\n  };\n\n  const addSpreadToWatchlist = (spread) => {\n    const spreadId = `${spread.date1}-${spread.date2}-${spread.strike}`;\n    const updated = [\n      {\n        id: spreadId,\n        type: 'spread',\n        symbol: ticker,\n        date1: spread.date1,\n        date2: spread.date2,\n        dte1: spread.dte1,\n        dte2: spread.dte2,\n        ff: spread.ff,\n        strike: spread.strike,\n        iv1: spread.iv1,\n        iv2: spread.iv2,\n        callSpread: spread.callSpread,\n        lastUpdated: new Date().toISOString()\n      },\n      ...watchlist.filter(item => item.id !== spreadId)\n    ].slice(0, 10); // Keep max 10 items\n    setWatchlist(updated);\n    localStorage.setItem(`watchlist_${currentUser}`, JSON.stringify(updated));\n  };\n\n  const fetchMarketScan = async () => {\n    console.log('ðŸ” Starting market scan...');\n    setLoadingMarketScan(true);\n    try {\n      console.log('ðŸ“¡ Fetching /api/market-scan...');\n      const response = await fetch('/api/market-scan');\n      console.log('ðŸ“¡ Response status:', response.status);\n      const data = await response.json();\n      console.log('ðŸ“¡ Response data:', data);\n      if (data.success) {\n        console.log('âœ… Market scan successful, setting results:', data.results.length, 'stocks');\n        setMarketScanResults(data.results);\n        setLastMarketScan(data.lastScan);\n      } else {\n        console.log('âŒ Market scan failed:', data);\n      }\n    } catch (error) {\n      console.error('âŒ Error fetching market scan:', error);\n    }\n    setLoadingMarketScan(false);\n    console.log('ðŸ” Market scan completed');\n  };\n\n  const fetchOptionData = async (tickerSymbol) => {\n    if (!tickerSymbol || tickerSymbol.trim() === '') {\n      setLoadError('Please enter a ticker symbol');\n      return;\n    }\n\n    if (!apiKey || apiKey.trim() === '') {\n      setLoadError('Please enter your Polygon.io API key');\n      return;\n    }\n\n    setLoading(true);\n    setLoadError(null);\n    \n    // Reset earnings data when loading new ticker\n    setNextEarningsDate(null);\n    setEarningsTime(null);\n\n    try {\n      const symbol = tickerSymbol.toUpperCase().trim();\n      console.log('Fetching data for:', symbol);\n\n      // Save API key to localStorage\n      localStorage.setItem('polygonKey', apiKey);\n\n      // 1. Get current price (real-time data from Tradier with Polygon fallback)\n      const today = new Date();\n      let currentPrice = null;\n      let priceSource = '';\n\n      // Try Tradier API first for live data\n      try {\n        console.log('Fetching live price from Tradier API...');\n        const quoteUrl = `/api/tradier-quote?symbol=${symbol}`;\n        const quoteResponse = await fetch(quoteUrl);\n\n        if (quoteResponse.ok) {\n          const quoteData = await quoteResponse.json();\n          console.log('Tradier quote data:', quoteData);\n\n          if (quoteData.success && quoteData.price > 0) {\n            currentPrice = quoteData.price;\n            priceSource = 'Tradier (Live)';\n            console.log(`âœ… Live price loaded: $${currentPrice.toFixed(2)} (${quoteData.change >= 0 ? '+' : ''}${quoteData.changePercentage?.toFixed(2)}%)`);\n          }\n        }\n      } catch (error) {\n        console.log('Tradier API failed, falling back to Polygon:', error.message);\n      }\n\n      // Fallback to Polygon.io if Tradier fails\n      if (!currentPrice) {\n        console.log('Fetching price from Polygon.io (fallback)...');\n        const quoteUrl = `https://api.polygon.io/v2/aggs/ticker/${symbol}/prev?adjusted=true&apiKey=${apiKey}`;\n        const quoteResponse = await fetch(quoteUrl);\n\n        if (!quoteResponse.ok) {\n          throw new Error(`API Error (${quoteResponse.status}). Check your API key.`);\n        }\n\n        const quoteData = await quoteResponse.json();\n        console.log('Polygon quote data:', quoteData);\n\n        if (quoteData.status === 'ERROR') {\n          throw new Error(quoteData.error || 'Invalid ticker symbol');\n        }\n\n        if (!quoteData.results || quoteData.results.length === 0) {\n          throw new Error('No price data available for this ticker');\n        }\n\n        const result = quoteData.results[0];\n        currentPrice = result.c; // closing price\n        priceSource = 'Polygon (Previous Close)';\n\n        if (!currentPrice || currentPrice <= 0) {\n          throw new Error('No valid price data available');\n        }\n\n        console.log(`âœ… Price loaded from ${priceSource}: $${currentPrice.toFixed(2)}`);\n      }\n\n      setSpotPrice(currentPrice.toFixed(2));\n      setPriceSource(priceSource);\n\n      // 2. Get ticker details (market cap)\n      try {\n        const tickerDetailsUrl = `https://api.polygon.io/v3/reference/tickers/${symbol}?apiKey=${apiKey}`;\n        const tickerDetailsResponse = await fetch(tickerDetailsUrl);\n        if (tickerDetailsResponse.ok) {\n          const tickerDetailsData = await tickerDetailsResponse.json();\n          if (tickerDetailsData.results?.market_cap) {\n            setMarketCap(tickerDetailsData.results.market_cap);\n          }\n        }\n      } catch (error) {\n        console.log('Could not load market cap:', error);\n      }\n\n      // 3. Load available expiration dates using Options Contracts Reference API\n      let expirationDates = [];\n      try {\n        console.log('Fetching available expiration dates...');\n        let contractsUrl = `https://api.polygon.io/v3/reference/options/contracts?underlying_ticker=${symbol}&expired=false&limit=1000&apiKey=${apiKey}`;\n        const allDates = new Set();\n\n        // Fetch all pages (pagination)\n        while (contractsUrl) {\n          const contractsResponse = await fetch(contractsUrl);\n          if (contractsResponse.ok) {\n            const contractsData = await contractsResponse.json();\n\n            if (contractsData.results && contractsData.results.length > 0) {\n              contractsData.results.forEach(contract => {\n                if (contract.expiration_date) {\n                  allDates.add(contract.expiration_date);\n                }\n              });\n            }\n\n            // Check for next page\n            contractsUrl = contractsData.next_url ? `${contractsData.next_url}&apiKey=${apiKey}` : null;\n          } else {\n            break;\n          }\n        }\n\n        // Sort dates and filter future dates only\n        expirationDates = Array.from(allDates)\n          .sort()\n          .filter(date => new Date(date) > today);\n\n        setAvailableExpirations(expirationDates);\n        console.log(`Found ${expirationDates.length} available expiration dates`);\n      } catch (error) {\n        console.log('Could not load expiration dates:', error);\n      }\n\n      // 4. Set default dates (use first two available, or calculate Fridays as fallback)\n      let exp1Date, exp2Date;\n\n      if (expirationDates.length >= 2) {\n        exp1Date = expirationDates[0];\n        exp2Date = expirationDates[1];\n        setDate1(exp1Date);\n        setDate2(exp2Date);\n      } else {\n        // Fallback: Calculate next two Fridays\n        const fridays = [];\n        let currentDate = new Date(today);\n\n        while (fridays.length < 2) {\n          if (currentDate.getDay() === 5 && currentDate > today) {\n            fridays.push(new Date(currentDate));\n          }\n          currentDate.setDate(currentDate.getDate() + 1);\n        }\n\n        exp1Date = fridays[0].toISOString().split('T')[0];\n        exp2Date = fridays[1].toISOString().split('T')[0];\n        setDate1(exp1Date);\n        setDate2(exp2Date);\n      }\n\n      // 4.5. Calculate average options volume (20 trading days)\n      const avgVol = await calculateAvgOptionsVolume(symbol, apiKey);\n      if (avgVol !== null) {\n        setAvgOptionsVolume(avgVol);\n      }\n\n      // 4.6. Fetch earnings date\n      console.log('About to fetch earnings date...');\n      await fetchEarningsDate(symbol, apiKey);\n      console.log('Earnings fetch completed');\n\n      // 5. Set ATM strike (rounded to nearest $5)\n      const roundedStrike = Math.round(currentPrice / 5) * 5;\n      setStrikePrice(roundedStrike.toFixed(2));\n\n      // 6. Try to get options data using Option Chain Snapshot API with date filters\n      let gotRealIV1 = false;\n      let gotRealIV2 = false;\n      let totalVolume = 0;\n      let volumeCount = 0;\n\n      try {\n        // Fetch expiration 1 options with date filter\n        const chain1Url = `https://api.polygon.io/v3/snapshot/options/${symbol}?expiration_date.gte=${exp1Date}&expiration_date.lte=${exp1Date}&contract_type=call&limit=250&apiKey=${apiKey}`;\n        console.log('Fetching options chain for expiration 1...');\n\n        const chain1Response = await fetch(chain1Url);\n\n        if (chain1Response.ok) {\n          const chain1Data = await chain1Response.json();\n          console.log('Expiration 1 options data:', chain1Data);\n\n          if (chain1Data.status === 'OK' && chain1Data.results && chain1Data.results.length > 0) {\n            // Find ATM call option - closest to rounded strike\n            const atmCall = chain1Data.results\n              .filter(opt => opt.details?.strike_price && Math.abs(opt.details.strike_price - roundedStrike) < 20)\n              .sort((a, b) => Math.abs(a.details.strike_price - roundedStrike) - Math.abs(b.details.strike_price - roundedStrike))[0];\n\n            if (atmCall) {\n              if (atmCall.implied_volatility !== undefined && atmCall.implied_volatility > 0) {\n                const iv1Value = (atmCall.implied_volatility * 100).toFixed(2);\n                setIv1(iv1Value);\n                gotRealIV1 = true;\n              }\n              if (atmCall.day?.volume !== undefined) {\n                setVolumeCallT1(atmCall.day.volume);\n                totalVolume += atmCall.day.volume;\n                volumeCount++;\n              }\n              if (atmCall.open_interest !== undefined) {\n                setOiCallT1(atmCall.open_interest);\n              }\n            }\n\n            // Calculate average volume from all options in this expiration\n            chain1Data.results.forEach(opt => {\n              if (opt.day?.volume !== undefined && opt.day.volume > 0) {\n                totalVolume += opt.day.volume;\n                volumeCount++;\n              }\n            });\n          }\n        }\n\n        // Fetch expiration 2 options with date filter\n        const chain2Url = `https://api.polygon.io/v3/snapshot/options/${symbol}?expiration_date.gte=${exp2Date}&expiration_date.lte=${exp2Date}&contract_type=call&limit=250&apiKey=${apiKey}`;\n        console.log('Fetching options chain for expiration 2...');\n\n        const chain2Response = await fetch(chain2Url);\n\n        if (chain2Response.ok) {\n          const chain2Data = await chain2Response.json();\n          console.log('Expiration 2 options data:', chain2Data);\n\n          if (chain2Data.status === 'OK' && chain2Data.results && chain2Data.results.length > 0) {\n            // Find ATM call option - closest to rounded strike\n            const atmCall = chain2Data.results\n              .filter(opt => opt.details?.strike_price && Math.abs(opt.details.strike_price - roundedStrike) < 20)\n              .sort((a, b) => Math.abs(a.details.strike_price - roundedStrike) - Math.abs(b.details.strike_price - roundedStrike))[0];\n\n            if (atmCall) {\n              if (atmCall.implied_volatility !== undefined && atmCall.implied_volatility > 0) {\n                const iv2Value = (atmCall.implied_volatility * 100).toFixed(2);\n                setIv2(iv2Value);\n                gotRealIV2 = true;\n              }\n              if (atmCall.day?.volume !== undefined) {\n                setVolumeCallT2(atmCall.day.volume);\n                totalVolume += atmCall.day.volume;\n                volumeCount++;\n              }\n              if (atmCall.open_interest !== undefined) {\n                setOiCallT2(atmCall.open_interest);\n              }\n            }\n\n            // Calculate average volume from all options in this expiration\n            chain2Data.results.forEach(opt => {\n              if (opt.day?.volume !== undefined && opt.day.volume > 0) {\n                totalVolume += opt.day.volume;\n                volumeCount++;\n              }\n            });\n          }\n        }\n\n        // Calculate and set average options volume\n        if (volumeCount > 0) {\n          const avgVol = Math.round(totalVolume / volumeCount);\n          setAvgOptionsVolume(avgVol);\n          console.log(`Average options volume: ${avgVol} (from ${volumeCount} contracts)`);\n        }\n\n        // If we didn't get real IV data, use defaults\n        if (!gotRealIV1 || !gotRealIV2) {\n          console.log('Options data not available (expected with free tier), using defaults');\n          if (!gotRealIV1) setIv1('30');\n          if (!gotRealIV2) setIv2('28');\n        }\n\n      } catch (optError) {\n        console.log('Error fetching options data:', optError);\n        // Use reasonable defaults based on historical volatility\n        setIv1('30');\n        setIv2('28');\n      }\n\n      setLoading(false);\n      setLoadError(null);\n\n      if (gotRealIV1 && gotRealIV2) {\n        console.log('âœ… Stock price and real IV data loaded from Polygon.io!');\n      } else {\n        console.log('âœ… Stock price loaded! IV values are estimates (upgrade for real IV data)');\n      }\n\n      // Auto-calculate after loading data\n      setTimeout(() => calculateResults(), 100);\n\n      // Add to recent tickers on successful load\n      addToRecentTickers(symbol);\n\n    } catch (error) {\n      console.error('Error fetching option data:', error);\n      setLoadError(error.message || 'Failed to load option data');\n      setLoading(false);\n    }\n  };\n\n  // Fetch next earnings date using our serverless API (bypasses CORS)\n  const fetchEarningsDate = async (symbol, apiKey) => {\n    try {\n      console.log('ðŸ“Š Fetching earnings date for:', symbol);\n      \n      // Use our serverless API endpoint (works both locally and deployed)\n      const apiUrl = `/api/earnings?symbol=${symbol}`;\n      console.log('Fetching from API:', apiUrl);\n      \n      const response = await fetch(apiUrl);\n      console.log('API response status:', response.status);\n      \n      if (response.ok) {\n        const data = await response.json();\n        console.log('API data received:', data);\n        \n        if (data.success && data.earningsDate) {\n          setNextEarningsDate(data.earningsDate);\n          setEarningsTime(data.earningsTime || 'Scheduled');\n          console.log('âœ… Successfully set earnings date:', data.earningsDate, data.earningsTime);\n          return;\n        } else {\n          console.log('No earnings data in response');\n        }\n      } else {\n        const errorData = await response.json();\n        console.error('API error:', response.status, errorData);\n      }\n      \n      // If no earnings found\n      setNextEarningsDate(null);\n      setEarningsTime(null);\n      console.log('â„¹ï¸ No upcoming earnings found for', symbol);\n      \n    } catch (error) {\n      console.error('âŒ Error fetching earnings date:', error);\n      setNextEarningsDate(null);\n      setEarningsTime(null);\n    }\n  };\n\n  // Calculate average TOTAL options volume (puts + calls) over last 20 trading days\n  const calculateAvgOptionsVolume = async (symbol, apiKey) => {\n    try {\n      console.log('Calculating average TOTAL options volume (puts + calls, 20 days)...');\n\n      // Calculate last 20 trading days (skip weekends)\n      const tradingDays = [];\n      let currentDate = new Date();\n\n      while (tradingDays.length < 20) {\n        currentDate.setDate(currentDate.getDate() - 1);\n        const dayOfWeek = currentDate.getDay();\n        // Skip weekends (0 = Sunday, 6 = Saturday)\n        if (dayOfWeek !== 0 && dayOfWeek !== 6) {\n          tradingDays.push(currentDate.toISOString().split('T')[0]);\n        }\n      }\n\n      // Fetch snapshots for all 20 days in parallel (no rate limit!)\n      const promises = tradingDays.map(date =>\n        fetch(`https://api.polygon.io/v3/snapshot/options/${symbol}?expiration_date=${date}&limit=1000&apiKey=${apiKey}`)\n          .then(res => res.json())\n          .catch(err => {\n            console.log(`Failed to fetch snapshot for ${date}:`, err);\n            return null;\n          })\n      );\n\n      const responses = await Promise.all(promises);\n\n      // Calculate total volume per day, then average across days\n      const dailyVolumes = [];\n\n      responses.forEach((data, index) => {\n        if (data?.results && data.results.length > 0) {\n          let dayTotal = 0;\n          data.results.forEach(opt => {\n            if (opt.day?.volume && opt.day.volume > 0) {\n              dayTotal += opt.day.volume;\n            }\n          });\n          if (dayTotal > 0) {\n            dailyVolumes.push(dayTotal);\n          }\n        }\n      });\n\n      if (dailyVolumes.length > 0) {\n        const totalVolume = dailyVolumes.reduce((sum, vol) => sum + vol, 0);\n        const avgDailyVol = Math.round(totalVolume / dailyVolumes.length);\n        console.log(`Average daily TOTAL options volume (puts + calls): ${avgDailyVol.toLocaleString()} (from ${dailyVolumes.length} days)`);\n        return avgDailyVol;\n      }\n\n      return null;\n    } catch (error) {\n      console.error('Error calculating avg options volume:', error);\n      return null;\n    }\n  };\n\n  // Scan all expiration combinations to find highest FF spreads\n  const scanCalendarSpreads = async () => {\n    if (!ticker || !apiKey || availableExpirations.length < 2) return;\n\n    setScanningForSpreads(true);\n    setRecommendedSpreads([]);\n\n    try {\n      const symbol = ticker.toUpperCase().trim();\n      const S = parseFloat(spotPrice);\n      const r = parseFloat(riskFreeRate) / 100;\n      const q = parseFloat(dividend) / 100;\n\n      // Check if we have enough expirations\n      if (availableExpirations.length < 2) {\n        setLoadError(`Not enough expirations found for ${symbol}. Found ${availableExpirations.length} expirations, need at least 2. This ticker may not have active options trading. Try a major stock like AAPL, TSLA, or SPY.`);\n        setScanningForSpreads(false);\n        return;\n      }\n\n      // Fetch IV data for up to first 20 expirations (to avoid too many API calls)\n      const expsToScan = availableExpirations.slice(0, 20); // Back to original: scan all available expirations\n      \n      console.log('=== SCAN START ===');\n      console.log('Ticker:', symbol);\n      console.log('Spot Price:', S);\n      console.log('Available expirations:', availableExpirations.length);\n      console.log('Will scan first:', expsToScan.length);\n      console.log('Expirations to scan:', expsToScan);\n\n      // Fetch IV for all expirations in parallel (both calls and puts)\n      const ivPromises = expsToScan.map(async (expDate, index) => {\n        const maxRetries = 2; // Back to original: more reliable API calls\n        let retryCount = 0;\n        \n        while (retryCount <= maxRetries) {\n          try {\n            console.log(`[${index + 1}/${expsToScan.length}] Fetching IV for ${expDate}${retryCount > 0 ? ` (retry ${retryCount})` : ''}...`);\n            \n            // Add timeout for API calls\n            const timeoutPromise = new Promise((_, reject) => \n              setTimeout(() => reject(new Error('API timeout')), 15000) // Back to original: longer timeout for reliability\n            );\n            \n            // Fetch both calls and puts with timeout\n            const [callsResponse, putsResponse] = await Promise.race([\n              Promise.all([\n                fetch(`https://api.polygon.io/v3/snapshot/options/${symbol}?expiration_date.gte=${expDate}&expiration_date.lte=${expDate}&contract_type=call&limit=250&apiKey=${apiKey}`),\n                fetch(`https://api.polygon.io/v3/snapshot/options/${symbol}?expiration_date.gte=${expDate}&expiration_date.lte=${expDate}&contract_type=put&limit=250&apiKey=${apiKey}`)\n              ]),\n              timeoutPromise\n            ]);\n\n          console.log(`  â†’ Calls response status: ${callsResponse.status}`);\n          console.log(`  â†’ Puts response status: ${putsResponse.status}`);\n\n          if (callsResponse.ok && putsResponse.ok) {\n            const [callsData, putsData] = await Promise.all([\n              callsResponse.json(),\n              putsResponse.json()\n            ]);\n            console.log(`  â†’ Calls API Status: ${callsData.status}, Results: ${callsData.results?.length || 0}`);\n            console.log(`  â†’ Puts API Status: ${putsData.status}, Results: ${putsData.results?.length || 0}`);\n            \n            if (callsData.status === 'OK' && callsData.results && callsData.results.length > 0) {\n              // Find strike closest to 0.5 delta, fallback to ATM\n              // For stocks under $10, use $1 increments, otherwise $5 increments\n              const atmStrike = S < 10 ? Math.round(S) : Math.round(S / 5) * 5;\n              console.log(`  â†’ Current price: $${S}, ATM strike: $${atmStrike}`);\n              const calls = callsData.results.filter(opt => \n                opt.details?.strike_price && \n                opt.details?.contract_type === 'call' &&\n                opt.implied_volatility > 0\n              );\n              \n              const puts = putsData.results?.filter(opt => \n                opt.details?.strike_price && \n                opt.details?.contract_type === 'put' &&\n                opt.implied_volatility > 0\n              ) || [];\n              \n              if (calls.length > 0) {\n                // Find strike with delta closest to 0.5 (for calls)\n                const callsWithDelta = calls.filter(opt => opt.greeks?.delta !== undefined);\n                \n                if (callsWithDelta.length > 0) {\n                  // Sort by delta closest to 0.5\n                  const sortedCalls = callsWithDelta.sort((a, b) => {\n                    const deltaA = Math.abs(a.greeks.delta - 0.5);\n                    const deltaB = Math.abs(b.greeks.delta - 0.5);\n                    return deltaA - deltaB;\n                  });\n\n                  const selectedCall = sortedCalls[0];\n                  if (selectedCall && selectedCall.implied_volatility > 0) {\n                    console.log(`  âœ“ Found call at strike ${selectedCall.details.strike_price}, IV: ${(selectedCall.implied_volatility * 100).toFixed(2)}%, Delta: ${(selectedCall.greeks.delta * 100).toFixed(1)}% (closest to 0.5 delta)`);\n                    // Find corresponding put option\n                    const correspondingPut = puts.find(put => \n                      put.details?.strike_price === selectedCall.details.strike_price\n                    );\n                    \n                    return { \n                      date: expDate, \n                      iv: selectedCall.implied_volatility,\n                      strike: selectedCall.details.strike_price,\n                      delta: selectedCall.greeks.delta,\n                      callOpenInterest: selectedCall.open_interest || 0,\n                      callVolume: selectedCall.volume || 0,\n                      putOpenInterest: correspondingPut?.open_interest || 0,\n                      putVolume: correspondingPut?.volume || 0,\n                      putIv: correspondingPut?.implied_volatility || 0\n                    };\n                  }\n                } else {\n                  // Fallback: closest to ATM if no delta data\n                  console.log(`  â†’ No delta data available, using ATM fallback`);\n                  const sortedCalls = calls\n                    .sort((a, b) => {\n                      const distA = Math.abs(a.details.strike_price - atmStrike);\n                      const distB = Math.abs(b.details.strike_price - atmStrike);\n                      return distA - distB;\n                    });\n\n                  const selectedCall = sortedCalls[0];\n                  if (selectedCall && selectedCall.implied_volatility > 0) {\n                    console.log(`  âœ“ Found call at strike ${selectedCall.details.strike_price}, IV: ${(selectedCall.implied_volatility * 100).toFixed(2)}% (ATM fallback)`);\n                    // Find corresponding put option\n                    const correspondingPut = puts.find(put => \n                      put.details?.strike_price === selectedCall.details.strike_price\n                    );\n                    \n                    return { \n                      date: expDate, \n                      iv: selectedCall.implied_volatility,\n                      strike: selectedCall.details.strike_price,\n                      delta: null,\n                      callOpenInterest: selectedCall.open_interest || 0,\n                      callVolume: selectedCall.volume || 0,\n                      putOpenInterest: correspondingPut?.open_interest || 0,\n                      putVolume: correspondingPut?.volume || 0,\n                      putIv: correspondingPut?.implied_volatility || 0\n                    };\n                  }\n                }\n              }\n              \n              console.log(`  âœ— No suitable call found for ${expDate} (${calls.length} calls available)`);\n            } else {\n              console.log(`  âœ— No valid results in response`);\n            }\n          } else {\n            console.warn(`  âœ— HTTP Error: Calls ${callsResponse.status}, Puts ${putsResponse.status}`);\n            if (!callsResponse.ok) {\n              const errorText = await callsResponse.text();\n              console.warn(`  âœ— Calls error: ${errorText.substring(0, 200)}...`);\n            }\n            if (!putsResponse.ok) {\n              const errorText = await putsResponse.text();\n              console.warn(`  âœ— Puts error: ${errorText.substring(0, 200)}...`);\n            }\n          }\n        } catch (error) {\n            retryCount++;\n            if (retryCount <= maxRetries) {\n              console.warn(`  âš ï¸ Attempt ${retryCount} failed for ${expDate}: ${error.message}. Retrying...`);\n              await new Promise(resolve => setTimeout(resolve, 1000 * retryCount)); // Exponential backoff\n              continue;\n            } else {\n              if (error.message === 'API timeout') {\n                console.warn(`  â° Timeout for ${expDate} after ${maxRetries} retries - skipping`);\n              } else {\n                console.error(`  âœ— Exception for ${expDate} after ${maxRetries} retries:`, error.message);\n              }\n              break;\n            }\n          }\n        }\n        return null;\n      });\n\n      const ivResults = (await Promise.all(ivPromises)).filter(r => r !== null);\n\n      console.log('=== IV FETCH COMPLETE ===');\n      console.log(`Successfully fetched IV for ${ivResults.length}/${expsToScan.length} expirations`);\n      console.log('IV Results:', ivResults);\n\n      if (ivResults.length < 2) {\n        console.warn('âŒ NOT ENOUGH IV DATA');\n        console.warn(`Only ${ivResults.length} expirations had valid IV data`);\n        console.warn('Expirations scanned:', expsToScan);\n        console.warn('IV Results:', ivResults);\n        \n        if (ivResults.length === 0) {\n          setLoadError(`No options data found for ${symbol}. This ticker may not have active options trading. Try a major stock like AAPL, TSLA, or SPY.`);\n        } else {\n          setLoadError(`Scanner found IV data for only ${ivResults.length}/${expsToScan.length} expirations. This ticker may have limited options data. Try a major stock like AAPL, TSLA, or SPY.`);\n        }\n        setScanningForSpreads(false);\n        return;\n      }\n\n      // Calculate FF for all combinations\n      const spreads = [];\n      const now = new Date();\n\n      for (let i = 0; i < ivResults.length - 1; i++) {\n        for (let j = i + 1; j < ivResults.length; j++) {\n          const exp1 = ivResults[i];\n          const exp2 = ivResults[j];\n\n          const d1 = new Date(exp1.date + 'T16:00:00-04:00');\n          const d2 = new Date(exp2.date + 'T16:00:00-04:00');\n\n          const daysToExp1 = (d1 - now) / (1000 * 60 * 60 * 24);\n          const daysToExp2 = (d2 - now) / (1000 * 60 * 60 * 24);\n\n          if (daysToExp1 <= 0 || daysToExp2 <= 0) continue;\n\n          const T1 = daysToExp1 / 365;\n          const T2 = daysToExp2 / 365;\n\n          const v1 = exp1.iv;\n          const v2 = exp2.iv;\n\n          const numerator = (T2 * v2 * v2) - (T1 * v1 * v1);\n          const denominator = T2 - T1;\n\n          if (numerator > 0 && denominator > 0) {\n            const forwardVol = Math.sqrt(numerator / denominator);\n            const ff = ((v1 / forwardVol) - 1) * 100;\n\n            // Use the strike from the selected option (prefer delta-based selection)\n            const strike1 = exp1.strike || Math.round(S / 5) * 5;\n            const strike2 = exp2.strike || Math.round(S / 5) * 5;\n            \n            // Calculate call spread price using the selected strikes\n            const callT1 = getOptionPrice(S, strike1, T1, r, v1, q, true);\n            const callT2 = getOptionPrice(S, strike2, T2, r, v2, q, true);\n            const callSpread = callT2 - callT1;\n\n            // Calculate put spread price using the selected strikes\n            const putT1 = getOptionPrice(S, strike1, T1, r, v1, q, false);\n            const putT2 = getOptionPrice(S, strike2, T2, r, v2, q, false);\n            const putSpread = putT2 - putT1;\n\n            // Check if front expiration is after earnings\n            let isPostEarnings = false;\n            if (nextEarningsDate) {\n              const earningsDate = new Date(nextEarningsDate);\n              const frontExpDate = new Date(exp1.date);\n              // Post-earnings if front exp is after earnings\n              isPostEarnings = frontExpDate > earningsDate;\n            }\n\n            spreads.push({\n              date1: exp1.date,\n              date2: exp2.date,\n              dte1: Math.floor(daysToExp1),\n              dte2: Math.floor(daysToExp2),\n              ff: ff,\n              iv1: (v1 * 100).toFixed(2),\n              iv2: (v2 * 100).toFixed(2),\n              callSpread: callSpread.toFixed(2),\n              putSpread: putSpread.toFixed(2),\n              strike: strike1, // Use the selected strike from delta-based selection\n              isPostEarnings: isPostEarnings,\n              // Liquidity data from exp1 (front expiration)\n              callOpenInterest1: exp1.callOpenInterest || 0,\n              callVolume1: exp1.callVolume || 0,\n              putOpenInterest1: exp1.putOpenInterest || 0,\n              putVolume1: exp1.putVolume || 0,\n              // Liquidity data from exp2 (back expiration)\n              callOpenInterest2: exp2.callOpenInterest || 0,\n              callVolume2: exp2.callVolume || 0,\n              putOpenInterest2: exp2.putOpenInterest || 0,\n              putVolume2: exp2.putVolume || 0\n            });\n          } else {\n            // Invalid IV combination - Forward Vol would be imaginary\n            const strike1 = exp1.strike || Math.round(S / 5) * 5;\n            const strike2 = exp2.strike || Math.round(S / 5) * 5;\n            \n            // Calculate call spread price using the selected strikes\n            const callT1 = getOptionPrice(S, strike1, T1, r, v1, q, true);\n            const callT2 = getOptionPrice(S, strike2, T2, r, v2, q, true);\n            const callSpread = callT2 - callT1;\n\n            // Calculate put spread price using the selected strikes\n            const putT1 = getOptionPrice(S, strike1, T1, r, v1, q, false);\n            const putT2 = getOptionPrice(S, strike2, T2, r, v2, q, false);\n            const putSpread = putT2 - putT1;\n\n            // Check if front expiration is after earnings\n            let isPostEarnings = false;\n            if (nextEarningsDate) {\n              const earningsDate = new Date(nextEarningsDate);\n              const frontExpDate = new Date(exp1.date);\n              // Post-earnings if front exp is after earnings\n              isPostEarnings = frontExpDate > earningsDate;\n            }\n\n            spreads.push({\n              date1: exp1.date,\n              date2: exp2.date,\n              dte1: Math.floor(daysToExp1),\n              dte2: Math.floor(daysToExp2),\n              ff: 'âˆž', // Infinity symbol for invalid IV combination\n              iv1: (v1 * 100).toFixed(2),\n              iv2: (v2 * 100).toFixed(2),\n              callSpread: callSpread.toFixed(2),\n              putSpread: putSpread.toFixed(2),\n              strike: strike1,\n              isPostEarnings: isPostEarnings,\n              // Liquidity data from exp1 (front expiration)\n              callOpenInterest1: exp1.callOpenInterest || 0,\n              callVolume1: exp1.callVolume || 0,\n              putOpenInterest1: exp1.putOpenInterest || 0,\n              putVolume1: exp1.putVolume || 0,\n              // Liquidity data from exp2 (back expiration)\n              callOpenInterest2: exp2.callOpenInterest || 0,\n              callVolume2: exp2.callVolume || 0,\n              putOpenInterest2: exp2.putOpenInterest || 0,\n              putVolume2: exp2.putVolume || 0\n            });\n          }\n        }\n      }\n\n      console.log('=== CALCULATING SPREADS ===');\n      console.log(`Calculating spreads from ${ivResults.length} expirations...`);\n      console.log(`Generated ${spreads.length} total spreads`);\n\n      // Filter out post-earnings spreads if requested\n      let filteredSpreads = spreads;\n      if (hidePostEarningsSpreads) {\n        filteredSpreads = spreads.filter(s => !s.isPostEarnings);\n        console.log(`Filtered to ${filteredSpreads.length} spreads (removed post-earnings)`);\n      }\n\n      // Always filter out options with zero open interest\n      filteredSpreads = filteredSpreads.filter(s => {\n        const callHasOI = (s.callOpenInterest1 > 0 && s.callOpenInterest2 > 0);\n        const putHasOI = (s.putOpenInterest1 > 0 && s.putOpenInterest2 > 0);\n        \n        // At least one option type (call or put) must have open interest\n        return callHasOI || putHasOI;\n      });\n      console.log(`Filtered to ${filteredSpreads.length} spreads (removed zero OI options)`);\n\n      // Apply additional liquidity filters\n      if (minOpenInterest > 0 || minVolume > 0) {\n        filteredSpreads = filteredSpreads.filter(s => {\n          const callOIMeets = (s.callOpenInterest1 >= minOpenInterest && s.callOpenInterest2 >= minOpenInterest);\n          const putOIMeets = (s.putOpenInterest1 >= minOpenInterest && s.putOpenInterest2 >= minOpenInterest);\n          const callVolMeets = (s.callVolume1 >= minVolume && s.callVolume2 >= minVolume);\n          const putVolMeets = (s.putVolume1 >= minVolume && s.putVolume2 >= minVolume);\n          \n          // At least one option type (call or put) must meet the criteria\n          return (callOIMeets && callVolMeets) || (putOIMeets && putVolMeets);\n        });\n        console.log(`Filtered to ${filteredSpreads.length} spreads (applied additional liquidity filters)`);\n      }\n\n      // Apply DTE gap filter\n      if (maxDTEGap > 0) {\n        filteredSpreads = filteredSpreads.filter(s => {\n          const dteGap = s.dte2 - s.dte1;\n          return dteGap <= maxDTEGap;\n        });\n        console.log(`Filtered to ${filteredSpreads.length} spreads (applied DTE gap filter: max ${maxDTEGap} days)`);\n      }\n\n      // Sort by FF descending and take top 10\n      filteredSpreads.sort((a, b) => b.ff - a.ff);\n      const topSpreads = filteredSpreads.slice(0, 10);\n\n      console.log('=== SCAN COMPLETE ===');\n      console.log(`Found ${filteredSpreads.length} valid spreads, showing top ${Math.min(10, topSpreads.length)}`);\n      console.log('Top 10 spreads:', topSpreads);\n      console.log('Setting recommended spreads...', topSpreads.length, 'spreads');\n      setRecommendedSpreads(topSpreads);\n      console.log('Recommended spreads set successfully');\n\n      // Add to watchlist with best FF\n      if (topSpreads.length > 0) {\n        const bestSpread = topSpreads[0];\n        addToWatchlist(\n          symbol,\n          bestSpread.ff.toFixed(2),\n          nextEarningsDate !== null,\n          nextEarningsDate,\n          S.toFixed(2)\n        );\n      }\n\n    } catch (error) {\n      console.error('=== SCAN ERROR ===');\n      console.error('Error scanning calendar spreads:', error);\n      console.error('Error stack:', error.stack);\n      setLoadError(`Scan failed: ${error.message}`);\n    }\n\n    setScanningForSpreads(false);\n  };\n\n  // Calculate DTE (Days to Expiration) for a given date\n  const calculateDTE = (expirationDate) => {\n    const expDate = new Date(expirationDate + 'T16:00:00-04:00'); // 4 PM EST\n    const now = new Date();\n    const diffMs = expDate - now;\n    const diffDays = diffMs / (1000 * 60 * 60 * 24);\n    return Math.max(0, Math.floor(diffDays));\n  };\n\n  // Function to update IV based on selected expiration date\n  const updateIVForDate = async (expirationDate, isFirstDate) => {\n    if (!ticker || !apiKey || !expirationDate) return;\n\n    try {\n      const symbol = ticker.toUpperCase().trim();\n      const roundedStrike = Math.round(parseFloat(spotPrice) / 5) * 5;\n\n      const chainUrl = `https://api.polygon.io/v3/snapshot/options/${symbol}?expiration_date.gte=${expirationDate}&expiration_date.lte=${expirationDate}&contract_type=call&limit=250&apiKey=${apiKey}`;\n      console.log(`Fetching IV for ${expirationDate}...`);\n\n      const chainResponse = await fetch(chainUrl);\n\n      if (chainResponse.ok) {\n        const chainData = await chainResponse.json();\n\n        if (chainData.status === 'OK' && chainData.results && chainData.results.length > 0) {\n          // Find ATM call option - closest to rounded strike\n          const atmCall = chainData.results\n            .filter(opt => opt.details?.strike_price && Math.abs(opt.details.strike_price - roundedStrike) < 20)\n            .sort((a, b) => Math.abs(a.details.strike_price - roundedStrike) - Math.abs(b.details.strike_price - roundedStrike))[0];\n\n          if (atmCall) {\n            if (atmCall.implied_volatility !== undefined && atmCall.implied_volatility > 0) {\n              const ivValue = (atmCall.implied_volatility * 100).toFixed(2);\n              if (isFirstDate) {\n                setIv1(ivValue);\n              } else {\n                setIv2(ivValue);\n              }\n            }\n            if (atmCall.day?.volume !== undefined) {\n              if (isFirstDate) {\n                setVolumeCallT1(atmCall.day.volume);\n              } else {\n                setVolumeCallT2(atmCall.day.volume);\n              }\n            }\n            if (atmCall.open_interest !== undefined) {\n              if (isFirstDate) {\n                setOiCallT1(atmCall.open_interest);\n              } else {\n                setOiCallT2(atmCall.open_interest);\n              }\n            }\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error updating IV:', error);\n    }\n  };\n\n  const getNextFridays = () => {\n    const today = new Date();\n    let fridays = [];\n    let currentDate = new Date(today);\n\n    while (fridays.length < 50) {\n      if (currentDate.getDay() === 5) {\n        fridays.push(new Date(currentDate));\n      }\n      currentDate.setDate(currentDate.getDate() + 1);\n    }\n    return fridays;\n  };\n\n  const normDist = (x) => {\n    const a1 = 0.254829592;\n    const a2 = -0.284496736;\n    const a3 = 1.421413741;\n    const a4 = -1.453152027;\n    const a5 = 1.061405429;\n    const p = 0.3275911;\n\n    const sign = x < 0 ? -1 : 1;\n    x = Math.abs(x) / Math.sqrt(2);\n\n    const t = 1.0 / (1.0 + p * x);\n    const y = 1.0 - (((((a5 * t + a4) * t + a3) * t + a2) * t + a1) * t * Math.exp(-x * x));\n\n    return 0.5 * (1.0 + sign * y);\n  };\n\n  const blackScholesCall = (S, K, T, r, sigma, q = 0) => {\n    if (T <= 0 || sigma <= 0) return Math.max(S - K, 0);\n    \n    const sqrtT = Math.sqrt(T);\n    const d1 = (Math.log(S / K) + (r - q + 0.5 * sigma * sigma) * T) / (sigma * sqrtT);\n    const d2 = d1 - sigma * sqrtT;\n    \n    const callPrice = S * Math.exp(-q * T) * normDist(d1) - K * Math.exp(-r * T) * normDist(d2);\n    return Math.max(callPrice, 0);\n  };\n\n  const blackScholesPut = (S, K, T, r, sigma, q = 0) => {\n    if (T <= 0 || sigma <= 0) return Math.max(K - S, 0);\n    \n    const sqrtT = Math.sqrt(T);\n    const d1 = (Math.log(S / K) + (r - q + 0.5 * sigma * sigma) * T) / (sigma * sqrtT);\n    const d2 = d1 - sigma * sqrtT;\n    \n    const putPrice = K * Math.exp(-r * T) * normDist(-d2) - S * Math.exp(-q * T) * normDist(-d1);\n    return Math.max(putPrice, 0);\n  };\n\n  const black76Call = (F, K, T, r, sigma) => {\n    if (T <= 0 || sigma <= 0) return Math.max(F - K, 0);\n    \n    const sqrtT = Math.sqrt(T);\n    const d1 = (Math.log(F / K) + (0.5 * sigma * sigma) * T) / (sigma * sqrtT);\n    const d2 = d1 - sigma * sqrtT;\n    \n    const callPrice = Math.exp(-r * T) * (F * normDist(d1) - K * normDist(d2));\n    return Math.max(callPrice, 0);\n  };\n\n  const black76Put = (F, K, T, r, sigma) => {\n    if (T <= 0 || sigma <= 0) return Math.max(K - F, 0);\n    \n    const sqrtT = Math.sqrt(T);\n    const d1 = (Math.log(F / K) + (0.5 * sigma * sigma) * T) / (sigma * sqrtT);\n    const d2 = d1 - sigma * sqrtT;\n    \n    const putPrice = Math.exp(-r * T) * (K * normDist(-d2) - F * normDist(-d1));\n    return Math.max(putPrice, 0);\n  };\n\n  const binomialCall = (S, K, T, r, sigma, q = 0, steps = 50) => {\n    const dt = T / steps;\n    const u = Math.exp(sigma * Math.sqrt(dt));\n    const d = 1 / u;\n    const p = (Math.exp((r - q) * dt) - d) / (u - d);\n    \n    // Stock prices at maturity\n    const prices = [];\n    for (let i = 0; i <= steps; i++) {\n      prices[i] = S * Math.pow(u, steps - i) * Math.pow(d, i);\n    }\n    \n    // Option values at maturity\n    const values = prices.map(price => Math.max(price - K, 0));\n    \n    // Backward induction\n    for (let j = steps - 1; j >= 0; j--) {\n      for (let i = 0; i <= j; i++) {\n        values[i] = Math.exp(-r * dt) * (p * values[i] + (1 - p) * values[i + 1]);\n      }\n    }\n    \n    return values[0];\n  };\n\n  const binomialPut = (S, K, T, r, sigma, q = 0, steps = 50) => {\n    const dt = T / steps;\n    const u = Math.exp(sigma * Math.sqrt(dt));\n    const d = 1 / u;\n    const p = (Math.exp((r - q) * dt) - d) / (u - d);\n    \n    // Stock prices at maturity\n    const prices = [];\n    for (let i = 0; i <= steps; i++) {\n      prices[i] = S * Math.pow(u, steps - i) * Math.pow(d, i);\n    }\n    \n    // Option values at maturity\n    const values = prices.map(price => Math.max(K - price, 0));\n    \n    // Backward induction\n    for (let j = steps - 1; j >= 0; j--) {\n      for (let i = 0; i <= j; i++) {\n        values[i] = Math.exp(-r * dt) * (p * values[i] + (1 - p) * values[i + 1]);\n      }\n    }\n    \n    return values[0];\n  };\n\n  const getOptionPrice = (S, K, T, r, sigma, q, isCall) => {\n    switch(pricingModel) {\n      case 'black76':\n        const F = S * Math.exp((r - q) * T);\n        return isCall ? black76Call(F, K, T, r, sigma) : black76Put(F, K, T, r, sigma);\n      case 'binomial':\n        return isCall ? binomialCall(S, K, T, r, sigma, q) : binomialPut(S, K, T, r, sigma, q);\n      case 'blackscholes':\n      default:\n        return isCall ? blackScholesCall(S, K, T, r, sigma, q) : blackScholesPut(S, K, T, r, sigma, q);\n    }\n  };\n\n  const handlePriceSlider = (newPrice, isCallSpread) => {\n    if (!result) return;\n\n    const S = parseFloat(spotPrice);\n    const K = parseFloat(strikePrice);\n    const v1 = parseFloat(iv1) / 100;\n    const r = parseFloat(riskFreeRate) / 100;\n    const q = parseFloat(dividend) / 100;\n    \n    const d1 = new Date(date1);\n    const d2 = new Date(date2);\n    const now = new Date();\n    \n    const d1_16NY = new Date(d1);\n    d1_16NY.setHours(22, 0, 0, 0);\n    \n    const d2_16NY = new Date(d2);\n    d2_16NY.setHours(22, 0, 0, 0);\n\n    const msPerDay = 24 * 60 * 60 * 1000;\n    const daysToExp1 = (d1_16NY - now) / msPerDay;\n    const daysToExp2 = (d2_16NY - now) / msPerDay;\n    \n    const T1 = daysToExp1 / 365;\n    const T2 = daysToExp2 / 365;\n    \n    const frontPrice = isCallSpread \n      ? getOptionPrice(S, K, T1, r, v1, q, true)\n      : getOptionPrice(S, K, T1, r, v1, q, false);\n    \n    // Target Back-Option Preis basierend auf neuer Spread-Preis\n    const targetBackPrice = newPrice + frontPrice;\n    \n    // BinÃ¤re Suche nach der IV2, die zu targetBackPrice fÃ¼hrt\n    let v2Low = 0.001;\n    let v2High = 3.0;\n    let v2Mid = 1.0;\n    \n    for (let iteration = 0; iteration < 100; iteration++) {\n      v2Mid = (v2Low + v2High) / 2;\n      const backPrice = isCallSpread \n        ? getOptionPrice(S, K, T2, r, v2Mid, q, true)\n        : getOptionPrice(S, K, T2, r, v2Mid, q, false);\n      \n      const diff = backPrice - targetBackPrice;\n      \n      if (Math.abs(diff) < 0.00001) break;\n      \n      if (diff > 0) {\n        v2High = v2Mid;\n      } else {\n        v2Low = v2Mid;\n      }\n    }\n    \n    // Mit dieser gefundenen IV2 berechne den echten FF\n    const numerator = (T2 * v2Mid * v2Mid) - (T1 * v1 * v1);\n    const denominator = T2 - T1;\n    \n    let newFF;\n    if (numerator >= 0 && denominator > 0) {\n      const forwardVol = Math.sqrt(numerator / denominator);\n      newFF = ((v1 / forwardVol) - 1) * 100;\n    } else {\n      newFF = parseFloat(result.forwardFactor);\n    }\n    \n    if (isCallSpread) {\n      setCallPriceSlider(newPrice);\n      setAdjustedFFCall(newFF);\n    } else {\n      setPutPriceSlider(newPrice);\n      setAdjustedFFPut(newFF);\n    }\n  };\n\n  const calculateResults = () => {\n    try {\n      const d1 = new Date(date1);\n      const d2 = new Date(date2);\n      \n      if (d2 <= d1) {\n        setResult({ error: 'Expiration 2 muss nach Expiration 1 liegen' });\n        return;\n      }\n\n      // Berechne verbleibende Zeit mit BerÃ¼cksichtigung der NY-SchlieÃŸzeit (16:00 EST = 22:00 Berlin)\n      const now = new Date();\n      const d1_16NY = new Date(d1);\n      d1_16NY.setHours(22, 0, 0, 0); // 16:00 EST = 22:00 Berlin (CET)\n      \n      const d2_16NY = new Date(d2);\n      d2_16NY.setHours(22, 0, 0, 0); // 16:00 EST = 22:00 Berlin (CET)\n\n      // Berechne verbleibende Tage mit Dezimalgenauigkeit (keine Rundung)\n      const msPerDay = 24 * 60 * 60 * 1000;\n      const daysToExp1 = (d1_16NY - now) / msPerDay;\n      const daysToExp2 = (d2_16NY - now) / msPerDay;\n\n      if (daysToExp1 <= 0 || daysToExp2 <= 0) {\n        setResult({ error: 'Ablaufdatum liegt in der Vergangenheit' });\n        return;\n      }\n\n      // Zeitberechnung in Jahren - KEINE Rundung!\n      const T1 = daysToExp1 / 365;\n      const T2 = daysToExp2 / 365;\n\n      const v1 = parseFloat(iv1) / 100;\n      const v2 = parseFloat(iv2) / 100;\n      const S = parseFloat(spotPrice);\n      const K = parseFloat(strikePrice);\n      const r = parseFloat(riskFreeRate) / 100;\n      const q = parseFloat(dividend) / 100;\n\n      if (v1 <= 0 || v2 <= 0 || S <= 0 || K <= 0) {\n        setResult({ error: 'Bitte Ã¼berprÃ¼fe deine Eingaben' });\n        return;\n      }\n\n      const numerator = (T2 * v2 * v2) - (T1 * v1 * v1);\n      const denominator = T2 - T1;\n      \n      if (numerator < 0) {\n        setResult({ error: 'UngÃ¼ltige IV Kombination - Forward Vol wÃ¤re imaginÃ¤r' });\n        return;\n      }\n      \n      const forwardVol = Math.sqrt(numerator / denominator);\n      const forwardVolPct = forwardVol * 100;\n      const forwardFactor = (v1 / forwardVol) - 1;\n\n      const callT1 = getOptionPrice(S, K, T1, r, v1, q, true);\n      const callT2 = getOptionPrice(S, K, T2, r, v2, q, true);\n      const callCalendarSpread = callT2 - callT1;\n\n      const putT1 = getOptionPrice(S, K, T1, r, v1, q, false);\n      const putT2 = getOptionPrice(S, K, T2, r, v2, q, false);\n      const putCalendarSpread = putT2 - putT1;\n\n      // FF = 30%\n      const targetForwardFactor30 = 0.30;\n      const requiredForwardVol30 = v1 / (1 + targetForwardFactor30);\n      const iv2Squared30 = (requiredForwardVol30 * requiredForwardVol30 * (T2 - T1) + T1 * v1 * v1) / T2;\n      const requiredIV230 = Math.sqrt(Math.max(0, iv2Squared30));\n      \n      const callT2At30 = getOptionPrice(S, K, T2, r, requiredIV230, q, true);\n      const maxCallCalendarPrice30 = callT2At30 - callT1;\n      \n      const putT2At30 = getOptionPrice(S, K, T2, r, requiredIV230, q, false);\n      const maxPutCalendarPrice30 = putT2At30 - putT1;\n\n      // FF = 0%\n      const targetForwardFactor0 = 0;\n      const requiredForwardVol0 = v1 / (1 + targetForwardFactor0);\n      const iv2Squared0 = (requiredForwardVol0 * requiredForwardVol0 * (T2 - T1) + T1 * v1 * v1) / T2;\n      const requiredIV20 = Math.sqrt(Math.max(0, iv2Squared0));\n      \n      const callT2At0 = getOptionPrice(S, K, T2, r, requiredIV20, q, true);\n      const callCalendarSpreadAt0 = callT2At0 - callT1;\n      \n      const putT2At0 = getOptionPrice(S, K, T2, r, requiredIV20, q, false);\n      const putCalendarSpreadAt0 = putT2At0 - putT1;\n\n      const newResult = {\n        forwardVolPct: parseFloat(forwardVolPct).toFixed(2),\n        forwardFactor: (parseFloat(forwardFactor) * 100).toFixed(2),\n        daysToExp1: parseFloat(daysToExp1).toFixed(2),\n        daysToExp2: parseFloat(daysToExp2).toFixed(2),\n        callT1: parseFloat(callT1).toFixed(2),\n        callT2: parseFloat(callT2).toFixed(2),\n        callCalendarSpread: parseFloat(callCalendarSpread).toFixed(2),\n        putT1: parseFloat(putT1).toFixed(2),\n        putT2: parseFloat(putT2).toFixed(2),\n        putCalendarSpread: parseFloat(putCalendarSpread).toFixed(2),\n        maxCallCalendarPrice30: Math.max(0, parseFloat(maxCallCalendarPrice30)).toFixed(2),\n        maxPutCalendarPrice30: Math.max(0, parseFloat(maxPutCalendarPrice30)).toFixed(2),\n        callCalendarSpreadAt0: parseFloat(callCalendarSpreadAt0).toFixed(2),\n        putCalendarSpreadAt0: parseFloat(putCalendarSpreadAt0).toFixed(2),\n        error: null,\n        timestamp: new Date().toLocaleString('de-DE')\n      };\n\n      setResult(newResult);\n      \n      const historyEntry = {\n        ticker: ticker || 'N/A',\n        date: date1,\n        ff: parseFloat(newResult.forwardFactor),\n        callSpreadCurrent: newResult.callCalendarSpread,\n        putSpreadCurrent: newResult.putCalendarSpread,\n        callSpreadFF30: newResult.maxCallCalendarPrice30,\n        putSpreadFF30: newResult.maxPutCalendarPrice30,\n        callSpreadFF0: newResult.callCalendarSpreadAt0,\n        putSpreadFF0: newResult.putCalendarSpreadAt0,\n        timestamp: newResult.timestamp\n      };\n      setTradeHistory([historyEntry, ...tradeHistory.slice(0, 9)]);\n\n    } catch (err) {\n      setResult({ error: 'Fehler bei der Berechnung: ' + err.message });\n    }\n  };\n\n  const renderCalendar = (value, onChange, show, setShow) => {\n    if (!show) return null;\n\n    const today = new Date();\n    let fridays = [];\n    let currentDate = new Date(today);\n    \n    while (fridays.length < 50) {\n      if (currentDate.getDay() === 5) {\n        fridays.push(new Date(currentDate));\n      }\n      currentDate.setDate(currentDate.getDate() + 1);\n    }\n\n    return (\n      <div className={`absolute ${darkMode ? 'bg-gray-800 border-gray-600' : 'bg-white border-blue-300'} border-2 rounded-lg p-4 z-50 shadow-lg max-h-96 overflow-y-auto w-64`}>\n        <div className=\"flex justify-between items-center mb-4 sticky top-0 bg-inherit\">\n          <h3 className={`font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>Next 50 Fridays</h3>\n          <button onClick={() => setShow(false)} className={`hover:opacity-70 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>âœ•</button>\n        </div>\n\n        <div className=\"space-y-1\">\n          {fridays.map(friday => {\n            const dateStr = friday.toISOString().split('T')[0];\n            const isSelected = dateStr === value;\n            const daysAway = Math.floor((friday - today) / (1000 * 60 * 60 * 24));\n            \n            return (\n              <button\n                key={dateStr}\n                onClick={() => {\n                  onChange(dateStr);\n                  setShow(false);\n                }}\n                className={`w-full text-left px-3 py-2 rounded text-sm font-semibold transition-all ${\n                  isSelected \n                    ? 'bg-blue-600 text-white' \n                    : darkMode\n                    ? 'bg-gray-700 text-yellow-300 hover:bg-gray-600'\n                    : 'bg-yellow-100 text-gray-900 hover:bg-yellow-200'\n                }`}\n              >\n                {friday.toLocaleDateString('de-DE')} ({daysAway}d)\n              </button>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  const getFFColor = (ff) => {\n    const ffNum = parseFloat(ff);\n    if (ffNum >= 30) return 'bg-green-100 border-green-500 text-green-900';\n    if (ffNum >= 16) return 'bg-yellow-100 border-yellow-500 text-yellow-900';\n    return darkMode ? 'bg-gray-700 border-gray-600 text-gray-300' : 'bg-gray-50 border-gray-300 text-gray-900';\n  };\n\n  const chartData = [\n    { dte: 0, iv: (parseFloat(iv1)).toFixed(2) },\n    { dte: (parseFloat(result?.daysToExp1) || 7) / 2, iv: (parseFloat(iv1) * 0.7 + parseFloat(iv2) * 0.3).toFixed(2) },\n    { dte: parseFloat(result?.daysToExp2) || 14, iv: (parseFloat(iv2)).toFixed(2) }\n  ];\n\n  const exportCSV = () => {\n    if (!result || result.error) return;\n    \n    const csv = [\n      ['Calendar Spread Trade'],\n      ['Datum', new Date().toLocaleString('de-DE')],\n      [],\n      ['Expiration 1', date1],\n      ['Expiration 2', date2],\n      ['IV Exp 1', iv1 + '%'],\n      ['IV Exp 2', iv2 + '%'],\n      ['Aktienkurs', spotPrice],\n      ['Strike', strikePrice],\n      [],\n      ['Forward Volatility', result.forwardVolPct + '%'],\n      ['Forward Faktor', result.forwardFactor + '%'],\n      ['Call Calendar Spread', result.callCalendarSpread],\n      ['Put Calendar Spread', result.putCalendarSpread],\n      ['Max Call fÃ¼r FF +30%', result.maxCallCalendarPrice30],\n      ['Max Put fÃ¼r FF +30%', result.maxPutCalendarPrice30]\n    ].map(row => row.join(',')).join('\\n');\n\n    const blob = new Blob([csv], { type: 'text/csv' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `calendar-trade-${new Date().toISOString().split('T')[0]}.csv`;\n    a.click();\n  };\n\n  // Auto-calculate when parameters change\n  useEffect(() => {\n    // Only auto-calculate if we have all required values\n    if (date1 && date2 && iv1 && iv2 && spotPrice && strikePrice) {\n      const timeoutId = setTimeout(() => {\n        calculateResults();\n      }, 500); // Debounce for 500ms\n\n      return () => clearTimeout(timeoutId);\n    }\n  }, [date1, date2, iv1, iv2, spotPrice, strikePrice, riskFreeRate, dividend, pricingModel]);\n\n  // Debug: Log when recommended spreads change\n  useEffect(() => {\n    console.log('Recommended spreads updated:', recommendedSpreads.length, 'spreads');\n    if (recommendedSpreads.length > 0) {\n      console.log('First spread:', recommendedSpreads[0]);\n    }\n  }, [recommendedSpreads]);\n\n  // Check if earnings overlaps with strategy dates\n  useEffect(() => {\n    if (!nextEarningsDate || !date1 || !date2) {\n      setEarningsConflict(null);\n      return;\n    }\n\n    const earningsDate = new Date(nextEarningsDate);\n    const strategyStart = new Date(date1);\n    const strategyEnd = new Date(date2);\n\n    // Check if earnings falls within strategy window (inclusive)\n    if (earningsDate >= strategyStart && earningsDate <= strategyEnd) {\n      const daysUntilEarnings = Math.ceil((earningsDate - new Date()) / (1000 * 60 * 60 * 24));\n      setEarningsConflict({\n        date: nextEarningsDate,\n        timing: earningsTime,\n        daysAway: daysUntilEarnings\n      });\n    } else {\n      setEarningsConflict(null);\n    }\n  }, [nextEarningsDate, earningsTime, date1, date2]);\n\n  // Trigger calendar spread scanning when availableExpirations is properly set\n  useEffect(() => {\n    if (ticker && apiKey && availableExpirations.length >= 2 && !scanningForSpreads && recommendedSpreads.length === 0) {\n      console.log('Triggering calendar spread scan after availableExpirations update');\n      setTimeout(() => scanCalendarSpreads(), 100);\n    }\n  }, [ticker, apiKey, availableExpirations, scanningForSpreads, recommendedSpreads.length]);\n\n  const bgClass = darkMode ? 'bg-gray-900' : 'bg-gradient-to-br from-blue-50 to-indigo-100';\n  const cardClass = darkMode ? 'bg-gray-800 text-white' : 'bg-white text-gray-900';\n  const borderClass = darkMode ? 'border-gray-700' : 'border-gray-200';\n\n  return (\n    <div className={`min-h-screen ${bgClass} p-6`}>\n      <div className=\"max-w-[1800px] mx-auto\">\n        <div className={`${cardClass} rounded-lg shadow-lg p-8`}>\n          <div className=\"flex justify-between items-center mb-8\">\n            <div>\n              <div className=\"flex items-center gap-3 mb-2\">\n                <h1 className=\"text-4xl font-bold\">Calendar Spread Calculator</h1>\n                <span className={`px-3 py-1 rounded-full text-xs font-semibold ${\n                  darkMode ? 'bg-yellow-900 text-yellow-200' : 'bg-yellow-200 text-yellow-800'\n                }`}>\n                  v1.0 BETA\n                </span>\n              </div>\n              <p className={darkMode ? 'text-gray-400' : 'text-gray-600'}>Forward Volatility, Forward Factor & Calendar Spread Pricing</p>\n            </div>\n            <div className=\"flex gap-3\">\n              <select\n                value={pricingModel}\n                onChange={(e) => setPricingModel(e.target.value)}\n                className={`px-4 py-2 rounded-lg font-semibold ${\n                  darkMode\n                    ? 'bg-gray-700 border border-gray-600 text-white'\n                    : 'bg-white border border-blue-300 text-gray-900'\n                }`}\n              >\n                <option value=\"blackscholes\">Black-Scholes</option>\n                <option value=\"black76\">Black-76</option>\n                <option value=\"binomial\">Binomial</option>\n              </select>\n              <button\n                onClick={() => setDarkMode(!darkMode)}\n                className={`p-2 rounded-lg ${darkMode ? 'bg-gray-700 text-yellow-400' : 'bg-gray-200 text-gray-800'}`}\n              >\n                {darkMode ? <Sun size={24} /> : <Moon size={24} />}\n              </button>\n            </div>\n          </div>\n\n          {/* User Profile Selector */}\n          <div className=\"flex items-center justify-between mb-6\">\n            <div className=\"flex items-center gap-3\">\n              <span className=\"text-sm opacity-75\">User:</span>\n              <div className=\"flex gap-2\">\n                {['Nils', 'Mr. FF'].map((user) => (\n                  <button\n                    key={user}\n                    onClick={() => {\n                      setCurrentUser(user);\n                      localStorage.setItem('currentUser', user);\n                    }}\n                    className={`px-4 py-2 rounded-lg font-semibold transition-all ${\n                      currentUser === user\n                        ? darkMode\n                          ? 'bg-blue-600 text-white'\n                          : 'bg-blue-500 text-white'\n                        : darkMode\n                          ? 'bg-gray-700 hover:bg-gray-600 text-gray-300'\n                          : 'bg-gray-200 hover:bg-gray-300 text-gray-700'\n                    }`}\n                  >\n                    {user}\n                  </button>\n                ))}\n              </div>\n            </div>\n            <div className=\"text-sm opacity-50\">\n              Welcome, {currentUser}!\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-7 gap-6\">\n            <div className=\"lg:col-span-1 space-y-4\">\n              <h2 className=\"text-lg font-bold mb-4\">Parameters</h2>\n\n              <div>\n                <label className=\"block text-sm font-semibold mb-2\">Polygon.io API Key</label>\n                <input\n                  type=\"password\"\n                  value={apiKey}\n                  onChange={(e) => setApiKey(e.target.value)}\n                  className={`w-full px-4 py-2 border-2 rounded-lg focus:outline-none ${\n                    darkMode\n                      ? 'bg-gray-700 border-gray-600 focus:border-blue-400'\n                      : 'bg-white border-blue-300 focus:border-blue-500'\n                  }`}\n                  placeholder=\"Paste your Polygon.io API key\"\n                />\n                <a\n                  href=\"https://polygon.io/dashboard/signup\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-xs text-blue-500 hover:underline mt-1 block\"\n                >\n                  Get free API key â†’ (End-of-Day data)\n                </a>\n              </div>\n\n\n              <div className=\"relative\">\n                <label className=\"block text-sm font-semibold mb-2\">Ticker Symbol</label>\n                <div className=\"flex gap-2\">\n                  <div className=\"flex-1 relative\">\n                    <input\n                      type=\"text\"\n                      value={ticker}\n                      onChange={(e) => handleTickerChange(e.target.value)}\n                      onFocus={() => {\n                        if (ticker.length > 0) {\n                          handleTickerChange(ticker);\n                        }\n                      }}\n                      onBlur={() => {\n                        // Delay to allow click on dropdown\n                        setTimeout(() => setShowTickerDropdown(false), 200);\n                      }}\n                      onKeyDown={(e) => {\n                        if (e.key === 'Enter') {\n                          setShowTickerDropdown(false);\n                          fetchOptionData(ticker);\n                        } else if (e.key === 'Escape') {\n                          setShowTickerDropdown(false);\n                        } else if (e.key === 'ArrowDown') {\n                          if (ticker.length > 0) {\n                            handleTickerChange(ticker);\n                          }\n                        }\n                      }}\n                      className={`w-full px-4 py-2 border-2 rounded-lg focus:outline-none ${\n                        darkMode\n                          ? 'bg-gray-700 border-gray-600 focus:border-blue-400'\n                          : 'bg-white border-blue-300 focus:border-blue-500'\n                      }`}\n                      placeholder=\"e.g. AAPL, SPY, TSLA...\"\n                      disabled={loading}\n                    />\n                    {showTickerDropdown && filteredTickers.length > 0 && (\n                      <div className={`absolute z-50 w-full mt-1 max-h-64 overflow-y-auto rounded-lg shadow-lg border-2 ${\n                        darkMode\n                          ? 'bg-gray-800 border-gray-600'\n                          : 'bg-white border-gray-300'\n                      }`}>\n                        {filteredTickers.map((stock) => (\n                          <button\n                            key={stock.symbol}\n                            onClick={() => selectTicker(stock.symbol)}\n                            className={`w-full text-left px-4 py-2 hover:bg-opacity-80 transition-colors ${\n                              darkMode\n                                ? 'hover:bg-gray-700 text-white'\n                                : 'hover:bg-gray-100 text-gray-900'\n                            }`}\n                          >\n                            <div className=\"font-bold\">{stock.symbol}</div>\n                            <div className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                              {stock.name}\n                            </div>\n                          </button>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <button\n                      onClick={() => fetchOptionData(ticker)}\n                      disabled={loading}\n                      className={`px-4 py-2 rounded-lg font-semibold transition-all ${\n                        loading\n                          ? 'bg-gray-400 cursor-not-allowed'\n                          : darkMode\n                          ? 'bg-slate-600 hover:bg-slate-700 text-white'\n                          : 'bg-slate-500 hover:bg-slate-600 text-white'\n                      }`}\n                    >\n                      {loading ? '...' : 'Load'}\n                    </button>\n                    {ticker && spotPrice && (\n                      <button\n                        onClick={() => fetchOptionData(ticker)}\n                        disabled={loading}\n                        className={`px-3 py-2 rounded-lg font-semibold text-sm transition-all ${\n                          loading\n                            ? 'bg-gray-400 cursor-not-allowed'\n                            : darkMode\n                            ? 'bg-green-700 hover:bg-green-800 text-white'\n                            : 'bg-green-500 hover:bg-green-600 text-white'\n                        }`}\n                        title=\"Refresh live price\"\n                      >\n                        ðŸ”„\n                      </button>\n                    )}\n                  </div>\n                </div>\n                {loadError && (\n                  <p className=\"text-red-500 text-xs mt-1\">{loadError}</p>\n                )}\n                {loading && (\n                  <p className={`text-xs mt-1 ${darkMode ? 'text-blue-400' : 'text-blue-600'}`}>\n                    Loading stock data...\n                  </p>\n                )}\n                \n                {/* Recent Tickers */}\n                {recentTickers.length > 0 && (\n                  <div className=\"mt-2\">\n                    <p className=\"text-xs opacity-75 mb-1\">Recent:</p>\n                    <div className=\"flex flex-wrap gap-1\">\n                      {recentTickers.map((recentTicker) => (\n                        <button\n                          key={recentTicker}\n                          onClick={() => {\n                            setTicker(recentTicker);\n                            fetchOptionData(recentTicker);\n                          }}\n                          className={`px-2 py-1 text-xs rounded font-medium transition-colors ${\n                            darkMode\n                              ? 'bg-gray-700 hover:bg-gray-600 text-gray-200'\n                              : 'bg-gray-200 hover:bg-gray-300 text-gray-700'\n                          }`}\n                        >\n                          {recentTicker}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                <button\n                  onClick={loadDemoData}\n                  className={`w-full mt-2 px-4 py-2 rounded-lg font-semibold text-xs ${\n                    darkMode\n                      ? 'bg-green-700 hover:bg-green-800 text-white'\n                      : 'bg-green-500 hover:bg-green-600 text-white'\n                  }`}\n                >\n                  Load Demo Data (SPY)\n                </button>\n\n                {/* Market Info Display */}\n                {(marketCap !== null || avgOptionsVolume !== null || nextEarningsDate !== null) && (\n                  <div className={`mt-3 p-3 rounded-lg border-2 ${\n                    darkMode\n                      ? 'bg-gray-700 border-gray-600'\n                      : 'bg-blue-50 border-blue-200'\n                  }`}>\n                    <p className=\"text-xs font-semibold mb-2\">Market Info</p>\n                    <div className=\"grid grid-cols-2 gap-2 text-xs\">\n                      {marketCap !== null && (\n                        <div>\n                          <p className=\"opacity-75\">Market Cap</p>\n                          <p className=\"font-bold\">\n                            ${(marketCap / 1e9).toFixed(2)}B\n                          </p>\n                        </div>\n                      )}\n                      {avgOptionsVolume !== null && (\n                        <div>\n                          <p className=\"opacity-75\">Total Opt Vol (20d)</p>\n                          <p className=\"font-bold\">\n                            {avgOptionsVolume.toLocaleString()}\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                    {nextEarningsDate !== null && (\n                      <div className={`mt-2 p-2 rounded border ${\n                        darkMode\n                          ? 'bg-yellow-900 border-yellow-600'\n                          : 'bg-yellow-100 border-yellow-400'\n                      }`}>\n                        <p className=\"text-xs font-semibold mb-1\">ðŸ“Š Next Earnings</p>\n                        <p className=\"font-bold\">\n                          {new Date(nextEarningsDate).toLocaleDateString('en-US', { \n                            weekday: 'short', \n                            year: 'numeric', \n                            month: 'short', \n                            day: 'numeric' \n                          })}\n                        </p>\n                        {earningsTime && (\n                          <p className=\"text-xs opacity-75 mt-1\">\n                            {earningsTime}\n                          </p>\n                        )}\n                        {(() => {\n                          const daysAway = Math.floor((new Date(nextEarningsDate) - new Date()) / (1000 * 60 * 60 * 24));\n                          return (\n                            <p className=\"text-xs opacity-75 mt-1\">\n                              {daysAway > 0 \n                                ? `${daysAway} days away` \n                                : daysAway === 0 \n                                  ? 'Today!' \n                                  : `${Math.abs(daysAway)} days ago`}\n                            </p>\n                          );\n                        })()}\n                      </div>\n                    )}\n                  </div>\n                )}\n\n                {/* Earnings Overlap Warning */}\n                {earningsConflict && (\n                  <div className={`mt-3 p-3 rounded-lg border-2 ${\n                    darkMode\n                      ? 'bg-red-900 border-red-600'\n                      : 'bg-red-50 border-red-400'\n                  }`}>\n                    <p className=\"text-xs font-semibold mb-1\">âš ï¸ Earnings During Strategy</p>\n                    <p className=\"text-xs\">\n                      Earnings on <span className=\"font-bold\">{new Date(earningsConflict.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}</span> falls within your selected dates.\n                    </p>\n                    {earningsConflict.timing && (\n                      <p className=\"text-xs opacity-75 mt-1\">\n                        {earningsConflict.timing}\n                      </p>\n                    )}\n                    <p className=\"text-xs opacity-75 mt-1\">\n                      {earningsConflict.daysAway > 0 \n                        ? `${earningsConflict.daysAway} days away` \n                        : earningsConflict.daysAway === 0 \n                          ? 'Today!' \n                          : `${Math.abs(earningsConflict.daysAway)} days ago`}\n                    </p>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"relative\">\n                <label className=\"block text-sm font-semibold mb-2\">Expiration 1</label>\n                <select\n                  value={date1}\n                  onChange={(e) => {\n                    setDate1(e.target.value);\n                    updateIVForDate(e.target.value, true);\n                  }}\n                  className={`w-full px-4 py-2 border-2 rounded-lg ${\n                    darkMode\n                      ? 'bg-gray-700 border-gray-600 text-white'\n                      : 'bg-white border-blue-300 text-gray-900'\n                  }`}\n                >\n                  {availableExpirations.length > 0 ? (\n                    availableExpirations.map(date => {\n                      const dte = calculateDTE(date);\n                      return (\n                        <option key={date} value={date}>\n                          {new Date(date).toLocaleDateString('en-US', { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' })} ({dte} DTE)\n                        </option>\n                      );\n                    })\n                  ) : (\n                    <option value={date1}>{new Date(date1).toLocaleDateString('en-US')}</option>\n                  )}\n                </select>\n              </div>\n\n              <div className=\"relative\">\n                <label className=\"block text-sm font-semibold mb-2\">Expiration 2</label>\n                <select\n                  value={date2}\n                  onChange={(e) => {\n                    setDate2(e.target.value);\n                    updateIVForDate(e.target.value, false);\n                  }}\n                  className={`w-full px-4 py-2 border-2 rounded-lg ${\n                    darkMode\n                      ? 'bg-gray-700 border-gray-600 text-white'\n                      : 'bg-white border-blue-300 text-gray-900'\n                  }`}\n                >\n                  {availableExpirations.length > 0 ? (\n                    availableExpirations.map(date => {\n                      const dte = calculateDTE(date);\n                      return (\n                        <option key={date} value={date}>\n                          {new Date(date).toLocaleDateString('en-US', { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' })} ({dte} DTE)\n                        </option>\n                      );\n                    })\n                  ) : (\n                    <option value={date2}>{new Date(date2).toLocaleDateString('en-US')}</option>\n                  )}\n                </select>\n              </div>\n\n              {[\n                { label: 'IV Exp 1 (%)', value: iv1, setter: setIv1 },\n                { label: 'IV Exp 2 (%)', value: iv2, setter: setIv2 },\n                { label: 'Stock Price', value: spotPrice, setter: setSpotPrice },\n                { label: 'Strike', value: strikePrice, setter: setStrikePrice },\n                { label: 'Risk-Free Rate (%)', value: riskFreeRate, setter: setRiskFreeRate },\n                { label: 'Dividend (%)', value: dividend, setter: setDividend }\n              ].map((field, idx) => (\n                <div key={idx}>\n                  <label className=\"block text-sm font-semibold mb-2\">{field.label}</label>\n                  <input\n                    type=\"number\"\n                    value={field.value}\n                    onChange={(e) => field.setter(e.target.value)}\n                    className={`w-full px-4 py-2 border-2 rounded-lg focus:outline-none ${\n                      darkMode\n                        ? 'bg-gray-700 border-gray-600 focus:border-blue-400'\n                        : 'bg-white border-blue-300 focus:border-blue-500'\n                    }`}\n                    step=\"0.01\"\n                  />\n                </div>\n              ))}\n\n              <button\n                onClick={calculateResults}\n                className=\"w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-bold py-3 rounded-lg hover:shadow-lg transition-all transform hover:scale-105\"\n              >\n                Calculate\n              </button>\n            </div>\n\n            <div className=\"lg:col-span-5 space-y-4\">\n              {result && !result.error && (\n                <div className={`sticky top-0 z-40 px-4 py-2 rounded-lg shadow-md flex items-center justify-between ${\n                  darkMode ? 'bg-gray-800' : 'bg-white'\n                }`}>\n                  <div className=\"flex items-center gap-4\">\n                    {ticker && (\n                      <div className=\"flex items-center gap-2\">\n                        <img\n                          src={`https://img.logokit.com/ticker/${ticker}?token=pk_fr93b6bfb5c425f6e3db62&format=png`}\n                          alt={ticker}\n                          className=\"w-8 h-8 rounded-lg object-contain\"\n                          onError={(e) => {\n                            // Fallback to colored circle with letter if logo fails\n                            e.target.style.display = 'none';\n                            e.target.nextElementSibling.style.display = 'flex';\n                          }}\n                        />\n                        <div className={`w-8 h-8 rounded-full hidden items-center justify-center font-bold text-white ${\n                          ticker[0] <= 'F' ? 'bg-blue-500' :\n                          ticker[0] <= 'L' ? 'bg-purple-500' :\n                          ticker[0] <= 'R' ? 'bg-green-500' :\n                          ticker[0] <= 'W' ? 'bg-orange-500' : 'bg-red-500'\n                        }`}>\n                          {ticker[0]}\n                        </div>\n                        <div className=\"flex flex-col\">\n                          <div className=\"flex items-baseline gap-2\">\n                        <span className=\"font-bold\">{ticker}</span>\n                            {spotPrice && (\n                              <div className=\"flex flex-col\">\n                                <span className={`text-lg font-semibold ${darkMode ? 'text-blue-400' : 'text-blue-600'}`}>\n                                  ${parseFloat(spotPrice).toFixed(2)}\n                                </span>\n                                {priceSource && (\n                                  <span className={`text-xs ${darkMode ? 'text-green-400' : 'text-green-600'}`}>\n                                    ðŸ“¡ {priceSource}\n                                  </span>\n                                )}\n                              </div>\n                            )}\n                          </div>\n                          <span className=\"text-[10px] opacity-50\">Options data 15 min delayed, stock price last close</span>\n                        </div>\n                      </div>\n                    )}\n                    <div>\n                      <span className=\"text-xs opacity-75\">Forward Vol:</span>\n                      <span className=\"ml-2 text-lg font-bold text-green-600\">{result.forwardVolPct}%</span>\n                    </div>\n                    <div className={`px-3 py-1 rounded ${\n                      parseFloat(result.forwardFactor) >= 30\n                        ? 'bg-green-100 text-green-900'\n                        : parseFloat(result.forwardFactor) >= 16\n                        ? 'bg-yellow-100 text-yellow-900'\n                        : darkMode ? 'bg-gray-700 text-gray-300' : 'bg-gray-100 text-gray-900'\n                    }`}>\n                      <span className=\"text-xs opacity-75\">FF:</span>\n                      <span className=\"ml-2 text-xl font-bold\">{result.forwardFactor}%</span>\n                    </div>\n                  </div>\n                  <div className=\"text-xs opacity-75\">\n                    {result.daysToExp1}-{result.daysToExp2} DTE\n                  </div>\n                </div>\n              )}\n\n              {/* Recommended Calendar Spreads */}\n              {(scanningForSpreads || recommendedSpreads.length > 0) && (\n                <div className={`border-2 ${borderClass} p-4 rounded-lg ${\n                  darkMode ? 'bg-slate-800' : 'bg-slate-50'\n                }`}>\n                  <div className=\"flex justify-between items-center mb-3\">\n                    <p className=\"font-semibold text-lg\">\n                      ðŸ“Š Recommended Calendar Spreads\n                      {ticker && ` for ${ticker}`}\n                    </p>\n                    {scanningForSpreads && (\n                      <span className={`text-xs ${darkMode ? 'text-blue-400' : 'text-blue-600'}`}>\n                        Scanning...\n                      </span>\n                    )}\n                  </div>\n\n                  {/* Filter Toggle */}\n                  <div className=\"flex items-center gap-2 mb-3 pb-3 border-b border-opacity-30\" style={{ borderColor: darkMode ? '#ffffff40' : '#00000020' }}>\n                    <label className=\"flex items-center gap-2 cursor-pointer\">\n                      <input\n                        type=\"checkbox\"\n                        checked={hidePostEarningsSpreads}\n                        onChange={(e) => {\n                          setHidePostEarningsSpreads(e.target.checked);\n                          // Re-trigger scan with new filter\n                          setTimeout(() => scanCalendarSpreads(), 100);\n                        }}\n                        className=\"w-4 h-4 rounded\"\n                      />\n                      <span className=\"text-sm\">\n                        Hide post-earnings front expirations\n                      </span>\n                    </label>\n                    <span className=\"text-xs opacity-50\" title=\"For pure forward volatility plays, avoid spreads where the front leg expires after earnings\">\n                      â„¹ï¸\n                    </span>\n                  </div>\n\n                  {/* Liquidity Filters */}\n                  <div className=\"flex items-center gap-4 mb-3 pb-3 border-b border-opacity-30\" style={{ borderColor: darkMode ? '#ffffff40' : '#00000020' }}>\n                    <div className=\"flex items-center gap-2\">\n                      <label className=\"text-sm\">Min Open Interest:</label>\n                      <input\n                        type=\"number\"\n                        value={minOpenInterest}\n                        onChange={(e) => setMinOpenInterest(parseInt(e.target.value) || 0)}\n                        className={`w-20 px-2 py-1 text-xs rounded border ${\n                          darkMode \n                            ? 'bg-slate-700 border-slate-600 text-white placeholder-slate-400' \n                            : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'\n                        }`}\n                        placeholder=\"0\"\n                      />\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <label className=\"text-sm\">Min Volume:</label>\n                      <input\n                        type=\"number\"\n                        value={minVolume}\n                        onChange={(e) => setMinVolume(parseInt(e.target.value) || 0)}\n                        className={`w-20 px-2 py-1 text-xs rounded border ${\n                          darkMode \n                            ? 'bg-slate-700 border-slate-600 text-white placeholder-slate-400' \n                            : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'\n                        }`}\n                        placeholder=\"0\"\n                      />\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <label className=\"text-sm\">Max DTE Gap:</label>\n                      <input\n                        type=\"number\"\n                        value={maxDTEGap}\n                        onChange={(e) => setMaxDTEGap(parseInt(e.target.value) || 0)}\n                        className={`w-20 px-2 py-1 text-xs rounded border ${\n                          darkMode \n                            ? 'bg-slate-700 border-slate-600 text-white placeholder-slate-400' \n                            : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'\n                        }`}\n                        placeholder=\"200\"\n                      />\n                    </div>\n                    <button\n                      onClick={() => {\n                        // Just re-filter existing data, don't re-scan\n                        setRecommendedSpreads(prevSpreads => {\n                          let filtered = prevSpreads;\n                          \n                          if (hidePostEarningsSpreads) {\n                            filtered = filtered.filter(s => !s.isPostEarnings);\n                          }\n                          \n                          if (minOpenInterest > 0 || minVolume > 0) {\n                            filtered = filtered.filter(s => {\n                              const callOIMeets = (s.callOpenInterest1 >= minOpenInterest && s.callOpenInterest2 >= minOpenInterest);\n                              const putOIMeets = (s.putOpenInterest1 >= minOpenInterest && s.putOpenInterest2 >= minOpenInterest);\n                              const callVolMeets = (s.callVolume1 >= minVolume && s.callVolume2 >= minVolume);\n                              const putVolMeets = (s.putVolume1 >= minVolume && s.putVolume2 >= minVolume);\n                              \n                              return (callOIMeets && callVolMeets) || (putOIMeets && putVolMeets);\n                            });\n                          }\n                          \n                          if (maxDTEGap > 0) {\n                            filtered = filtered.filter(s => {\n                              const dteGap = s.dte2 - s.dte1;\n                              return dteGap <= maxDTEGap;\n                            });\n                          }\n                          \n                          return filtered;\n                        });\n                      }}\n                      className=\"px-3 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors\"\n                    >\n                      Apply Filters\n                    </button>\n                  </div>\n\n                  {scanningForSpreads ? (\n                    <p className=\"text-sm opacity-75\">Analyzing expiration combinations...</p>\n                  ) : recommendedSpreads.length > 0 ? (\n                    <div className=\"space-y-2 max-h-96 overflow-y-auto\">\n                      {recommendedSpreads.map((spread, idx) => (\n                        <button\n                          key={idx}\n                          onClick={() => {\n                            setDate1(spread.date1);\n                            setDate2(spread.date2);\n                            setIv1(spread.iv1);\n                            setIv2(spread.iv2);\n                            setStrikePrice(spread.strike.toString());\n                          }}\n                          className={`w-full text-left p-3 rounded transition-all hover:scale-[1.02] ${\n                            spread.ff === 'âˆž'\n                              ? darkMode ? 'bg-red-900 hover:bg-red-800' : 'bg-red-100 hover:bg-red-200'\n                              : parseFloat(spread.ff) >= 30\n                              ? darkMode ? 'bg-slate-800 hover:bg-slate-700' : 'bg-slate-100 hover:bg-slate-200'\n                              : parseFloat(spread.ff) >= 16\n                              ? darkMode ? 'bg-yellow-900 hover:bg-yellow-800' : 'bg-yellow-100 hover:bg-yellow-200'\n                              : darkMode ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-100 hover:bg-gray-200'\n                          }`}\n                        >\n                          <div className=\"flex justify-between items-center\">\n                            <div>\n                              <span className=\"font-bold text-lg\">#{idx + 1}</span>\n                              <span className=\"ml-3 font-semibold\">\n                                {new Date(spread.date1).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })} â†’ {new Date(spread.date2).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}\n                              </span>\n                              <span className=\"ml-2 text-xs opacity-75\">\n                                ({Math.floor(spread.dte1)} â†’ {Math.floor(spread.dte2)} DTE)\n                              </span>\n                              {spread.isPostEarnings && (\n                                <span className=\"ml-2 px-2 py-0.5 text-[10px] font-semibold rounded bg-orange-500 text-white\" title=\"Front expiration is after earnings\">\n                                  POST-ðŸ“Š\n                                </span>\n                              )}\n                            </div>\n                            <div className=\"text-right\">\n                              <div className=\"text-2xl font-bold\">\n                                FF: {spread.ff === 'âˆž' ? 'âˆž' : `${spread.ff.toFixed(2)}%`}\n                              </div>\n                              <div className=\"text-sm font-semibold mb-2\">\n                                <div className=\"flex justify-between\">\n                                  <span>Call: ${spread.callSpread}</span>\n                                  <span>Put: ${spread.putSpread}</span>\n                              </div>\n                              </div>\n                              <div className=\"text-sm font-bold mb-1\">\n                                <div className=\"flex justify-between\">\n                                  <span className=\"text-blue-600\">Call OI: {spread.callOpenInterest1} â†’ {spread.callOpenInterest2}</span>\n                                  <span className=\"text-red-600\">Put OI: {spread.putOpenInterest1} â†’ {spread.putOpenInterest2}</span>\n                                </div>\n                              </div>\n                              <div className=\"text-sm font-bold\">\n                                <div className=\"flex justify-between\">\n                                  <span className=\"text-blue-500\">Call Vol: {spread.callVolume1} â†’ {spread.callVolume2}</span>\n                                  <span className=\"text-red-500\">Put Vol: {spread.putVolume1} â†’ {spread.putVolume2}</span>\n                                </div>\n                              </div>\n                              <button\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  addSpreadToWatchlist(spread);\n                                }}\n                                className=\"mt-2 px-2 py-1 text-[10px] bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors\"\n                                title=\"Add to Watchlist\"\n                              >\n                                + Watch\n                              </button>\n                            </div>\n                          </div>\n                          <div className=\"text-xs mt-2 opacity-75 flex gap-4\">\n                            <span>IV: {spread.iv1}% â†’ {spread.iv2}%</span>\n                            <span>Strike: ${spread.strike}</span>\n                          </div>\n                        </button>\n                      ))}\n                    </div>\n                  ) : (\n                    <p className=\"text-sm opacity-75\">No spreads found</p>\n                  )}\n\n                  <button\n                    onClick={scanCalendarSpreads}\n                    disabled={scanningForSpreads || !ticker || !apiKey}\n                    className={`w-full mt-3 px-4 py-2 rounded-lg font-semibold text-sm transition-all ${\n                      scanningForSpreads || !ticker || !apiKey\n                        ? 'bg-gray-400 cursor-not-allowed'\n                        : darkMode\n                        ? 'bg-slate-600 hover:bg-slate-700 text-white'\n                        : 'bg-slate-500 hover:bg-slate-600 text-white'\n                    }`}\n                  >\n                    {scanningForSpreads ? 'Scanning...' : 'Rescan for Best Spreads'}\n                  </button>\n                </div>\n              )}\n\n              {/* Market-Wide FF Scanner */}\n              <div className={`border-2 ${borderClass} p-4 rounded-lg ${\n                darkMode ? 'bg-indigo-900' : 'bg-indigo-50'\n              }`}>\n                <div className=\"flex justify-between items-center mb-3\">\n                  <p className=\"font-semibold text-lg\">\n                    ðŸ” Market Scanner: Top FF Opportunities\n                  </p>\n                  <button\n                    onClick={fetchMarketScan}\n                    disabled={loadingMarketScan}\n                    className={`text-xs px-3 py-1 rounded transition-all ${\n                      loadingMarketScan\n                        ? 'bg-gray-400 cursor-not-allowed text-white'\n                        : 'bg-indigo-500 hover:bg-indigo-600 text-white'\n                    }`}\n                  >\n                    {loadingMarketScan ? 'Scanning...' : 'Start Market Scan'}\n                  </button>\n                </div>\n                \n                {lastMarketScan && (\n                  <p className=\"text-xs opacity-75 mb-3\">\n                    Last scan: {new Date(lastMarketScan).toLocaleString()}\n                  </p>\n                )}\n                \n                {loadingMarketScan && (\n                  <div className=\"text-center py-4\">\n                    <p className=\"text-sm opacity-75\">Scanning market for best FF opportunities...</p>\n                    <p className=\"text-xs opacity-50 mt-1\">This may take 2-5 minutes</p>\n                  </div>\n                )}\n                \n                {!loadingMarketScan && marketScanResults.length > 0 && (\n                  <div className=\"space-y-2 max-h-96 overflow-y-auto\">\n                    {marketScanResults.slice(0, 20).map((stock, idx) => (\n                      <button\n                        key={idx}\n                        onClick={() => {\n                          setTicker(stock.symbol);\n                          fetchOptionData(stock.symbol);\n                        }}\n                        className={`w-full text-left p-3 rounded transition-all hover:scale-[1.01] ${\n                          parseFloat(stock.bestFF) >= 30\n                            ? darkMode ? 'bg-slate-800 hover:bg-slate-700' : 'bg-slate-100 hover:bg-slate-200'\n                            : parseFloat(stock.bestFF) >= 20\n                            ? darkMode ? 'bg-yellow-900 hover:bg-yellow-800' : 'bg-yellow-100 hover:bg-yellow-200'\n                            : darkMode ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-100 hover:bg-gray-200'\n                        }`}\n                      >\n                        <div className=\"flex justify-between items-center\">\n                          <div>\n                            <span className=\"font-bold\">#{idx + 1} {stock.symbol}</span>\n                            <span className=\"ml-2 text-xs opacity-75\">{stock.name}</span>\n                            {stock.hasEarnings && (\n                              <span className=\"ml-2 px-1.5 py-0.5 text-[10px] font-semibold rounded bg-yellow-500 text-black\" title=\"Has upcoming earnings\">\n                                ðŸ“Š\n                              </span>\n                            )}\n                          </div>\n                          <div className=\"text-right\">\n                            <div className=\"text-xl font-bold\">FF: {stock.bestFF}%</div>\n                            <div className=\"text-xs opacity-75\">${stock.price?.toFixed(2)}</div>\n                          </div>\n                        </div>\n                        <div className=\"text-xs mt-1 opacity-75 flex gap-3\">\n                          <span>MC: ${(stock.marketCap / 1e9).toFixed(1)}B</span>\n                          {stock.spread && (\n                            <span>{stock.spread.exp1} â†’ {stock.spread.exp2}</span>\n                          )}\n                        </div>\n                      </button>\n                    ))}\n                  </div>\n                )}\n                \n                {!loadingMarketScan && marketScanResults.length === 0 && lastMarketScan && (\n                  <p className=\"text-sm opacity-75 text-center py-4\">\n                    No opportunities found. Try running a market scan.\n                  </p>\n                )}\n              </div>\n\n              {result && (\n                <>\n                  {result.error ? (\n                    <div className={`border-2 border-red-500 p-6 rounded-lg ${darkMode ? 'bg-red-900 text-red-100' : 'bg-red-50 text-red-900'}`}>\n                      <p className=\"font-semibold\">{result.error}</p>\n                    </div>\n                  ) : (\n                    <>\n                      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n                        <div className={`border-2 border-slate-500 p-4 rounded-lg ${darkMode ? 'bg-slate-800 text-slate-100' : 'bg-slate-50 text-slate-900'}`}>\n                          <p className=\"text-xs mb-1 opacity-75\">Forward Volatility</p>\n                          <p className=\"text-3xl font-bold\">{result.forwardVolPct}%</p>\n                          <p className=\"text-xs mt-2 opacity-75\">{result.daysToExp1}-{result.daysToExp2} DTE</p>\n                        </div>\n\n                        <div className={`border-4 p-4 rounded-lg ${getFFColor(result.forwardFactor)}`}>\n                          <p className=\"text-xs mb-1 opacity-75\">Forward Faktor</p>\n                          <p className=\"text-3xl font-bold\">{result.forwardFactor}%</p>\n                          <p className=\"text-xs mt-2 opacity-75\">\n                            {parseFloat(result.forwardFactor) >= 30 ? 'âœ“ Excellent' : parseFloat(result.forwardFactor) >= 16 ? 'âœ“ Good' : 'Below threshold'}\n                          </p>\n                        </div>\n                      </div>\n\n                      {/* GroÃŸe Box mit Preisen */}\n                      <div className={`border-4 border-red-600 p-6 rounded-lg ${darkMode ? 'bg-red-900 text-red-100' : 'bg-red-50 text-red-900'}`}>\n                        <p className=\"text-lg font-bold mb-4\">TARGET PRICE FOR FF 30%</p>\n                        <div className=\"grid grid-cols-2 gap-6\">\n                          <div className=\"border-2 border-red-400 p-4 rounded\">\n                            <p className=\"text-sm font-semibold mb-2\">CALL SPREAD</p>\n                            <div className=\"text-center\">\n                              <p className=\"text-5xl font-bold text-red-600\">${result.maxCallCalendarPrice30}</p>\n                              <p className=\"text-xs opacity-75 mt-2\">Max Entry Price</p>\n                            </div>\n                          </div>\n\n                          <div className=\"border-2 border-red-400 p-4 rounded\">\n                            <p className=\"text-sm font-semibold mb-2\">PUT SPREAD</p>\n                            <div className=\"text-center\">\n                              <p className=\"text-5xl font-bold text-red-600\">${result.maxPutCalendarPrice30}</p>\n                              <p className=\"text-xs opacity-75 mt-2\">Max Entry Price</p>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* GroÃŸe Box mit aktuellen Preisen */}\n                      <div className={`border-4 border-blue-600 p-6 rounded-lg ${darkMode ? 'bg-blue-900 text-blue-100' : 'bg-blue-50 text-blue-900'}`}>\n                        <p className=\"text-lg font-bold mb-4\">CURRENT CALENDAR SPREADS</p>\n                        <div className=\"grid grid-cols-2 gap-6\">\n                          <div className=\"border-2 border-blue-400 p-4 rounded\">\n                            <p className=\"text-sm font-semibold mb-2\">CALL SPREAD</p>\n                            <div className=\"space-y-1\">\n                              <div className=\"flex justify-between\">\n                                <span>Current Price:</span>\n                                <span className=\"font-bold text-2xl text-blue-600\">${result.callCalendarSpread}</span>\n                              </div>\n                              <div className=\"flex justify-between text-xs opacity-75\">\n                                <span>For FF 0%:</span>\n                                <span className=\"font-semibold\">${result.callCalendarSpreadAt0}</span>\n                              </div>\n                            </div>\n                          </div>\n\n                          <div className=\"border-2 border-pink-400 p-4 rounded\">\n                            <p className=\"text-sm font-semibold mb-2\">PUT SPREAD</p>\n                            <div className=\"space-y-1\">\n                              <div className=\"flex justify-between\">\n                                <span>Current Price:</span>\n                                <span className=\"font-bold text-2xl text-pink-600\">${result.putCalendarSpread}</span>\n                              </div>\n                              <div className=\"flex justify-between text-xs opacity-75\">\n                                <span>For FF 0%:</span>\n                                <span className=\"font-semibold\">${result.putCalendarSpreadAt0}</span>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n                        <div className={`border-2 border-blue-500 p-4 rounded-lg ${darkMode ? 'bg-blue-900 text-blue-100' : 'bg-blue-50 text-blue-900'}`}>\n                          <p className=\"font-semibold mb-3\">Call Calendar Spread</p>\n                          <div className=\"grid grid-cols-3 gap-2 text-sm mb-3\">\n                            <div>\n                              <p className=\"text-xs opacity-75\">Front (T1)</p>\n                              <p className=\"font-bold\">${result.callT1}</p>\n                              {volumeCallT1 !== null && (\n                                <p className=\"text-xs opacity-60\">Vol: {volumeCallT1.toLocaleString()}</p>\n                              )}\n                              {oiCallT1 !== null && (\n                                <p className=\"text-xs opacity-60\">OI: {oiCallT1.toLocaleString()}</p>\n                              )}\n                            </div>\n                            <div>\n                              <p className=\"text-xs opacity-75\">Back (T2)</p>\n                              <p className=\"font-bold\">${result.callT2}</p>\n                              {volumeCallT2 !== null && (\n                                <p className=\"text-xs opacity-60\">Vol: {volumeCallT2.toLocaleString()}</p>\n                              )}\n                              {oiCallT2 !== null && (\n                                <p className=\"text-xs opacity-60\">OI: {oiCallT2.toLocaleString()}</p>\n                              )}\n                            </div>\n                            <div>\n                              <p className=\"text-xs opacity-75\">Spread</p>\n                              <p className=\"font-bold text-lg\">${result.callCalendarSpread}</p>\n                            </div>\n                          </div>\n                          <div className={`p-2 rounded text-xs opacity-75 mb-3`}>Max fÃ¼r FF +30%: <span className=\"font-bold\">${result.maxCallCalendarPrice30}</span></div>\n                          \n                          <div className=\"space-y-2\">\n                            <p className=\"text-xs font-semibold\">Preis-Simulator</p>\n                            <input\n                              type=\"range\"\n                              min=\"0\"\n                              max={parseFloat(result.callCalendarSpread) * 4}\n                              step=\"0.01\"\n                              defaultValue={result.callCalendarSpread}\n                              onChange={(e) => handlePriceSlider(parseFloat(e.target.value), true)}\n                              className=\"w-full h-2 bg-blue-300 rounded-lg appearance-none cursor-pointer\"\n                            />\n                            <div className=\"flex justify-between text-xs\">\n                              <span>${(parseFloat(result.maxCallCalendarPrice30)).toFixed(2)} (FF 30%)</span>\n                              <span className=\"font-bold\">${callPriceSlider !== null ? callPriceSlider.toFixed(2) : result.callCalendarSpread}</span>\n                              <span>${(parseFloat(result.callCalendarSpread) * 4).toFixed(2)} (max)</span>\n                            </div>\n                            {callPriceSlider !== null && adjustedFFCall !== null && (\n                              <div className={`p-2 rounded text-center text-sm font-bold border-2 ${\n                                adjustedFFCall >= 30 ? 'border-green-500 bg-green-200' : \n                                adjustedFFCall >= 16 ? 'border-yellow-500 bg-yellow-200' : \n                                'border-gray-400 bg-gray-200'\n                              }`}>\n                                Angepasster FF: {adjustedFFCall.toFixed(2)}%\n                              </div>\n                            )}\n                          </div>\n                        </div>\n\n                        <div className={`border-2 border-pink-500 p-4 rounded-lg ${darkMode ? 'bg-pink-900 text-pink-100' : 'bg-pink-50 text-pink-900'}`}>\n                          <p className=\"font-semibold mb-3\">Put Calendar Spread</p>\n                          <div className=\"grid grid-cols-3 gap-2 text-sm mb-3\">\n                            <div>\n                              <p className=\"text-xs opacity-75\">Front (T1)</p>\n                              <p className=\"font-bold\">${result.putT1}</p>\n                            </div>\n                            <div>\n                              <p className=\"text-xs opacity-75\">Back (T2)</p>\n                              <p className=\"font-bold\">${result.putT2}</p>\n                            </div>\n                            <div>\n                              <p className=\"text-xs opacity-75\">Spread</p>\n                              <p className=\"font-bold text-lg\">${result.putCalendarSpread}</p>\n                            </div>\n                          </div>\n                          <div className={`p-2 rounded text-xs opacity-75 mb-3`}>Max fÃ¼r FF +30%: <span className=\"font-bold\">${result.maxPutCalendarPrice30}</span></div>\n                          \n                          <div className=\"space-y-2\">\n                            <p className=\"text-xs font-semibold\">Preis-Simulator</p>\n                            <input\n                              type=\"range\"\n                              min=\"0\"\n                              max={parseFloat(result.putCalendarSpread) * 4}\n                              step=\"0.01\"\n                              defaultValue={result.putCalendarSpread}\n                              onChange={(e) => handlePriceSlider(parseFloat(e.target.value), false)}\n                              className=\"w-full h-2 bg-pink-300 rounded-lg appearance-none cursor-pointer\"\n                            />\n                            <div className=\"flex justify-between text-xs\">\n                              <span>${(parseFloat(result.maxPutCalendarPrice30)).toFixed(2)} (FF 30%)</span>\n                              <span className=\"font-bold\">${putPriceSlider !== null ? putPriceSlider.toFixed(2) : result.putCalendarSpread}</span>\n                              <span>${(parseFloat(result.putCalendarSpread) * 4).toFixed(2)} (max)</span>\n                            </div>\n                            {putPriceSlider !== null && adjustedFFPut !== null && (\n                              <div className={`p-2 rounded text-center text-sm font-bold border-2 ${\n                                adjustedFFPut >= 30 ? 'border-green-500 bg-green-200' : \n                                adjustedFFPut >= 16 ? 'border-yellow-500 bg-yellow-200' : \n                                'border-gray-400 bg-gray-200'\n                              }`}>\n                                Angepasster FF: {adjustedFFPut.toFixed(2)}%\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n\n                      <button\n                        onClick={exportCSV}\n                        className=\"w-full bg-slate-600 hover:bg-slate-700 text-white font-bold py-2 rounded-lg flex items-center justify-center gap-2\"\n                      >\n                        <Download size={20} /> Ergebnis als CSV exportieren\n                      </button>\n\n                      {tradeHistory.length > 0 && (\n                        <div className={`border-2 ${borderClass} p-4 rounded-lg`}>\n                          <p className=\"font-semibold mb-3\">Trade History (letzte 10)</p>\n                          <div className=\"text-sm space-y-2 max-h-96 overflow-y-auto\">\n                            {tradeHistory.map((trade, idx) => (\n                              <div key={idx} className={`p-3 rounded ${\n                                parseFloat(trade.ff) >= 30\n                                  ? darkMode ? 'bg-slate-800' : 'bg-slate-100'\n                                  : parseFloat(trade.ff) >= 16\n                                  ? darkMode ? 'bg-yellow-900' : 'bg-yellow-100'\n                                  : darkMode ? 'bg-gray-700' : 'bg-gray-100'\n                              }`}>\n                                <div className=\"flex items-center gap-2 font-semibold mb-2\">\n                                  {trade.ticker && trade.ticker !== 'N/A' && (\n                                    <>\n                                      <img\n                                        src={`https://img.logokit.com/ticker/${trade.ticker}?token=pk_fr93b6bfb5c425f6e3db62&format=png`}\n                                        alt={trade.ticker}\n                                        className=\"w-6 h-6 rounded object-contain\"\n                                        onError={(e) => {\n                                          e.target.style.display = 'none';\n                                          e.target.nextElementSibling.style.display = 'flex';\n                                        }}\n                                      />\n                                      <div className={`w-6 h-6 rounded-full hidden items-center justify-center text-xs font-bold text-white ${\n                                        trade.ticker[0] <= 'F' ? 'bg-blue-500' :\n                                        trade.ticker[0] <= 'L' ? 'bg-purple-500' :\n                                        trade.ticker[0] <= 'R' ? 'bg-green-500' :\n                                        trade.ticker[0] <= 'W' ? 'bg-orange-500' : 'bg-red-500'\n                                      }`}>\n                                        {trade.ticker[0]}\n                                      </div>\n                                    </>\n                                  )}\n                                  <span>{trade.ticker} - {trade.date} | FF: {trade.ff.toFixed(2)}%</span>\n                                </div>\n                                <div className=\"text-xs mt-1 space-y-1\">\n                                  <div>Aktuell: Call ${parseFloat(trade.callSpreadCurrent).toFixed(4)} | Put ${parseFloat(trade.putSpreadCurrent).toFixed(4)}</div>\n                                  <div>@ FF 30%: Call ${parseFloat(trade.callSpreadFF30).toFixed(4)} | Put ${parseFloat(trade.putSpreadFF30).toFixed(4)}</div>\n                                  <div>@ FF 0%: Call ${parseFloat(trade.callSpreadFF0).toFixed(4)} | Put ${parseFloat(trade.putSpreadFF0).toFixed(4)}</div>\n                                </div>\n                              </div>\n                            ))}\n                          </div>\n                        </div>\n                      )}\n                    </>\n                  )}\n                </>\n              )}\n            </div>\n\n            {/* Watchlist Sidebar */}\n            <div className=\"lg:col-span-1 space-y-4\">\n              <h2 className=\"text-lg font-bold mb-4\">Watchlist</h2>\n              \n              {watchlist.length === 0 ? (\n                <div className={`p-4 rounded-lg border-2 ${\n                  darkMode ? 'bg-gray-800 border-gray-700' : 'bg-gray-50 border-gray-200'\n                }`}>\n                  <p className=\"text-sm opacity-75 text-center\">\n                    Scan tickers to build your watchlist\n                  </p>\n          </div>\n              ) : (\n                <div className=\"space-y-2\">\n                  {watchlist.map((item, idx) => (\n                    <div\n                      key={idx}\n                      className={`w-full text-left p-3 rounded-lg border-2 transition-all hover:scale-[1.02] ${\n                        item.type === 'spread'\n                          ? darkMode\n                            ? 'bg-slate-800 border-slate-600'\n                            : 'bg-slate-50 border-slate-200'\n                          : ticker === item.symbol\n                          ? darkMode\n                            ? 'bg-blue-900 border-blue-500'\n                            : 'bg-blue-50 border-blue-500'\n                          : darkMode\n                            ? 'bg-gray-800 border-gray-700 hover:bg-gray-700'\n                            : 'bg-gray-50 border-gray-200 hover:bg-gray-100'\n                      }`}\n                    >\n                      {item.type === 'spread' ? (\n                        // Calendar Spread Watchlist Item\n                        <div>\n                          <div className=\"flex items-center gap-2 mb-2\">\n                            <span className=\"text-xs font-semibold bg-slate-500 text-white px-2 py-0.5 rounded\">\n                              SPREAD\n                            </span>\n                            <span className=\"font-bold\">{item.symbol}</span>\n        </div>\n                          \n                          <div className=\"text-sm mb-2\">\n                            {new Date(item.date1).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })} â†’ {new Date(item.date2).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}\n      </div>\n                          \n                          <div className=\"flex items-center justify-between\">\n                            <div>\n                              <div className=\"text-xs opacity-75\">FF</div>\n                              <div className={`text-lg font-bold ${\n                                parseFloat(item.ff) >= 30\n                                  ? 'text-green-500'\n                                  : parseFloat(item.ff) >= 16\n                                  ? 'text-yellow-500'\n                                  : 'text-gray-500'\n                              }`}>\n                                {item.ff}%\n                              </div>\n                            </div>\n                            <div className=\"text-right\">\n                              <div className=\"text-xs opacity-75\">Strike</div>\n                              <div className=\"text-sm font-bold\">${item.strike}</div>\n                            </div>\n                          </div>\n                          \n                          <div className=\"text-xs mt-2 opacity-75 flex gap-2\">\n                            <span>IV: {item.iv1}% â†’ {item.iv2}%</span>\n                            <span>DTE: {item.dte1} â†’ {item.dte2}</span>\n                          </div>\n                        </div>\n                      ) : (\n                        // Stock Watchlist Item\n                        <button\n                          onClick={() => {\n                            setTicker(item.symbol);\n                            fetchOptionData(item.symbol);\n                          }}\n                          className=\"w-full text-left\"\n                        >\n                          <div className=\"flex items-center gap-2 mb-2\">\n                            <img\n                              src={`https://img.logokit.com/ticker/${item.symbol}?token=pk_fr93b6bfb5c425f6e3db62&format=png`}\n                              alt={item.symbol}\n                              className=\"w-6 h-6 rounded object-contain\"\n                              onError={(e) => {\n                                e.target.style.display = 'none';\n                              }}\n                            />\n                            <span className=\"font-bold\">{item.symbol}</span>\n                            {item.hasEarnings && (\n                              <span className=\"px-1.5 py-0.5 text-[10px] font-semibold rounded bg-yellow-500 text-black\" title=\"Has upcoming earnings\">\n                                ðŸ“Š\n                              </span>\n                            )}\n                          </div>\n                          \n                          {item.price && (\n                            <div className=\"text-sm mb-1\">\n                              ${parseFloat(item.price).toFixed(2)}\n                            </div>\n                          )}\n                          \n                          <div className=\"flex items-center justify-between\">\n                            <div>\n                              <div className=\"text-xs opacity-75\">Best FF</div>\n                              <div className={`text-lg font-bold ${\n                                parseFloat(item.bestFF) >= 30\n                                  ? 'text-green-500'\n                                  : parseFloat(item.bestFF) >= 16\n                                  ? 'text-yellow-500'\n                                  : 'text-gray-500'\n                              }`}>\n                                {item.bestFF}%\n                              </div>\n                            </div>\n                            \n                            {item.hasEarnings && item.earningsDate && (\n                              <div className=\"text-right\">\n                                <div className=\"text-xs opacity-75\">Earnings</div>\n                                <div className=\"text-xs font-semibold\">\n                                  {new Date(item.earningsDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}\n                                </div>\n                              </div>\n                            )}\n                          </div>\n                        </button>\n                      )}\n                      \n                      <div className=\"text-[10px] opacity-50 mt-2\">\n                        {new Date(item.lastUpdated).toLocaleDateString('en-US', { month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' })}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n              \n              {watchlist.length > 0 && (\n                <button\n                  onClick={() => {\n                    setWatchlist([]);\n                    localStorage.removeItem('watchlist');\n                  }}\n                  className={`w-full px-3 py-2 text-xs rounded transition-all ${\n                    darkMode\n                      ? 'bg-gray-700 hover:bg-gray-600 text-gray-300'\n                      : 'bg-gray-200 hover:bg-gray-300 text-gray-700'\n                  }`}\n                >\n                  Clear Watchlist\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Changelog */}\n      <div className=\"mt-12 max-w-[1800px] mx-auto px-6\">\n        <div className={`${cardClass} rounded-lg shadow-lg p-6`}>\n          <h2 className=\"text-2xl font-bold mb-4\">ðŸ“ Changelog</h2>\n          <div className=\"space-y-4\">\n            <div className=\"border-l-4 border-blue-500 pl-4\">\n              <h3 className=\"font-semibold text-blue-600\">Latest Updates</h3>\n              <ul className=\"text-sm mt-2 space-y-1\">\n                <li>â€¢ <strong>Enhanced Watchlist:</strong> Now supports both stocks and calendar spreads</li>\n                <li>â€¢ <strong>User Profiles:</strong> Separate watchlists for Nils and Mr. FF</li>\n                <li>â€¢ <strong>Market Scanner:</strong> On-demand scan for best FF opportunities (â‰¥$500M market cap)</li>\n                <li>â€¢ <strong>Total Options Volume:</strong> Now shows complete options volume (puts + calls, all strikes)</li>\n                <li>â€¢ <strong>Post-Earnings Filter:</strong> Hide spreads with front expiration after earnings</li>\n                <li>â€¢ <strong>Wider Layout:</strong> Optimized for larger screens (1800px max-width)</li>\n              </ul>\n            </div>\n            \n            <div className=\"border-l-4 border-green-500 pl-4\">\n              <h3 className=\"font-semibold text-green-600\">Previous Features</h3>\n              <ul className=\"text-sm mt-2 space-y-1\">\n                <li>â€¢ <strong>Forward Volatility Calculator:</strong> Black-Scholes based FF calculations</li>\n                <li>â€¢ <strong>Earnings Integration:</strong> Finnhub API for upcoming earnings dates</li>\n                <li>â€¢ <strong>Calendar Spread Scanner:</strong> Automated spread recommendations</li>\n                <li>â€¢ <strong>Real-time Data:</strong> Polygon.io integration for live options data</li>\n                <li>â€¢ <strong>Dark Mode:</strong> Toggle between light and dark themes</li>\n                <li>â€¢ <strong>Recent Tickers:</strong> Quick access to recently viewed stocks</li>\n              </ul>\n            </div>\n            \n            <div className=\"border-l-4 border-purple-500 pl-4\">\n              <h3 className=\"font-semibold text-purple-600\">Technical Details</h3>\n              <ul className=\"text-sm mt-2 space-y-1\">\n                <li>â€¢ <strong>Built with:</strong> React, Tailwind CSS, Vercel Serverless Functions</li>\n                <li>â€¢ <strong>Data Sources:</strong> Polygon.io (options), Finnhub (earnings), Yahoo Finance (prices)</li>\n                <li>â€¢ <strong>Storage:</strong> LocalStorage for user preferences and watchlists</li>\n                <li>â€¢ <strong>Performance:</strong> 4-hour caching for market scans, non-blocking UI</li>\n                <li>â€¢ <strong>Forward Volatility:</strong> Based on SSRN research paper methodology</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <Analytics /> \n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}